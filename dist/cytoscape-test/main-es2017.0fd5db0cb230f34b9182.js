(self.webpackChunkcytoscape_test=self.webpackChunkcytoscape_test||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},3433:function(t,e,n){var r;t.exports=(r=n(9207),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=r},function(t,e,n){"use strict";var r=n(0).LGraph;function i(t,e,n){r.call(this,t,e,n),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];i.prototype.initOrdering=function(){this.inOrder=[]},i.prototype.getOrder=function(){return this.inOrder},i.prototype.getCenterX=function(){return this.centerX},i.prototype.getCenterY=function(){return this.centerY},i.prototype.getRadius=function(){return this.radius},i.prototype.getSize=function(){return this.getNodes().length},i.prototype.getTotalCrossingOfCircle=function(){var t=0;for(var e in this.inOrder){var n=e.getTotalCrossingOfEdges();if(-1===n)return-1;t+=n}return t/4},i.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},i.prototype.getNodeSeparation=function(){return this.nodeSeparation},i.prototype.setNodeSeparation=function(t){this.nodeSeparation=t},i.prototype.correctAngles=function(){var t=this;t.currentIndex=0,t.inOrder.forEach(function(e){return t.putInOrder(e)})},i.prototype.putInOrder=function(t){for(var e=this,n=e.getNodes(),r=!1,i=0;i<n.length;i++)if(n[i].id==t.id){r=!0;break}if(!r)throw"The node must be a member of LGraph";e.inOrder[e.currentIndex]=t,t.setIndex(e.currentIndex),t.setAngle(0===e.currentIndex?0:e.inOrder[e.currentIndex-1].getAngle()+2*Math.PI*(t.getDiagonal()/2+e.nodeSeparation+e.inOrder[e.currentIndex-1].getDiagonal()/2)/e.perimeter),e.currentIndex++},i.prototype.findNodeToPlace=function(){var t=this,e=void 0;if(0===t.stack.length)e=t.findUnorderedSmallestDegreeNode();else{for(var n=!1;!n&&0!==t.stack.length;)n=!(e=t.stack.pop()).isOrdered();n||(e=void 0)}if(void 0===e&&(e=t.findUnorderedSmallestDegreeNode()),void 0!==e)for(var r=e.getNeighborsSortedByDegree(),i=r.length-1;i>=0;i--){var o=r[i];o.isOrdered()||t.stack.push(o)}return e},i.prototype.calculateRadius=function(){var t=this,e=0;t.getNodes().forEach(function(t){return e+=Math.sqrt(t.getWidth()*t.getWidth()+t.getHeight()*t.getHeight())}),t.perimeter=e+t.getNodes().length*t.nodeSeparation;var n=t.perimeter/(2*Math.PI);t.getParent().setWidth(2*n),t.getParent().setHeight(2*n),t.getParent().setCenter(t.getParent().getWidth(),t.getParent().getHeight()),t.centerX=t.getParent().getCenterX(),t.centerY=t.getParent().getCenterY(),t.radius=t.getParent().getHeight()/2},i.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(t){return t.calculateTotalCrossing()})},i.prototype.loadOldIndicesOfNodes=function(){for(var t=0;t<this.inOrder.length;t++)this.inOrder[t].setIndex(t)},i.prototype.reOrderVertices=function(){var t=this;this.getNodes().forEach(function(e){return t.inOrder[e.getIndex()]=e})},i.prototype.findUnorderedSmallestDegreeNode=function(){var t=Number.MAX_SAFE_INTEGER,e=void 0;return this.getNodes().forEach(function(n){n.getDegree()<t&&!n.isOrdered()&&(t=n.getDegree(),e=n)}),e},t.exports=i},function(t,e,n){"use strict";var r=n(0).LayoutConstants;function i(){}for(var o in r)i[o]=r[o];i.DEFAULT_NODE_SEPARATION=60,t.exports=i},function(t,e,n){"use strict";var r=n(0).LEdge;function i(t,e,n){r.call(this,t,e,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];i.prototype.getOtherEnd=function(t){return r.prototype.getOtherEnd(t)},i.prototype.crossesWithEdge=function(t){var e=this,n=e.getSource().getIndex(),r=e.getTarget().getIndex(),i=t.getSource().getIndex(),o=t.getTarget().getIndex();if(-1===n||-1===r||-1===i||-1===o)return!1;var a=t.getSource().getCircDistWithTheNode(e.getSource()),s=t.getTarget().getCircDistWithTheNode(e.getSource()),l=e.getTarget().getCircDistWithTheNode(e.getSource());return l<Math.max(a,s)&&l>Math.min(a,s)&&0!==s&&0!==a},i.prototype.crossingWithEdge=function(t){return this.crossesWithEdge(t)?1:0},i.prototype.calculateTotalCrossingWithList=function(t){var e=this,n=0;return t.forEach(function(t){return n+=e.crossingWithEdge(t)}),n},t.exports=i},function(t,e,n){"use strict";var r=n(0).LNode;function i(t,e,n,i){void 0!==n&&void 0!==i?r.call(this,t,e,n,i):r.call(this,t,e),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var o in n(0),i.prototype=Object.create(r.prototype),r)i[o]=r[o];i.prototype.getCircle=function(){return this.getOwner()},i.prototype.setIndex=function(t){this.circleIndex=t,this.isCrossingNumberValid=!1},i.prototype.getIndex=function(){return this.circleIndex},i.prototype.getNeighborsSortedByDegree=function(){var t=Array.from(this.getNeighborsList());return(t=t.filter(function(t){return-1===t.getIndex()})).sort(function(t,e){return t.getDegree()-e.getDegree()}),t},i.prototype.getDegree=function(){return this.getEdges().length},i.prototype.isOrdered=function(){return this.getIndex()>-1},i.prototype.setAngle=function(t){this.angle=t},i.prototype.getAngle=function(){return this.angle},i.prototype.getCircDistWithTheNode=function(t){var e=this,n=t.getIndex();if(-1===n||-1===e.getIndex())return-1;var r=e.getIndex()-n;return r<0&&(r+=e.getCircle().getSize()),r},i.prototype.getCrossingNumberWithNode=function(t){var e=0;return this.getEdges().forEach(function(n){t.getEdges().forEach(function(t){e+=n.crossingWithEdge(t)})}),e},i.prototype.getTotalCrossingOfEdges=function(){var t=this;return t.isCrossingNumberValid||(t.calculateTotalCrossing(),t.isCrossingNumberValid=!0),t.totalCrossingOfEdges},i.prototype.calculateTotalCrossing=function(){var t=this,e=0,n=[];n.push.apply(n,t.getCircle().getEdges()),n=n.filter(function(e){return t.getEdges().indexOf(e)<0}),t.getEdges().forEach(function(t){return e+=t.calculateTotalCrossingWithList(n)}),t.totalCrossingOfEdges=e},t.exports=i},function(t,e,n){"use strict";var r=n(0).Layout,i=n(2),o=n(1),a=n(4),s=n(3);function l(){r.call(this),this.nodeSeparation=i.DEFAULT_NODE_SEPARATION}for(var u in l.prototype=Object.create(r.prototype),r)l[u]=r[u];l.prototype.newGraph=function(t){return this.avsdfCircle=new o(null,this.graphManager,t),this.avsdfCircle},l.prototype.newNode=function(t){return new a(this.graphManager,t)},l.prototype.newEdge=function(t){return new s(null,null,t)},l.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},n=0;n<t.length;n++){var r=t[n].rect,i=t[n].id;e[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return e},l.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var t=this.avsdfCircle;for(t.setNodeSeparation(this.nodeSeparation),t.calculateRadius(),t.initOrdering();!t.hasFinishedOrdering();){var e=t.findNodeToPlace();t.putInOrder(e)}return!0},l.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},l.prototype.updateNodeCoordinates=function(){var t=this.graphManager.getRoot();t.getNodes().forEach(function(e){e.setCenter(t.getCenterX()+t.getRadius()*Math.cos(e.getAngle()),t.getCenterY()+t.getRadius()*Math.sin(e.getAngle()))})},l.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var t=this.avsdfCircle.getNodes();return t.sort(function(t,e){return e.getTotalCrossingOfEdges()-t.getTotalCrossingOfEdges()}),t},l.prototype.oneStepPostProcess=function(t){for(var e=this,n=t.getTotalCrossingOfEdges(),r=void 0,i=Array.from(t.getNeighborsList()),o=0;o<i.length;o++){var a=i[o],s=t.getIndex(),l=(a.getIndex()+1)%e.avsdfCircle.getSize();if(s!==l){t.setIndex(l),s<t.getIndex()&&(s+=e.avsdfCircle.getSize());for(var u=t.getIndex();u<s;){var c=e.avsdfCircle.getOrder()[u%e.avsdfCircle.getSize()];c.setIndex((c.getIndex()+1)%e.avsdfCircle.getSize()),u+=1}t.calculateTotalCrossing(),(r=t.getTotalCrossingOfEdges())>=n?e.avsdfCircle.loadOldIndicesOfNodes():(e.avsdfCircle.reOrderVertices(),n=r)}}},t.exports=l},function(t,e,n){"use strict";var r={};r.layoutBase=n(0),r.AVSDFConstants=n(2),r.AVSDFEdge=n(3),r.AVSDFCircle=n(1),r.AVSDFLayout=n(5),r.AVSDFNode=n(4),t.exports=r}]))},9207:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_HALF_SIZE=(r.SIMPLE_NODE_SIZE=40)/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.INITIAL_WORLD_BOUNDARY=(r.WORLD_BOUNDARY=1e6)/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(9);function a(t,e,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=t,this.target=e}for(var s in a.prototype=Object.create(r.prototype),r)a[s]=r[s];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(t,e){for(var n=this.getOtherEnd(t),r=e.getGraphManager().getRoot();;){if(n.getOwner()==e)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},a.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=a},function(t,e,n){"use strict";t.exports=function(t){this.vGraphObject=t}},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(13),a=n(0),s=n(16),l=n(4);function u(t,e,n,a){null==n&&null==a&&(a=e),r.call(this,a),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=t,this.rect=null!=n&&null!=e?new o(e.x,e.y,n.width,n.height):new o}for(var c in u.prototype=Object.create(r.prototype),r)u[c]=r[c];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(t){this.rect.width=t},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(t){this.rect.height=t},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},u.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},u.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},u.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},u.prototype.getEdgeListToNode=function(t){var e=[],n=this;return n.edges.forEach(function(r){if(r.target==t){if(r.source!=n)throw"Incorrect edge source!";e.push(r)}}),e},u.prototype.getEdgesBetween=function(t){var e=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";(r.target==t||r.source==t)&&e.push(r)}),e},u.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach(function(n){if(n.source==e)t.add(n.target);else{if(n.target!=e)throw"Incorrect incidency!";t.add(n.source)}}),t},u.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),n=0;n<e.length;n++)e[n].withChildren().forEach(function(e){t.add(e)});return t},u.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),n=0;n<e.length;n++)t+=e[n].getNoOfChildren();return 0==t&&(t=1),t},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var t,e,n=-a.INITIAL_WORLD_BOUNDARY,r=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_X+s.nextDouble()*(r-n)+n;var i=-a.INITIAL_WORLD_BOUNDARY,o=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_Y+s.nextDouble()*(o-i)+i,this.rect.x=t,this.rect.y=e},u.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),n=t.getBottom()-t.getTop();this.labelWidth>e&&(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(t){var e=this.rect.x;e>a.WORLD_BOUNDARY?e=a.WORLD_BOUNDARY:e<-a.WORLD_BOUNDARY&&(e=-a.WORLD_BOUNDARY);var n=this.rect.y;n>a.WORLD_BOUNDARY?n=a.WORLD_BOUNDARY:n<-a.WORLD_BOUNDARY&&(n=-a.WORLD_BOUNDARY);var r=new l(e,n),i=t.inverseTransformPoint(r);this.setLocation(i.x,i.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=u},function(t,e,n){"use strict";function r(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(t){this.x=t},r.prototype.setY=function(t){this.y=t},r.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(0),a=n(6),s=n(3),l=n(1),u=n(13),c=n(12),h=n(11);function d(t,e,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof a?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var p in d.prototype=Object.create(r.prototype),r)d[p]=r[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(t,e,n){if(null==e&&null==n){var r=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(e.owner!=n.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=n.owner?null:(i.source=e,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),e.edges.push(i),n!=e&&n.edges.push(i),i)},d.prototype.remove=function(t){var e=t;if(t instanceof s){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=e.edges.slice(),r=n.length,i=0;i<r;i++)(o=n[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(a=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(t instanceof l){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var a,u=o.source.edges.indexOf(o),c=o.target.edges.indexOf(o);if(!(u>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(u,1),o.target!=o.source&&o.target.edges.splice(c,1),-1==(a=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(a,1)}},d.prototype.updateLeftTop=function(){for(var t,e,n,r=i.MAX_VALUE,o=i.MAX_VALUE,a=this.getNodes(),s=a.length,l=0;l<s;l++){var u=a[l];r>(t=u.getTop())&&(r=t),o>(e=u.getLeft())&&(o=e)}return r==i.MAX_VALUE?null:(n=null!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=r-n,new c(this.left,this.top))},d.prototype.updateBounds=function(t){for(var e,n,r,o,a,s=i.MAX_VALUE,l=-i.MAX_VALUE,c=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];t&&null!=g.child&&g.updateBounds(),s>(e=g.getLeft())&&(s=e),l<(n=g.getRight())&&(l=n),c>(r=g.getTop())&&(c=r),h<(o=g.getBottom())&&(h=o)}var v=new u(s,c,l-s,h-c);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},d.calculateBounds=function(t){for(var e,n,r,o,a=i.MAX_VALUE,s=-i.MAX_VALUE,l=i.MAX_VALUE,c=-i.MAX_VALUE,h=t.length,d=0;d<h;d++){var p=t[d];a>(e=p.getLeft())&&(a=e),s<(n=p.getRight())&&(s=n),l>(r=p.getTop())&&(l=r),c<(o=p.getBottom())&&(c=o)}return new u(a,l,s-a,c-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,n=e.length,r=0;r<n;r++)t+=e[r].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,n,r=new h,i=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(t){r.push(t),i.add(t)});0!==r.length;)for(var a=(e=(o=r.shift()).getEdges()).length,s=0;s<a;s++)null==(n=e[s].getOtherEndInGraph(o,this))||i.has(n)||n.withChildren().forEach(function(t){r.push(t),i.add(t)});if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach(function(e){e.owner==t&&l++}),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=d},function(t,e,n){"use strict";var r,i=n(1);function o(t){r=n(5),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),n=this.add(t,e);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(t,e,n,r,i){if(null==n&&null==r&&null==i){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}i=n,n=t;var o=(r=e).getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(t){if(t instanceof r){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],a=(o=o.concat(e.getEdges())).length,s=0;s<a;s++)e.remove(n=o[s]);var l=[];for(a=(l=l.concat(e.getNodes())).length,s=0;s<a;s++)e.remove(l[s]);e==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(e);this.graphs.splice(u,1),e.parent=null}else if(t instanceof i){if(null==(n=t))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),n=e.length,r=0;r<n;r++)t=t.concat(e[r].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),n=0;n<e.length;n++)t=t.concat(e[n].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var n,r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}for(r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,n,r,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=(t=o[s]).source,n=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=n,e!=n){for(r=e.getOwner();null==t.lca;){for(t.targetInLca=n,i=n.getOwner();null==t.lca;){if(i==r){t.lca=i;break}if(i==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=i.getParent(),i=t.targetInLca.getOwner()}if(r==this.rootGraph)break;null==t.lca&&(t.sourceInLca=r.getParent(),r=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var n=t.getOwner();null!=n;){for(var r=e.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(t,e){null==t&&null==e&&(t=this.rootGraph,e=1);for(var n,r=t.getNodes(),i=r.length,o=0;o<i;o++)(n=r[o]).inclusionTreeDepth=e,null!=n.child&&this.calcInclusionTreeDepths(n.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,n=0;n<e;n++)if(this.isOneAncestorOfOther((t=this.edges[n]).source,t.target))return!0;return!1},t.exports=o},function(t,e,n){"use strict";var r=n(0);function i(){}for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT=3*(i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=i},function(t,e,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(t,e,n,r){if(!t.intersects(e))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,i),n[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),n[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var a=o*n[0],s=n[1]/o;n[0]<s?s=n[0]:a=n[1],n[0]=-1*i[0]*(s/2+r),n[1]=-1*i[1]*(a/2+r)},i.decideDirectionsForOverlappingNodes=function(t,e,n){n[0]=t.getCenterX()<e.getCenterX()?-1:1,n[1]=t.getCenterY()<e.getCenterY()?-1:1},i.getIntersection2=function(t,e,n){var r=t.getCenterX(),i=t.getCenterY(),o=e.getCenterX(),a=e.getCenterY();if(t.intersects(e))return n[0]=r,n[1]=i,n[2]=o,n[3]=a,!0;var s=t.getX(),l=t.getY(),u=t.getRight(),c=t.getX(),h=t.getBottom(),d=t.getRight(),p=t.getWidthHalf(),f=t.getHeightHalf(),g=e.getX(),v=e.getY(),y=e.getRight(),m=e.getX(),_=e.getBottom(),b=e.getRight(),x=e.getWidthHalf(),E=e.getHeightHalf(),C=!1,w=!1;if(r===o){if(i>a)return n[0]=r,n[1]=l,n[2]=o,n[3]=_,!1;if(i<a)return n[0]=r,n[1]=h,n[2]=o,n[3]=v,!1}else if(i===a){if(r>o)return n[0]=s,n[1]=i,n[2]=y,n[3]=a,!1;if(r<o)return n[0]=u,n[1]=i,n[2]=g,n[3]=a,!1}else{var L=t.height/t.width,T=e.height/e.width,D=(a-i)/(o-r),A=void 0,R=void 0,N=void 0,P=void 0;if(-L===D?r>o?(n[0]=c,n[1]=h,C=!0):(n[0]=u,n[1]=l,C=!0):L===D&&(r>o?(n[0]=s,n[1]=l,C=!0):(n[0]=d,n[1]=h,C=!0)),-T===D?o>r?(n[2]=m,n[3]=_,w=!0):(n[2]=y,n[3]=v,w=!0):T===D&&(o>r?(n[2]=g,n[3]=v,w=!0):(n[2]=b,n[3]=_,w=!0)),C&&w)return!1;if(r>o?i>a?(A=this.getCardinalDirection(L,D,4),R=this.getCardinalDirection(T,D,2)):(A=this.getCardinalDirection(-L,D,3),R=this.getCardinalDirection(-T,D,1)):i>a?(A=this.getCardinalDirection(-L,D,1),R=this.getCardinalDirection(-T,D,3)):(A=this.getCardinalDirection(L,D,2),R=this.getCardinalDirection(T,D,4)),!C)switch(A){case 1:N=l,n[0]=r+-f/D,n[1]=N;break;case 2:N=i+p*D,n[0]=d,n[1]=N;break;case 3:N=h,n[0]=r+f/D,n[1]=N;break;case 4:N=i+-p*D,n[0]=c,n[1]=N}if(!w)switch(R){case 1:P=v,n[2]=o+-E/D,n[3]=P;break;case 2:P=a+x*D,n[2]=b,n[3]=P;break;case 3:P=_,n[2]=o+E/D,n[3]=P;break;case 4:P=a+-x*D,n[2]=m,n[3]=P}}return!1},i.getCardinalDirection=function(t,e,n){return t>e?n:1+n%4},i.getIntersection=function(t,e,n,i){if(null==i)return this.getIntersection2(t,e,n);var o,a,s,l,u,c,h,d=t.x,p=t.y,f=e.x,g=e.y,v=n.x,y=n.y,m=i.x,_=i.y;return u=f*p-d*g,c=m*y-v*_,0==(h=(o=g-p)*(l=v-m)-(a=_-y)*(s=d-f))?null:new r((s*c-l*u)/h,(a*u-o*c)/h)},i.angleOfVector=function(t,e,n,r){var i=void 0;return t!==n?(i=Math.atan((r-e)/(n-t)),n<t?i+=Math.PI:r<e&&(i+=this.TWO_PI)):i=r<e?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(t,e,n,r){var i=t.x,o=t.y,a=e.x,s=e.y,l=n.x,u=n.y,c=r.x,h=r.y,d=(a-i)*(h-u)-(c-l)*(s-o);if(0===d)return!1;var p=((h-u)*(c-i)+(l-c)*(h-o))/d,f=((o-s)*(c-i)+(a-i)*(h-o))/d;return 0<p&&p<1&&0<f&&f<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,t.exports=i},function(t,e,n){"use strict";function r(){}r.sign=function(t){return t>0?1:t<0?-1:0},r.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},r.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=r},function(t,e,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,t.exports=r},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(t){return{value:t,next:null,prev:null}},o=function(t,e,n,r){return null!==t?t.next=e:r.head=e,null!==n?n.prev=e:r.tail=e,e.prev=t,e.next=n,r.length++,e},a=function(t,e){var n=t.prev,r=t.next;return null!==n?n.next=r:e.head=r,null!==r?r.prev=n:e.tail=n,t.prev=t.next=null,e.length--,t},s=function(){function t(e){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(t){return n.push(t)})}return r(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return o(e.prev,i(t),e,this)}},{key:"insertAfter",value:function(t,e){return o(e,i(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return o(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return o(e,t,e.next,this)}},{key:"push",value:function(t){return o(this.tail,i(t),null,this)}},{key:"unshift",value:function(t){return o(null,i(t),this.head,this)}},{key:"remove",value:function(t){return a(t,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,n=this.head;e<t;)n=n.next,e++;return n.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var n=1,r=this.head;n<t;)r=r.next,n++;r.value=e}}}]),t}();t.exports=s},function(t,e,n){"use strict";function r(t,e,n){this.x=null,this.y=null,null==t&&null==e&&null==n?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==n?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==n&&(this.x=(n=t).x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(t,e,n){"Point"==t.constructor.name&&null==e&&null==n?this.setLocation((n=t).x,n.y):"number"==typeof t&&"number"==typeof e&&null==n&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},r.prototype.move=function(t,e){this.x=t,this.y=e},r.prototype.translate=function(t,e){this.x+=t,this.y+=e},r.prototype.equals=function(t){return"Point"==t.constructor.name?this.x==t.x&&this.y==t.y:this==t},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=n&&null!=r&&(this.x=t,this.y=e,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(t){this.x=t},r.prototype.getY=function(){return this.y},r.prototype.setY=function(t){this.y=t},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(t){this.width=t},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(t){this.height=t},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(){}i.lastID=0,i.createID=function(t){return i.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=i.getString(),i.lastID++),t.uniqueID)},i.getString=function(t){return null==t&&(t=i.lastID),"Object#"+t},i.isPrimitive=function(t){var e=void 0===t?"undefined":r(t);return null==t||"object"!=e&&"function"!=e},t.exports=i},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(0),o=n(6),a=n(3),s=n(1),l=n(5),u=n(4),c=n(17),h=n(27);function d(t){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}d.RANDOM_SEED=1,(d.prototype=Object.create(h.prototype)).getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},d.prototype.newGraph=function(t){return new l(null,this.graphManager,t)},d.prototype.newNode=function(t){return new a(this.graphManager,t)},d.prototype.newEdge=function(t){return new s(null,null,t)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++);var n=this.graphManager.getRoot().getNodes();for(e=0;e<n.length;e++);this.update(this.graphManager.getRoot())}},d.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof a){var e=t;if(null!=e.getChild())for(var n=e.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else t instanceof s?null!=t.vGraphObject&&t.vGraphObject.update(t):t instanceof l&&null!=t.vGraphObject&&t.vGraphObject.update(t)},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(t){if(null==t)this.transform(new u(0,0));else{var e=new c,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(n.x),e.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(e)}}},d.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,n,r=t.getNodes(),i=0;i<r.length;i++)null==(n=(e=r[i]).getChild())||0==n.getNodes().length?e.scatter():(this.positionNodesRandomly(n),e.updateBounds())},d.prototype.getFlatForest=function(){for(var t=[],e=!0,n=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(i=!1);if(!i)return t;var a=new Set,s=[],l=new Map,u=[];for(u=u.concat(n);u.length>0&&e;){for(s.push(u[0]);s.length>0&&e;){var c=s[0];s.splice(0,1),a.add(c);var h=c.getEdges();for(o=0;o<h.length;o++){var d=h[o].getOtherEnd(c);if(l.get(c)!=d){if(a.has(d)){e=!1;break}s.push(d),l.set(d,c)}}}if(e){var p=[].concat(r(a));for(t.push(p),o=0;o<p.length;o++){var f=u.indexOf(p[o]);f>-1&&u.splice(f,1)}a=new Set,l=new Map}else t=[]}return t},d.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],n=t.source,r=this.graphManager.calcLowestCommonAncestor(t.source,t.target),i=0;i<t.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),e.add(o),n=o}return a=this.newEdge(null),this.graphManager.add(a,n,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):r.remove(t),e},d.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(r(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var n=t[e];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),o=0;o<i.length;o++){var a=i[o],s=new u(a.getCenterX(),a.getCenterY()),l=n.bendpoints.get(o);l.x=s.x,l.y=s.y,a.getOwner().remove(a)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(t,e,n,r){if(null!=n&&null!=r){var i=e;return t<=50?i-=(e-e/n)/50*(50-t):i+=(e*r-e)/50*(t-50),i}var o,a;return t<=50?(o=9*e/500,a=e/10):(o=9*e/50,a=-8*e),o*t+a},d.findCenterOfTree=function(t){var e=[];e=e.concat(t);var n=[],r=new Map,i=!1,o=null;(1==e.length||2==e.length)&&(i=!0,o=e[0]);for(var a=0;a<e.length;a++){var s=(c=e[a]).getNeighborsList().size;r.set(c,c.getNeighborsList().size),1==s&&n.push(c)}var l=[];for(l=l.concat(n);!i;){var u=[];for(u=u.concat(l),l=[],a=0;a<e.length;a++){var c,h=e.indexOf(c=e[a]);h>=0&&e.splice(h,1),c.getNeighborsList().forEach(function(t){if(n.indexOf(t)<0){var e=r.get(t)-1;1==e&&l.push(t),r.set(t,e)}})}n=n.concat(l),(1==e.length||2==e.length)&&(i=!0,o=e[0])}return o},d.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=d},function(t,e,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return(r.x=1e4*Math.sin(r.seed++))-Math.floor(r.x)},t.exports=r},function(t,e,n){"use strict";var r=n(4);function i(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(t){this.lworldExtX=t},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(t){this.lworldExtY=t},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},i.prototype.transformX=function(t){var e=0,n=this.lworldExtX;return 0!=n&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/n),e},i.prototype.transformY=function(t){var e=0,n=this.lworldExtY;return 0!=n&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/n),e},i.prototype.inverseTransformX=function(t){var e=0,n=this.ldeviceExtX;return 0!=n&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/n),e},i.prototype.inverseTransformY=function(t){var e=0,n=this.ldeviceExtY;return 0!=n&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/n),e},i.prototype.inverseTransformPoint=function(t){return new r(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=i},function(t,e,n){"use strict";var r=n(15),i=n(7),o=n(0),a=n(8),s=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=i.DEFAULT_EDGE_LENGTH,this.springConstant=i.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=i.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var u in l.prototype=Object.create(r.prototype),r)l[u]=r[u];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var t,e,n,r,a,s,l=this.getGraphManager().getAllEdges(),u=0;u<l.length;u++)(t=l[u]).idealLength=this.idealEdgeLength,t.isInterGraph&&(n=t.getSource(),r=t.getTarget(),a=t.getSourceInLca().getEstimatedSize(),s=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=a+s-2*o.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=i.DEFAULT_EDGE_LENGTH*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*e))},l.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=t>i.ADAPTATION_LOWER_NODE_LIMIT?Math.max(i.COOLING_ADAPTATION_FACTOR,1-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),n=0;n<e.length;n++)this.calcSpringForce(t=e[n],t.idealLength)},l.prototype.calcRepulsionForces=function(){var t,e,n,r,o,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),o=new Set,t=0;t<l.length;t++)this.calculateRepulsionForceOfANode(n=l[t],o,a,s),o.add(n);else for(t=0;t<l.length;t++)for(n=l[t],e=t+1;e<l.length;e++)r=l[e],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},l.prototype.calcGravitationalForces=function(){for(var t=this.getAllNodesToApplyGravitation(),e=0;e<t.length;e++)this.calcGravitationalForce(t[e])},l.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},l.prototype.calcSpringForce=function(t,e){var n,r,i,o,a=t.getSource(),s=t.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(n=t.getLength())&&(o=(r=this.springConstant*(n-e))*(t.lengthY/n),a.springForceX+=i=r*(t.lengthX/n),a.springForceY+=o,s.springForceX-=i,s.springForceY-=o)},l.prototype.calcRepulsionForce=function(t,e){var n,r,o,l,u,c,h,d=t.getRect(),p=e.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){a.calcSeparationAmount(d,p,f,i.DEFAULT_EDGE_LENGTH/2),h=2*f[1];var v=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=v*(c=2*f[0]),t.repulsionForceY-=v*h,e.repulsionForceX+=v*c,e.repulsionForceY+=v*h}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(n=p.getCenterX()-d.getCenterX(),r=p.getCenterY()-d.getCenterY()):(a.getIntersection(d,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),o=n*n+r*r,l=Math.sqrt(o),h=(u=this.repulsionConstant*t.noOfChildren*e.noOfChildren/o)*r/l,t.repulsionForceX-=c=u*n/l,t.repulsionForceY-=h,e.repulsionForceX+=c,e.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(t){var e,n,r,i,o,a,s,l;n=((e=t.getOwner()).getRight()+e.getLeft())/2,r=(e.getTop()+e.getBottom())/2,i=t.getCenterX()-n,o=t.getCenterY()-r,a=Math.abs(i)+t.getWidth()/2,s=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(a>(l=e.getEstimatedSize()*this.gravityRangeFactor)||s>l)&&(t.gravitationForceX=-this.gravityConstant*i,t.gravitationForceY=-this.gravityConstant*o):(a>(l=e.getEstimatedSize()*this.compoundGravityRangeFactor)||s>l)&&(t.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},l.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),n=0;n<e.length;n++)(t=e[n]).noOfChildren=t.getNoOfChildren()},l.prototype.calcGrid=function(t){var e,n;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var r=new Array(e),i=0;i<e;i++)r[i]=new Array(n);for(i=0;i<e;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},l.prototype.addNodeToGrid=function(t,e,n){var r,i,o,a;r=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),i=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((t.getRect().height+t.getRect().y-n)/this.repulsionRange));for(var s=r;s<=i;s++)for(var l=o;l<=a;l++)this.grid[s][l].push(t),t.setGridCoordinates(r,i,o,a)},l.prototype.updateGrid=function(){var t,e=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<e.length;t++)this.addNodeToGrid(e[t],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(t,e,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var o=new Set;t.surrounding=new Array;for(var a,s=this.grid,l=t.startX-1;l<t.finishX+2;l++)for(var u=t.startY-1;u<t.finishY+2;u++)if(!(l<0||u<0||l>=s.length||u>=s[0].length))for(var c=0;c<s[l][u].length;c++)if(a=s[l][u][c],t.getOwner()==a.getOwner()&&t!=a&&!e.has(a)&&!o.has(a)){var h=Math.abs(t.getCenterX()-a.getCenterX())-(t.getWidth()/2+a.getWidth()/2),d=Math.abs(t.getCenterY()-a.getCenterY())-(t.getHeight()/2+a.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&o.add(a)}t.surrounding=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o))}for(l=0;l<t.surrounding.length;l++)this.calcRepulsionForce(t,t.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},t.exports=l},function(t,e,n){"use strict";var r=n(1),i=n(7);function o(t,e,n){r.call(this,t,e,n),this.idealLength=i.DEFAULT_EDGE_LENGTH}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];t.exports=o},function(t,e,n){"use strict";var r=n(3);function i(t,e,n,i){r.call(this,t,e,n,i),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];i.prototype.setGridCoordinates=function(t,e,n,r){this.startX=t,this.finishX=e,this.startY=n,this.finishY=r},t.exports=i},function(t,e,n){"use strict";function r(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(t){this.width=t},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(t){this.height=t},t.exports=r},function(t,e,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(t,e){var n=r.createID(t);this.contains(n)||(this.map[n]=e,this.keys.push(t))},i.prototype.contains=function(t){return r.createID(t),null!=this.map[t]},i.prototype.get=function(t){var e=r.createID(t);return this.map[e]},i.prototype.keySet=function(){return this.keys},t.exports=i},function(t,e,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(t){var e=r.createID(t);this.contains(e)||(this.set[e]=t)},i.prototype.remove=function(t){delete this.set[r.createID(t)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(t){return this.set[r.createID(t)]==t},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),n=e.length,r=0;r<n;r++)t.push(this.set[e[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(t){for(var e=t.length,n=0;n<e;n++)this.add(t[n])},t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(11),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),(null!==n||void 0!==n)&&(this.compareFunction=this._defaultCompareFunction);var r;r=e instanceof i?e.size():e.length,this._quicksort(e,0,r-1)}return r(t,[{key:"_quicksort",value:function(t,e,n){if(e<n){var r=this._partition(t,e,n);this._quicksort(t,e,r),this._quicksort(t,r+1,n)}}},{key:"_partition",value:function(t,e,n){for(var r=this._get(t,e),i=e,o=n;;){for(;this.compareFunction(r,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,i),r);)i++;if(!(i<o))return o;this._swap(t,i,o),i++,o--}}},{key:"_get",value:function(t,e){return t instanceof i?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,n){t instanceof i?t.set_object_at(e,n):t[e]=n}},{key:"_swap",value:function(t,e,n){var r=this._get(t,e);this._set(t,e,this._get(t,n)),this._set(t,n,r)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=o},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,t),this.sequence1=e,this.sequence2=n,this.match_score=r,this.mismatch_penalty=o,this.gap_penalty=a,this.iMax=e.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[s][l]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[u][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[o[0]],this.tracebackGrid[n][r]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],n=this.tracebackGrid[e.pos[0]][e.pos[1]];n[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),n[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),n[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var n=[],r=-1;-1!==(r=t.indexOf(e,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=o},function(t,e,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(7),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(4),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(24),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(5),r.LEdge=n(1),r.LGraphManager=n(6),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(25),t.exports=r},function(t,e,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(t,e){this.listeners.push({event:t,callback:e})},i.removeListener=function(t,e){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===t&&r.callback===e&&this.listeners.splice(n,1)}},i.emit=function(t,e){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];t===r.event&&r.callback(e)}},t.exports=r}])},6704:function(t,e,n){var r;t.exports=(r=n(9716),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports=r},function(t,e,n){"use strict";var r=n(0).FDLayoutConstants;function i(){}for(var o in r)i[o]=r[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,t.exports=i},function(t,e,n){"use strict";var r=n(0).FDLayoutEdge;function i(t,e,n){r.call(this,t,e,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];t.exports=i},function(t,e,n){"use strict";var r=n(0).LGraph;function i(t,e,n){r.call(this,t,e,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];t.exports=i},function(t,e,n){"use strict";var r=n(0).LGraphManager;function i(t){r.call(this,t)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];t.exports=i},function(t,e,n){"use strict";var r=n(0).FDLayoutNode,i=n(0).IMath;function o(t,e,n,i){r.call(this,t,e,n,i)}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];o.prototype.calculateDisplacement=function(){var t=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(t,e){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)null==(n=r[i]).getChild()?(n.displacementX+=t,n.displacementY+=e):n.propogateDisplacementToChildren(t,e)},o.prototype.move=function(){var t=this.graphManager.getLayout();(null==this.child||0==this.child.getNodes().length)&&(this.moveBy(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(t){this.pred1=t},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(t){this.next=t},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(t){this.processed=t},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(1),o=n(0).LinkedList,a=n(0).Matrix,s=n(0).SVD;function l(){}l.handleConstraints=function(t){var e={};e.fixedNodeConstraint=t.constraints.fixedNodeConstraint,e.alignmentConstraint=t.constraints.alignmentConstraint,e.relativePlacementConstraint=t.constraints.relativePlacementConstraint;for(var n=new Map,l=new Map,u=[],c=[],h=t.getAllNodes(),d=0,p=0;p<h.length;p++){var f=h[p];null==f.getChild()&&(l.set(f.id,d++),u.push(f.getCenterX()),c.push(f.getCenterY()),n.set(f.id,f))}e.relativePlacementConstraint&&e.relativePlacementConstraint.forEach(function(t){!t.gap&&0!=t.gap&&(t.gap=t.left?i.DEFAULT_EDGE_LENGTH+n.get(t.left).getWidth()/2+n.get(t.right).getWidth()/2:i.DEFAULT_EDGE_LENGTH+n.get(t.top).getHeight()/2+n.get(t.bottom).getHeight()/2)});var g=function(t){var e=0,n=0;return t.forEach(function(t){e+=u[l.get(t)],n+=c[l.get(t)]}),{x:e/t.size,y:n/t.size}},v=function(t,e,n,i,a){var s=new Map;t.forEach(function(t,e){s.set(e,0)}),t.forEach(function(t,e){t.forEach(function(t){s.set(t.id,s.get(t.id)+1)})});var h=new Map,d=new Map,p=new o;s.forEach(function(t,r){0==t?(p.push(r),n||h.set(r,"horizontal"==e?l.has(r)?u[l.get(r)]:i.get(r):l.has(r)?c[l.get(r)]:i.get(r))):h.set(r,Number.NEGATIVE_INFINITY),n&&d.set(r,new Set([r]))}),n&&a.forEach(function(t){var r=[];if(t.forEach(function(t){n.has(t)&&r.push(t)}),r.length>0){var o=0;r.forEach(function(t){"horizontal"==e?(h.set(t,l.has(t)?u[l.get(t)]:i.get(t)),o+=h.get(t)):(h.set(t,l.has(t)?c[l.get(t)]:i.get(t)),o+=h.get(t))}),o/=r.length,t.forEach(function(t){n.has(t)||h.set(t,o)})}else{var a=0;t.forEach(function(t){a+="horizontal"==e?l.has(t)?u[l.get(t)]:i.get(t):l.has(t)?c[l.get(t)]:i.get(t)}),a/=t.length,t.forEach(function(t){h.set(t,a)})}});for(var f=function(){var r=p.shift();t.get(r).forEach(function(t){if(h.get(t.id)<h.get(r)+t.gap)if(n&&n.has(t.id)){var o;if(o="horizontal"==e?l.has(t.id)?u[l.get(t.id)]:i.get(t.id):l.has(t.id)?c[l.get(t.id)]:i.get(t.id),h.set(t.id,o),o<h.get(r)+t.gap){var a=h.get(r)+t.gap-o;d.get(r).forEach(function(t){h.set(t,h.get(t)-a)})}}else h.set(t.id,h.get(r)+t.gap);s.set(t.id,s.get(t.id)-1),0==s.get(t.id)&&p.push(t.id),n&&d.set(t.id,function(t,e){var n=new Set(t),r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)n.add(a.value)}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(d.get(r),d.get(t.id)))})};0!=p.length;)f();if(n){var g=new Set;t.forEach(function(t,e){0==t.length&&g.add(e)});var v=[];d.forEach(function(t,e){if(g.has(e)){var i=!1,o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0)n.has(l.value)&&(i=!0)}catch(d){a=!0,s=d}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(!i){var c=!1,h=void 0;v.forEach(function(e,n){e.has([].concat(r(t))[0])&&(c=!0,h=n)}),c?t.forEach(function(t){v[h].add(t)}):v.push(new Set(t))}}}),v.forEach(function(t,n){var r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,d=!0,p=!1,f=void 0;try{for(var g,v=t[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var y,m=g.value;y="horizontal"==e?l.has(m)?u[l.get(m)]:i.get(m):l.has(m)?c[l.get(m)]:i.get(m);var _=h.get(m);y<r&&(r=y),y>a&&(a=y),_<o&&(o=_),_>s&&(s=_)}}catch(D){p=!0,f=D}finally{try{!d&&v.return&&v.return()}finally{if(p)throw f}}var b=(r+a)/2-(o+s)/2,x=!0,E=!1,C=void 0;try{for(var w,L=t[Symbol.iterator]();!(x=(w=L.next()).done);x=!0){var T=w.value;h.set(T,h.get(T)+b)}}catch(D){E=!0,C=D}finally{try{!x&&L.return&&L.return()}finally{if(E)throw C}}})}return h},y=function(t){var e=0,n=0,r=0,i=0;if(t.forEach(function(t){t.left?u[l.get(t.left)]-u[l.get(t.right)]>=0?e++:n++:c[l.get(t.top)]-c[l.get(t.bottom)]>=0?r++:i++}),e>n&&r>i)for(var o=0;o<l.size;o++)u[o]=-1*u[o],c[o]=-1*c[o];else if(e>n)for(var a=0;a<l.size;a++)u[a]=-1*u[a];else if(r>i)for(var s=0;s<l.size;s++)c[s]=-1*c[s]},m=function(t){var e=[],n=new o,r=new Set,i=0;return t.forEach(function(o,a){if(!r.has(a)){e[i]=[];var s=a;for(n.push(s),r.add(s),e[i].push(s);0!=n.length;)s=n.shift(),t.get(s).forEach(function(t){r.has(t.id)||(n.push(t.id),r.add(t.id),e[i].push(t.id))});i++}}),e},_=function(t){var e=new Map;return t.forEach(function(t,n){e.set(n,[])}),t.forEach(function(t,n){t.forEach(function(t){e.get(n).push(t),e.get(t.id).push({id:n,gap:t.gap,direction:t.direction})})}),e},b=function(t){var e=new Map;return t.forEach(function(t,n){e.set(n,[])}),t.forEach(function(t,n){t.forEach(function(t){e.get(t.id).push({id:n,gap:t.gap,direction:t.direction})})}),e},x=[],E=[],C=!1,w=!1,L=new Set,T=new Map,D=new Map,A=[];if(e.fixedNodeConstraint&&e.fixedNodeConstraint.forEach(function(t){L.add(t.nodeId)}),e.relativePlacementConstraint&&(e.relativePlacementConstraint.forEach(function(t){t.left?(T.has(t.left)?T.get(t.left).push({id:t.right,gap:t.gap,direction:"horizontal"}):T.set(t.left,[{id:t.right,gap:t.gap,direction:"horizontal"}]),T.has(t.right)||T.set(t.right,[])):(T.has(t.top)?T.get(t.top).push({id:t.bottom,gap:t.gap,direction:"vertical"}):T.set(t.top,[{id:t.bottom,gap:t.gap,direction:"vertical"}]),T.has(t.bottom)||T.set(t.bottom,[]))}),D=_(T),A=m(D)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>1)e.fixedNodeConstraint.forEach(function(t,e){x[e]=[t.position.x,t.position.y],E[e]=[u[l.get(t.nodeId)],c[l.get(t.nodeId)]]}),C=!0;else if(e.alignmentConstraint)!function(){var t=0;if(e.alignmentConstraint.vertical){for(var n=e.alignmentConstraint.vertical,i=function(e){var i=new Set;n[e].forEach(function(t){i.add(t)});var o,a=new Set([].concat(r(i)).filter(function(t){return L.has(t)}));o=a.size>0?u[l.get(a.values().next().value)]:g(i).x,n[e].forEach(function(e){x[t]=[o,c[l.get(e)]],E[t]=[u[l.get(e)],c[l.get(e)]],t++})},o=0;o<n.length;o++)i(o);C=!0}if(e.alignmentConstraint.horizontal){for(var a=e.alignmentConstraint.horizontal,s=function(e){var n=new Set;a[e].forEach(function(t){n.add(t)});var i,o=new Set([].concat(r(n)).filter(function(t){return L.has(t)}));i=o.size>0?u[l.get(o.values().next().value)]:g(n).y,a[e].forEach(function(e){x[t]=[u[l.get(e)],i],E[t]=[u[l.get(e)],c[l.get(e)]],t++})},h=0;h<a.length;h++)s(h);C=!0}e.relativePlacementConstraint&&(w=!0)}();else if(e.relativePlacementConstraint){for(var R=0,N=0,P=0;P<A.length;P++)A[P].length>R&&(R=A[P].length,N=P);if(R<D.size/2)y(e.relativePlacementConstraint),C=!1,w=!1;else{var I=new Map,S=new Map,O=[];A[N].forEach(function(t){T.get(t).forEach(function(e){"horizontal"==e.direction?(I.has(t)?I.get(t).push(e):I.set(t,[e]),I.has(e.id)||I.set(e.id,[]),O.push({left:t,right:e.id})):(S.has(t)?S.get(t).push(e):S.set(t,[e]),S.has(e.id)||S.set(e.id,[]),O.push({top:t,bottom:e.id}))})}),y(O),w=!1;var M=v(I,"horizontal"),k=v(S,"vertical");A[N].forEach(function(t,e){E[e]=[u[l.get(t)],c[l.get(t)]],x[e]=[],x[e][0]=M.has(t)?M.get(t):u[l.get(t)],x[e][1]=k.has(t)?k.get(t):c[l.get(t)]}),C=!0}}if(C){for(var F,B=a.transpose(x),W=a.transpose(E),U=0;U<B.length;U++)B[U]=a.multGamma(B[U]),W[U]=a.multGamma(W[U]);var G=a.multMat(B,a.transpose(W)),H=s.svd(G);F=a.multMat(H.V,a.transpose(H.U));for(var V=0;V<l.size;V++){var z=[u[V],c[V]],j=[F[0][1],F[1][1]];u[V]=a.dotProduct(z,[F[0][0],F[1][0]]),c[V]=a.dotProduct(z,j)}w&&y(e.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>0){var Y={x:0,y:0};e.fixedNodeConstraint.forEach(function(t,e){var n={x:u[l.get(t.nodeId)],y:c[l.get(t.nodeId)]},r=function(t,e){return{x:t.x-e.x,y:t.y-e.y}}(t.position,n);Y.x+=r.x,Y.y+=r.y}),Y.x/=e.fixedNodeConstraint.length,Y.y/=e.fixedNodeConstraint.length,u.forEach(function(t,e){u[e]+=Y.x}),c.forEach(function(t,e){c[e]+=Y.y}),e.fixedNodeConstraint.forEach(function(t){u[l.get(t.nodeId)]=t.position.x,c[l.get(t.nodeId)]=t.position.y})}if(e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var X=e.alignmentConstraint.vertical,q=function(t){var e=new Set;X[t].forEach(function(t){e.add(t)});var n,i=new Set([].concat(r(e)).filter(function(t){return L.has(t)}));n=i.size>0?u[l.get(i.values().next().value)]:g(e).x,e.forEach(function(t){L.has(t)||(u[l.get(t)]=n)})},K=0;K<X.length;K++)q(K);if(e.alignmentConstraint.horizontal)for(var J=e.alignmentConstraint.horizontal,Q=function(t){var e=new Set;J[t].forEach(function(t){e.add(t)});var n,i=new Set([].concat(r(e)).filter(function(t){return L.has(t)}));n=i.size>0?c[l.get(i.values().next().value)]:g(e).y,e.forEach(function(t){L.has(t)||(c[l.get(t)]=n)})},$=0;$<J.length;$++)Q($)}e.relativePlacementConstraint&&function(){var t=new Map,n=new Map,r=new Map,i=new Map,o=new Map,a=new Map,s=new Set,h=new Set;if(L.forEach(function(t){s.add(t),h.add(t)}),e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var d=e.alignmentConstraint.vertical,p=function(e){r.set("dummy"+e,[]),d[e].forEach(function(n){t.set(n,"dummy"+e),r.get("dummy"+e).push(n),L.has(n)&&s.add("dummy"+e)}),o.set("dummy"+e,u[l.get(d[e][0])])},f=0;f<d.length;f++)p(f);if(e.alignmentConstraint.horizontal)for(var g=e.alignmentConstraint.horizontal,y=function(t){i.set("dummy"+t,[]),g[t].forEach(function(e){n.set(e,"dummy"+t),i.get("dummy"+t).push(e),L.has(e)&&h.add("dummy"+t)}),a.set("dummy"+t,c[l.get(g[t][0])])},x=0;x<g.length;x++)y(x)}var E=new Map,C=new Map,w=function(e){T.get(e).forEach(function(r){var i=void 0,o=void 0;"horizontal"==r.direction?(i=t.get(e)?t.get(e):e,o=t.get(r.id)?{id:t.get(r.id),gap:r.gap,direction:r.direction}:r,E.has(i)?E.get(i).push(o):E.set(i,[o]),E.has(o.id)||E.set(o.id,[])):(i=n.get(e)?n.get(e):e,o=n.get(r.id)?{id:n.get(r.id),gap:r.gap,direction:r.direction}:r,C.has(i)?C.get(i).push(o):C.set(i,[o]),C.has(o.id)||C.set(o.id,[]))})},D=!0,A=!1,R=void 0;try{for(var N,P=T.keys()[Symbol.iterator]();!(D=(N=P.next()).done);D=!0)w(N.value)}catch(tt){A=!0,R=tt}finally{try{!D&&P.return&&P.return()}finally{if(A)throw R}}var I=_(E),S=_(C),O=m(I),M=m(S),k=b(E),F=b(C),B=[],W=[];O.forEach(function(t,e){B[e]=[],t.forEach(function(t){0==k.get(t).length&&B[e].push(t)})}),M.forEach(function(t,e){W[e]=[],t.forEach(function(t){0==F.get(t).length&&W[e].push(t)})});var U=v(E,"horizontal",s,o,B),G=v(C,"vertical",h,a,W),H=function(t){r.get(t)?r.get(t).forEach(function(e){u[l.get(e)]=U.get(t)}):u[l.get(t)]=U.get(t)},V=!0,z=!1,j=void 0;try{for(var Y,X=U.keys()[Symbol.iterator]();!(V=(Y=X.next()).done);V=!0)H(Y.value)}catch(tt){z=!0,j=tt}finally{try{!V&&X.return&&X.return()}finally{if(z)throw j}}var q=function(t){i.get(t)?i.get(t).forEach(function(e){c[l.get(e)]=G.get(t)}):c[l.get(t)]=G.get(t)},K=!0,J=!1,Q=void 0;try{for(var $,Z=G.keys()[Symbol.iterator]();!(K=($=Z.next()).done);K=!0)q($.value)}catch(tt){J=!0,Q=tt}finally{try{!K&&Z.return&&Z.return()}finally{if(J)throw Q}}}()}for(var Z=0;Z<h.length;Z++){var tt=h[Z];null==tt.getChild()&&tt.setCenter(u[l.get(tt.id)],c[l.get(tt.id)])}},t.exports=l},function(t,e,n){"use strict";var r=n(0).FDLayout,i=n(4),o=n(3),a=n(5),s=n(2),l=n(1),u=n(6),c=n(0).FDLayoutConstants,h=n(0).LayoutConstants,d=n(0).Point,p=n(0).PointD,f=n(0).DimensionD,g=n(0).Layout,v=n(0).Integer,y=n(0).IGeometry,m=n(0).LGraph,_=n(0).Transform,b=n(0).LinkedList;function x(){r.call(this),this.toBeTiled={},this.constraints={}}for(var E in x.prototype=Object.create(r.prototype),r)x[E]=r[E];x.prototype.newGraphManager=function(){var t=new i(this);return this.graphManager=t,t},x.prototype.newGraph=function(t){return new o(null,this.graphManager,t)},x.prototype.newNode=function(t){return new a(this.graphManager,t)},x.prototype.newEdge=function(t){return new s(null,null,t)},x.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH<10?10:l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},x.prototype.initSpringEmbedder=function(){r.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},x.prototype.layout=function(){return h.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},x.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(l.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(e)}}else{var n=this.getFlatForest();n.length>0?this.positionNodesRadially(n):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(e),this.positionNodesRandomly())}return Object.keys(this.constraints).length>0&&(u.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),l.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},x.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=l.PURE_INCREMENTAL?c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=l.PURE_INCREMENTAL?c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},x.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},n=0;n<t.length;n++){var r=t[n].rect,i=t[n].id;e[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return e},x.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},x.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),e=0;e<t.length;e++)t[e].move()},x.prototype.initConstraintVariables=function(){var t=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var e=this.graphManager.getAllNodes(),n=0;n<e.length;n++)this.idToNodeMap.set((r=e[n]).id,r);var r,i=function e(n){for(var r,i=n.getChild().getNodes(),o=0,a=0;a<i.length;a++)null==(r=i[a]).getChild()?t.fixedNodeSet.has(r.id)&&(o+=100):o+=e(r);return o};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(e){t.fixedNodeSet.add(e.nodeId)}),e=this.graphManager.getAllNodes(),n=0;n<e.length;n++)if(null!=(r=e[n]).getChild()){var o=i(r);o>0&&(r.fixedNodeWeight=o)}if(this.constraints.relativePlacementConstraint){var a=new Map,s=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(e){t.fixedNodesOnHorizontal.add(e),t.fixedNodesOnVertical.add(e)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var u=this.constraints.alignmentConstraint.vertical;for(n=0;n<u.length;n++)this.dummyToNodeForVerticalAlignment.set("dummy"+n,[]),u[n].forEach(function(e){a.set(e,"dummy"+n),t.dummyToNodeForVerticalAlignment.get("dummy"+n).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnHorizontal.add("dummy"+n)})}if(this.constraints.alignmentConstraint.horizontal){var c=this.constraints.alignmentConstraint.horizontal;for(n=0;n<c.length;n++)this.dummyToNodeForHorizontalAlignment.set("dummy"+n,[]),c[n].forEach(function(e){s.set(e,"dummy"+n),t.dummyToNodeForHorizontalAlignment.get("dummy"+n).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnVertical.add("dummy"+n)})}}if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(t){var e,n,r;for(r=t.length-1;r>=2*t.length/3;r--)e=Math.floor(Math.random()*(r+1)),n=t[r],t[r]=t[e],t[e]=n;return t},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var n=a.has(e.left)?a.get(e.left):e.left,r=a.has(e.right)?a.get(e.right):e.right;t.nodesInRelativeHorizontal.includes(n)||(t.nodesInRelativeHorizontal.push(n),t.nodeToRelativeConstraintMapHorizontal.set(n,[]),t.dummyToNodeForVerticalAlignment.has(n)?t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(n).getCenterX())),t.nodesInRelativeHorizontal.includes(r)||(t.nodesInRelativeHorizontal.push(r),t.nodeToRelativeConstraintMapHorizontal.set(r,[]),t.dummyToNodeForVerticalAlignment.has(r)?t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(r).getCenterX())),t.nodeToRelativeConstraintMapHorizontal.get(n).push({right:r,gap:e.gap}),t.nodeToRelativeConstraintMapHorizontal.get(r).push({left:n,gap:e.gap})}else{var i=s.has(e.top)?s.get(e.top):e.top,o=s.has(e.bottom)?s.get(e.bottom):e.bottom;t.nodesInRelativeVertical.includes(i)||(t.nodesInRelativeVertical.push(i),t.nodeToRelativeConstraintMapVertical.set(i,[]),t.dummyToNodeForHorizontalAlignment.has(i)?t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(i).getCenterY())),t.nodesInRelativeVertical.includes(o)||(t.nodesInRelativeVertical.push(o),t.nodeToRelativeConstraintMapVertical.set(o,[]),t.dummyToNodeForHorizontalAlignment.has(o)?t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(o)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(o).getCenterY())),t.nodeToRelativeConstraintMapVertical.get(i).push({bottom:o,gap:e.gap}),t.nodeToRelativeConstraintMapVertical.get(o).push({top:i,gap:e.gap})}});else{var h=new Map,d=new Map;this.constraints.relativePlacementConstraint.forEach(function(t){if(t.left){var e=a.has(t.left)?a.get(t.left):t.left,n=a.has(t.right)?a.get(t.right):t.right;h.has(e)?h.get(e).push(n):h.set(e,[n]),h.has(n)?h.get(n).push(e):h.set(n,[e])}else{var r=s.has(t.top)?s.get(t.top):t.top,i=s.has(t.bottom)?s.get(t.bottom):t.bottom;d.has(r)?d.get(r).push(i):d.set(r,[i]),d.has(i)?d.get(i).push(r):d.set(i,[r])}});var p=function(t,e){var n=[],r=[],i=new b,o=new Set,a=0;return t.forEach(function(s,l){if(!o.has(l)){n[a]=[],r[a]=!1;var u=l;for(i.push(u),o.add(u),n[a].push(u);0!=i.length;)u=i.shift(),e.has(u)&&(r[a]=!0),t.get(u).forEach(function(t){o.has(t)||(i.push(t),o.add(t),n[a].push(t))});a++}}),{components:n,isFixed:r}},f=p(h,t.fixedNodesOnHorizontal);this.componentsOnHorizontal=f.components,this.fixedComponentsOnHorizontal=f.isFixed;var g=p(d,t.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},x.prototype.updateDisplacements=function(){var t=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(e){var n=t.idToNodeMap.get(e.nodeId);n.displacementX=0,n.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var e=this.constraints.alignmentConstraint.vertical,n=0;n<e.length;n++){for(var r=0,i=0;i<e[n].length;i++){if(this.fixedNodeSet.has(e[n][i])){r=0;break}r+=this.idToNodeMap.get(e[n][i]).displacementX}var o=r/e[n].length;for(i=0;i<e[n].length;i++)this.idToNodeMap.get(e[n][i]).displacementX=o}if(this.constraints.alignmentConstraint.horizontal){var a=this.constraints.alignmentConstraint.horizontal;for(n=0;n<a.length;n++){var s=0;for(i=0;i<a[n].length;i++){if(this.fixedNodeSet.has(a[n][i])){s=0;break}s+=this.idToNodeMap.get(a[n][i]).displacementY}var u=s/a[n].length;for(i=0;i<a[n].length;i++)this.idToNodeMap.get(a[n][i]).displacementY=u}}}if(this.constraints.relativePlacementConstraint)if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var n=0;n=t.dummyToNodeForVerticalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(e)[0]).displacementX:t.idToNodeMap.get(e).displacementX,t.nodeToRelativeConstraintMapHorizontal.get(e).forEach(function(r){var i;r.right?(i=t.nodeToTempPositionMapHorizontal.get(r.right)-t.nodeToTempPositionMapHorizontal.get(e)-n)<r.gap&&(n-=r.gap-i):(i=t.nodeToTempPositionMapHorizontal.get(e)-t.nodeToTempPositionMapHorizontal.get(r.left)+n)<r.gap&&(n+=r.gap-i)}),t.nodeToTempPositionMapHorizontal.set(e,t.nodeToTempPositionMapHorizontal.get(e)+n),t.dummyToNodeForVerticalAlignment.has(e)?t.dummyToNodeForVerticalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementX=n}):t.idToNodeMap.get(e).displacementX=n}}),this.nodesInRelativeVertical.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var n=0;n=t.dummyToNodeForHorizontalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(e)[0]).displacementY:t.idToNodeMap.get(e).displacementY,t.nodeToRelativeConstraintMapVertical.get(e).forEach(function(r){var i;r.bottom?(i=t.nodeToTempPositionMapVertical.get(r.bottom)-t.nodeToTempPositionMapVertical.get(e)-n)<r.gap&&(n-=r.gap-i):(i=t.nodeToTempPositionMapVertical.get(e)-t.nodeToTempPositionMapVertical.get(r.top)+n)<r.gap&&(n+=r.gap-i)}),t.nodeToTempPositionMapVertical.set(e,t.nodeToTempPositionMapVertical.get(e)+n),t.dummyToNodeForHorizontalAlignment.has(e)?t.dummyToNodeForHorizontalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementY=n}):t.idToNodeMap.get(e).displacementY=n}});else{for(n=0;n<this.componentsOnHorizontal.length;n++){var c=this.componentsOnHorizontal[n];if(this.fixedComponentsOnHorizontal[n])for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach(function(e){t.idToNodeMap.get(e).displacementX=0}):this.idToNodeMap.get(c[i]).displacementX=0;else{var h=0,d=0;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?(h+=(f=this.dummyToNodeForVerticalAlignment.get(c[i])).length*this.idToNodeMap.get(f[0]).displacementX,d+=f.length):(h+=this.idToNodeMap.get(c[i]).displacementX,d++);var p=h/d;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach(function(e){t.idToNodeMap.get(e).displacementX=p}):this.idToNodeMap.get(c[i]).displacementX=p}}for(n=0;n<this.componentsOnVertical.length;n++)if(c=this.componentsOnVertical[n],this.fixedComponentsOnVertical[n])for(i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach(function(e){t.idToNodeMap.get(e).displacementY=0}):this.idToNodeMap.get(c[i]).displacementY=0;else{for(h=0,d=0,i=0;i<c.length;i++)if(this.dummyToNodeForHorizontalAlignment.has(c[i])){var f;h+=(f=this.dummyToNodeForHorizontalAlignment.get(c[i])).length*this.idToNodeMap.get(f[0]).displacementY,d+=f.length}else h+=this.idToNodeMap.get(c[i]).displacementY,d++;for(p=h/d,i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach(function(e){t.idToNodeMap.get(e).displacementY=p}):this.idToNodeMap.get(c[i]).displacementY=p}}},x.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,n=[],r=this.graphManager.getGraphs(),i=r.length;for(e=0;e<i;e++)(t=r[e]).updateConnected(),t.isConnected||(n=n.concat(t.getNodes()));return n},x.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,n=new Set;for(e=0;e<t.length;e++){var r=t[e];if(!n.has(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new p),r.getBendpoints().push(new p),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=(a=a.concat(i.getEdgeListToNode(o))).concat(o.getEdgeListToNode(i)),!n.has(a[0])){var s;if(a.length>1)for(s=0;s<a.length;s++){var l=a[s];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}a.forEach(function(t){n.add(t)})}}}if(n.size==t.length)break}},x.prototype.positionNodesRadially=function(t){for(var e=new d(0,0),n=Math.ceil(Math.sqrt(t.length)),r=0,i=0,o=0,a=new p(0,0),s=0;s<t.length;s++){s%n==0&&(o=0,i=r,0!=s&&(i+=l.DEFAULT_COMPONENT_SEPERATION),r=0);var u=t[s],c=g.findCenterOfTree(u);e.x=o,e.y=i,(a=x.radialLayout(u,c,e)).y>r&&(r=Math.floor(a.y)),o=Math.floor(a.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(h.WORLD_CENTER_X-a.x/2,h.WORLD_CENTER_Y-a.y/2))},x.radialLayout=function(t,e,n){var r=Math.max(this.maxDiagonalInTree(t),l.DEFAULT_RADIAL_SEPARATION);x.branchRadialLayout(e,null,0,359,0,r);var i=m.calculateBounds(t),o=new _;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var a=0;a<t.length;a++)t[a].transform(o);var s=new p(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(s)},x.branchRadialLayout=function(t,e,n,r,i,o){var a=(r-n+1)/2;a<0&&(a+=180);var s=(a+n)%360*y.TWO_PI/360,l=(Math.cos(s),i*Math.cos(s)),u=i*Math.sin(s);t.setCenter(l,u);var c=[],h=(c=c.concat(t.getEdges())).length;null!=e&&h--;for(var d,p=0,f=c.length,g=t.getEdgesBetween(e);g.length>1;){var v=g[0];g.splice(0,1);var m=c.indexOf(v);m>=0&&c.splice(m,1),f--,h--}d=null!=e?(c.indexOf(g[0])+1)%f:0;for(var _=Math.abs(r-n)/h,b=d;p!=h;b=++b%f){var E=c[b].getOtherEnd(t);if(E!=e){var C=(n+p*_)%360;x.branchRadialLayout(E,t,C,(C+_)%360,i+o,o),p++}}},x.maxDiagonalInTree=function(t){for(var e=v.MIN_VALUE,n=0;n<t.length;n++){var r=t[n].getDiagonal();r>e&&(e=r)}return e},x.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},x.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var o=(s=r[i]).getParent();0===this.getNodeDegreeWithChildren(s)&&(null==o.id||!this.getToBeTiled(o))&&n.push(s)}for(i=0;i<n.length;i++){var s,l=(s=n[i]).getParent().id;void 0===e[l]&&(e[l]=[]),e[l]=e[l].concat(s)}Object.keys(e).forEach(function(n){if(e[n].length>1){var r="DummyCompound_"+n;t.memberGroups[r]=e[n];var i=e[n][0].getParent(),o=new a(t.graphManager);o.id=r,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,t.idToDummyNode[r]=o;var s=t.getGraphManager().add(t.newGraph(),o),l=i.getChild();l.add(o);for(var u=0;u<e[n].length;u++){var c=e[n][u];l.remove(c),s.add(c)}}})},x.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)e[this.compoundOrder[n].id]=this.compoundOrder[n],t[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},x.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=t.idToDummyNode[n];if(e[n]=t.tileNodes(t.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=e[n].width,r.rect.height=e[n].height,r.setCenter(e[n].centerX,e[n].centerY),r.labelMarginLeft=0,r.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var i=r.rect.width,o=r.rect.height;r.labelWidth&&("left"==r.labelPosHorizontal?(r.rect.x-=r.labelWidth,r.setWidth(i+r.labelWidth),r.labelMarginLeft=r.labelWidth):"center"==r.labelPosHorizontal&&r.labelWidth>i?(r.rect.x-=(r.labelWidth-i)/2,r.setWidth(r.labelWidth),r.labelMarginLeft=(r.labelWidth-i)/2):"right"==r.labelPosHorizontal&&r.setWidth(i+r.labelWidth)),r.labelHeight&&("top"==r.labelPosVertical?(r.rect.y-=r.labelHeight,r.setHeight(o+r.labelHeight),r.labelMarginTop=r.labelHeight):"center"==r.labelPosVertical&&r.labelHeight>o?(r.rect.y-=(r.labelHeight-o)/2,r.setHeight(r.labelHeight),r.labelMarginTop=(r.labelHeight-o)/2):"bottom"==r.labelPosVertical&&r.setHeight(o+r.labelHeight))}})},x.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t];this.adjustLocations(this.tiledMemberPack[e.id],e.rect.x,e.rect.y,e.paddingLeft,e.paddingTop,e.labelMarginLeft,e.labelMarginTop)}},x.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach(function(n){var r=t.idToDummyNode[n];t.adjustLocations(e[n],r.rect.x,r.rect.y,r.paddingLeft,r.paddingTop,r.labelMarginLeft,r.labelMarginTop)})},x.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var n=t.getChild();if(null==n)return this.toBeTiled[e]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var o=r[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[e]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[e]=!0,!0},x.prototype.getNodeDegree=function(t){for(var e=t.getEdges(),n=0,r=0;r<e.length;r++){var i=e[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},x.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)e+=this.getNodeDegreeWithChildren(n[r]);return e},x.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},x.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var n=t[e];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},x.prototype.adjustLocations=function(t,e,n,r,i,o,a){n+=i+a;for(var s=e+=r+o,l=0;l<t.rows.length;l++){var u=t.rows[l];e=s;for(var c=0,h=0;h<u.length;h++){var d=u[h];d.rect.x=e,d.rect.y=n,e+=d.rect.width+t.horizontalPadding,d.rect.height>c&&(c=d.rect.height)}n+=c+t.verticalPadding}},x.prototype.tileCompoundMembers=function(t,e){var n=this;this.tiledMemberPack=[],Object.keys(t).forEach(function(r){var i=e[r];if(n.tiledMemberPack[r]=n.tileNodes(t[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width,i.rect.height=n.tiledMemberPack[r].height,i.setCenter(n.tiledMemberPack[r].centerX,n.tiledMemberPack[r].centerY),i.labelMarginLeft=0,i.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var o=i.rect.width,a=i.rect.height;i.labelWidth&&("left"==i.labelPosHorizontal?(i.rect.x-=i.labelWidth,i.setWidth(o+i.labelWidth),i.labelMarginLeft=i.labelWidth):"center"==i.labelPosHorizontal&&i.labelWidth>o?(i.rect.x-=(i.labelWidth-o)/2,i.setWidth(i.labelWidth),i.labelMarginLeft=(i.labelWidth-o)/2):"right"==i.labelPosHorizontal&&i.setWidth(o+i.labelWidth)),i.labelHeight&&("top"==i.labelPosVertical?(i.rect.y-=i.labelHeight,i.setHeight(a+i.labelHeight),i.labelMarginTop=i.labelHeight):"center"==i.labelPosVertical&&i.labelHeight>a?(i.rect.y-=(i.labelHeight-a)/2,i.setHeight(i.labelHeight),i.labelMarginTop=(i.labelHeight-a)/2):"bottom"==i.labelPosVertical&&i.setHeight(a+i.labelHeight))}})},x.prototype.tileNodes=function(t,e){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:e,verticalPadding:l.TILING_PADDING_VERTICAL,horizontalPadding:l.TILING_PADDING_HORIZONTAL,centerX:0,centerY:0};t.sort(function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0});for(var r=0,i=0,o=0;o<t.length;o++)r+=(a=t[o]).getCenterX(),i+=a.getCenterY();for(n.centerX=r/t.length,n.centerY=i/t.length,o=0;o<t.length;o++){var a=t[o];0==n.rows.length?this.insertNodeToRow(n,a,0,e):this.canAddHorizontal(n,a.rect.width,a.rect.height)?this.insertNodeToRow(n,a,this.getShortestRowIndex(n),e):this.insertNodeToRow(n,a,n.rows.length,e),this.shiftToLastRow(n)}return n},x.prototype.insertNodeToRow=function(t,e,n,r){var i=r;n==t.rows.length&&(t.rows.push([]),t.rowWidth.push(i),t.rowHeight.push(0));var o=t.rowWidth[n]+e.rect.width;t.rows[n].length>0&&(o+=t.horizontalPadding),t.rowWidth[n]=o,t.width<o&&(t.width=o);var a=e.rect.height;n>0&&(a+=t.verticalPadding);var s=0;a>t.rowHeight[n]&&(s=t.rowHeight[n],t.rowHeight[n]=a,s=t.rowHeight[n]-s),t.height+=s,t.rows[n].push(e)},x.prototype.getShortestRowIndex=function(t){for(var e=-1,n=Number.MAX_VALUE,r=0;r<t.rows.length;r++)t.rowWidth[r]<n&&(e=r,n=t.rowWidth[r]);return e},x.prototype.getLongestRowIndex=function(t){for(var e=-1,n=Number.MIN_VALUE,r=0;r<t.rows.length;r++)t.rowWidth[r]>n&&(e=r,n=t.rowWidth[r]);return e},x.prototype.canAddHorizontal=function(t,e,n){var r=this.getShortestRowIndex(t);if(r<0)return!0;var i=t.rowWidth[r];if(i+t.horizontalPadding+e<=t.width)return!0;var o,a,s=0;return t.rowHeight[r]<n&&r>0&&(s=n+t.verticalPadding-t.rowHeight[r]),o=t.width-i>=e+t.horizontalPadding?(t.height+s)/(i+e+t.horizontalPadding):(t.height+s)/t.width,s=n+t.verticalPadding,(a=t.width<e?(t.height+s)/e:(t.height+s)/t.width)<1&&(a=1/a),o<1&&(o=1/o),o<a},x.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),n=t.rowWidth.length-1,r=t.rows[e],i=r[r.length-1],o=i.width+t.horizontalPadding;if(t.width-t.rowWidth[n]>o&&e!=n){r.splice(-1,1),t.rows[n].push(i),t.rowWidth[e]=t.rowWidth[e]-o,t.rowWidth[n]=t.rowWidth[n]+o,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var a=Number.MIN_VALUE,s=0;s<r.length;s++)r[s].height>a&&(a=r[s].height);e>0&&(a+=t.verticalPadding);var l=t.rowHeight[e]+t.rowHeight[n];t.rowHeight[e]=a,t.rowHeight[n]<i.height+t.verticalPadding&&(t.rowHeight[n]=i.height+t.verticalPadding),t.height+=t.rowHeight[e]+t.rowHeight[n]-l,this.shiftToLastRow(t)}},x.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},x.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},x.prototype.reduceTrees=function(){for(var t,e=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var o=0;o<r.length;o++)if(1==(t=r[o]).getEdges().length&&!t.getEdges()[0].isInterGraph&&null==t.getChild()){if(l.PURE_INCREMENTAL){var a=t.getEdges()[0].getOtherEnd(t),s=new f(t.getCenterX()-a.getCenterX(),t.getCenterY()-a.getCenterY());i.push([t,t.getEdges()[0],t.getOwner(),s])}else i.push([t,t.getEdges()[0],t.getOwner()]);n=!0}if(1==n){for(var u=[],c=0;c<i.length;c++)1==i[c][0].getEdges().length&&(u.push(i[c]),i[c][0].getOwner().remove(i[c][0]));e.push(u),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},x.prototype.growTree=function(t){for(var e,n=t[t.length-1],r=0;r<n.length;r++)this.findPlaceforPrunedNode(e=n[r]),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},x.prototype.findPlaceforPrunedNode=function(t){var e,n,r=t[0];if(n=r==t[1].source?t[1].target:t[1].source,l.PURE_INCREMENTAL)r.setCenter(n.getCenterX()+t[3].getWidth(),n.getCenterY()+t[3].getHeight());else{var i=n.startX,o=n.finishX,a=n.startY,s=n.finishY,u=[0,0,0,0];if(a>0)for(var h=i;h<=o;h++)u[0]+=this.grid[h][a-1].length+this.grid[h][a].length-1;if(o<this.grid.length-1)for(h=a;h<=s;h++)u[1]+=this.grid[o+1][h].length+this.grid[o][h].length-1;if(s<this.grid[0].length-1)for(h=i;h<=o;h++)u[2]+=this.grid[h][s+1].length+this.grid[h][s].length-1;if(i>0)for(h=a;h<=s;h++)u[3]+=this.grid[i-1][h].length+this.grid[i][h].length-1;for(var d,p,f=v.MAX_VALUE,g=0;g<u.length;g++)u[g]<f?(f=u[g],d=1,p=g):u[g]==f&&d++;if(3==d&&0==f)0==u[0]&&0==u[1]&&0==u[2]?e=1:0==u[0]&&0==u[1]&&0==u[3]?e=0:0==u[0]&&0==u[2]&&0==u[3]?e=3:0==u[1]&&0==u[2]&&0==u[3]&&(e=2);else if(2==d&&0==f){var y=Math.floor(2*Math.random());e=0==u[0]&&0==u[1]?0==y?0:1:0==u[0]&&0==u[2]?0==y?0:2:0==u[0]&&0==u[3]?0==y?0:3:0==u[1]&&0==u[2]?0==y?1:2:0==u[1]&&0==u[3]?0==y?1:3:0==y?2:3}else e=4==d&&0==f?y=Math.floor(4*Math.random()):p;0==e?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-c.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==e?r.setCenter(n.getCenterX()+n.getWidth()/2+c.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==e?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+c.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-c.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())}},t.exports=x},function(t,e,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(7),r.CoSENode=n(5),r.ConstraintHandler=n(6),t.exports=r}]))},917:function(t,e,n){var r;t.exports=(r=n(3433),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports=r},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";t.exports=n(4)},function(t,e,n){"use strict";var r=n(2),i=function(t){!t||t("layout","avsdf",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0===a?void 0:a.call(r)};var o=n(0).AVSDFLayout,a=n(0).AVSDFNode,s=n(0).AVSDFConstants,l=n(0).layoutBase.PointD,u=n(0).layoutBase.DimensionD,c=n(1),h=n(6),d={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,randomize:!1,animate:"end",animationDuration:500,nodeSeparation:60},p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c({},d,t)));return s.DEFAULT_NODE_SEPARATION=null!=t.nodeSeparation?t.nodeSeparation:d.nodeSeparation,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"prerun",value:function(){var t=this.state,e=this.avsdfLayout=new o,n=this.graphManager=e.newGraphManager(),r=this.root=n.addRoot(),i=t.nodes,a=t.edges;this.idToLNode={},this.processChildrenList(r,i,e);for(var s=0;s<a.length;s++){var l=a[s],u=this.idToLNode[l.data("source")],c=this.idToLNode[l.data("target")];u!==c&&0===u.getEdgesBetween(c).length&&(n.add(e.newEdge(),u,c).id=l.id())}e.layout(),e.updateNodeCoordinates(),this.sortedByDegreeList=e.initPostProcess()}},{key:"tick",value:function(){var t=this,e=this.state,n=this.avsdfLayout.getPositionsData();if(e.nodes.forEach(function(e){var r=t.getScratch(e);r.x=n[e.data("id")].x,r.y=n[e.data("id")].y}),e.tickIndex>=e.nodes.size())return!0;this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[e.tickIndex]),this.avsdfLayout.updateNodeAngles(),this.avsdfLayout.updateNodeCoordinates()}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this}},{key:"processChildrenList",value:function(t,e,n){for(var r=e.length,i=0;i<r;i++){var o=e[i],s=void 0,c=o.layoutDimensions({nodeDimensionsIncludeLabels:!1});(s=null!=o.outerWidth()&&null!=o.outerHeight()?t.add(new a(n.graphManager,null,new l(o.position("x")-c.w/2,o.position("y")-c.h/2),new u(parseFloat(c.w),parseFloat(c.h)))):t.add(new a(this.graphManager))).id=o.data("id"),s.paddingLeft=parseInt(o.css("padding")),s.paddingTop=parseInt(o.css("padding")),s.paddingRight=parseInt(o.css("padding")),s.paddingBottom=parseInt(o.css("padding")),this.idToLNode[o.data("id")]=s,isNaN(s.rect.x)&&(s.rect.x=0),isNaN(s.rect.y)&&(s.rect.y=0)}}}]),e}(h);t.exports=p},function(t,e,n){"use strict";t.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(1),o=n(5),a=n(7),s=n(8),l=s.setInitialPositionState,u=s.refreshPositions,c=s.getNodePositionData,h=n(9).multitick,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.options=i({},o,e),r=this.state=i({},n,{layout:this,nodes:n.eles.nodes(),edges:n.eles.edges(),tickIndex:0,firstUpdate:!0});r.animateEnd=n.animate&&"end"===n.animate,r.animateContinuously=n.animate&&!r.animateEnd}return r(t,[{key:"getScratch",value:function(t){var e=this.state.name,n=t.scratch(e);return n||t.scratch(e,n={}),n}},{key:"run",value:function(){var t=this,e=this.state;if(e.tickIndex=0,e.firstUpdate=!0,e.startTime=Date.now(),e.running=!0,e.currentBoundingBox=a(e.boundingBox,e.cy),e.ready&&t.one("ready",e.ready),e.stop&&t.one("stop",e.stop),e.nodes.forEach(function(t){return l(t,e)}),t.prerun(e),e.animateContinuously){var n=function(t){!function(t){c(t,e).grabbed=t.grabbed()}(t.target)},r=n,i=function(t){var n=t.target,r=c(n,e),i=n.position();r.x=i.x,r.y=i.y},o=function(){e.fit&&e.animateContinuously&&e.cy.fit(e.padding)},s=function(){u(e.nodes,e),o(),requestAnimationFrame(d)},d=function(){h(e,s,p)},p=function(){u(e.nodes,e),o(),e.nodes.forEach(function(t){(function(t){e.ungrabifyWhileSimulating&&c(t,e).grabbable&&t.grabify()})(t),function(t){t.removeListener("grab",n),t.removeListener("free",r),t.removeListener("drag",i)}(t)}),e.running=!1,t.emit("layoutstop")};t.emit("layoutstart"),e.nodes.forEach(function(t){var o;o=t,e.ungrabifyWhileSimulating&&(c(o,e).grabbable=o.grabbable())&&o.ungrabify(),function(t){t.on("grab",n),t.on("free",r),t.on("drag",i)}(t)}),d()}else{for(var f=!1,g=function(){},v=function(){return f=!0};!f;)h(e,g,v);e.eles.layoutPositions(this,e,function(t){var n=c(t,e);return{x:n.x,y:n.y}})}return t.postrun(e),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),t}();t.exports=d},function(t,e,n){"use strict";t.exports=function(t,e){return null==(t=null==t?{x1:0,y1:0,w:e.width(),h:e.height()}:{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,w:t.w,h:t.h}).x2&&(t.x2=t.x1+t.w),null==t.w&&(t.w=t.x2-t.x1),null==t.y2&&(t.y2=t.y1+t.h),null==t.h&&(t.h=t.y2-t.y1),t}},function(t,e,n){"use strict";var r=n(1);t.exports={setInitialPositionState:function(t,e){var n=t.position(),i=e.currentBoundingBox,o=t.scratch(e.name);null==o&&t.scratch(e.name,o={}),r(o,e.randomize?{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}:{x:n.x,y:n.y}),o.locked=t.locked()},getNodePositionData:function(t,e){return t.scratch(e.name)},refreshPositions:function(t,e){t.positions(function(t){var n=t.scratch(e.name);return{x:n.x,y:n.y}})}}},function(t,e,n){"use strict";var r=function(){},i=function(t){var e=t,n=t.layout.tick(e);return e.firstUpdate&&(e.animateContinuously&&e.layout.emit("layoutready"),e.firstUpdate=!1),e.tickIndex++,Date.now(),!e.infinite&&n};t.exports={tick:i,multitick:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=!1,a=t,s=0;s<a.refresh&&!(o=!a.running||i(a));s++);o?n():e()}}}]))},7942:function(t,e,n){var r;t.exports=(r=n(6703),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=n(2),a=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),l=function(t){return(void 0===t?"undefined":r(t))===r(0)},u=function(){},c=function(t,e){return function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(function(){})}(t)?t.apply(e,[e]):t};function h(t){this.options=i({},o,t)}h.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,i=e.eles,o=i.nodes(),h=i.edges(),d=!1,p=o.filter(function(t){return t.isParent()}),f=o.subtract(p),g=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===g.x2&&(g.x2=g.x1+g.w),void 0===g.w&&(g.w=g.x2-g.x1),void 0===g.y2&&(g.y2=g.y1+g.h),void 0===g.h&&(g.h=g.y2-g.y1);var v=function(){for(var t=0;t<o.length;t++){var r=o[t],i=r.layoutDimensions(e),a=r.scratch("cola");if(!a.updatedDims){var s=c(e.nodeSpacing,r);a.width=i.w+2*s,a.height=i.h+2*s}}o.positions(function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&f.contains(t)&&(!l((n={x:g.x1+e.x,y:g.y1+e.y}).x)||!l(n.y))&&(n=void 0),n}),o.updateCompoundBounds(),d||(m(),d=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",E),o.off("grab free position",C),o.off("lock unlock",w),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},m=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},_=e.refresh;_=e.refresh<0?1:Math.max(1,_);var b=t.adaptor=a.adaptor({trigger:function(t){switch(t.type){case"tick":case a.EventType?a.EventType.tick:null:e.animate&&v();break;case"end":case a.EventType?a.EventType.end:null:v(),e.infinite||y()}},kick:function(){var n=!0,r=function(){if(t.manuallyStopped)return y(),!0;var r=b.tick();return!e.infinite&&!n&&b.convergenceThreshold(e.convergenceThreshold),n=!1,r&&e.infinite&&b.resume(),r};if(e.animate){s(function t(){(function(){for(var t=void 0,e=0;e<_&&!t;e++)t=t||r();return t})()||s(t)})}else for(;!r(););},on:u,drag:u});t.adaptor=b;var x=o.filter(":grabbable");e.ungrabifyWhileSimulating&&x.ungrabify();var E=void 0;n.one("destroy",E=function(){t.stop()});var C=void 0;o.on("grab free position",C=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":b.dragstart(e);break;case"free":b.dragend(e);break;case"position":(e.px!==n.x-g.x1||e.py!==n.y-g.y1)&&(e.px=n.x-g.x1,e.py=n.y-g.y1)}});var w=void 0;o.on("lock unlock",w=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?b.dragstart(t):b.dragend(t)}),b.nodes(f.map(function(t,n){var r=c(e.nodeSpacing,t),i=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize&&!t.locked()||void 0===i.x?Math.round(Math.random()*g.w):i.x,y:e.randomize&&!t.locked()||void 0===i.y?Math.round(Math.random()*g.h):i.y,width:o.w+2*r,height:o.h+2*r,index:n,fixed:t.locked()}}));var L=[];e.alignment&&(e.alignment.vertical&&e.alignment.vertical.forEach(function(t){var e=[];t.forEach(function(t){var n=t.node.scratch().cola;e.push({node:n.index,offset:t.offset?t.offset:0})}),L.push({type:"alignment",axis:"x",offsets:e})}),e.alignment.horizontal&&e.alignment.horizontal.forEach(function(t){var e=[];t.forEach(function(t){var n=t.node.scratch().cola;e.push({node:n.index,offset:t.offset?t.offset:0})}),L.push({type:"alignment",axis:"y",offsets:e})})),e.gapInequalities&&e.gapInequalities.forEach(function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;L.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})}),L.length>0&&b.constraints(L),b.groups(p.map(function(t,n){var r=c(e.nodeSpacing,t),i=function(e){return parseFloat(t.style("padding-"+e))},o=i("left")+r,a=i("right")+r,s=i("top")+r,l=i("bottom")+r;return t.scratch().cola={index:n,padding:Math.max(o,a,s,l),leaves:t.children().intersection(f).map(function(t){return t[0].scratch().cola.index}),fixed:t.locked()},t}).map(function(t){return t.scratch().cola.groups=t.children().intersection(p).map(function(t){return t.scratch().cola.index}),t.scratch().cola}));var T=void 0,D=void 0;null!=e.edgeLength?(T=e.edgeLength,D="linkDistance"):null!=e.edgeSymDiffLength?(T=e.edgeSymDiffLength,D="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(T=e.edgeJaccardLength,D="jaccardLinkLengths"):(T=100,D="linkDistance");if(b.links(h.stdFilter(function(t){return f.contains(t.source())&&f.contains(t.target())}).map(function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=T&&(e.calcLength=c(T,t)),e})),b.size([g.w,g.h]),null!=T&&b[D](function(t){return t.calcLength}),e.flow){var A=void 0;!function(t){return(void 0===t?"undefined":r(t))===r("")}(e.flow)?l(e.flow)?A={axis:"y",minSeparation:e.flow}:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r({})}(e.flow)?((A=e.flow).axis=A.axis||"y",A.minSeparation=null!=A.minSeparation?A.minSeparation:50):A={axis:"y",minSeparation:50}:A={axis:e.flow,minSeparation:50},b.flowLayout(A.axis,A.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),b.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter,void 0,void 0,e.centerGraph),e.infinite||setTimeout(function(){t.manuallyStopped||b.stop()},e.maxSimulationTime),this},h.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=h},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.filter(function(t){return null!=t}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";t.exports={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1}},function(t,e,n){"use strict";var r=n(0),i=function(t){!t||t("layout","cola",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r="undefined"!==("undefined"==typeof window?"undefined":i(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)}:function(t){t()},t.exports=r},function(t,e){t.exports=r}]))},3862:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";var r=n(0),i=Object.freeze({source:null,target:null,length:80,coeff:2e-4,weight:1});t.exports={makeSpring:function(t){return r({},i,t)},applySpring:function(t){var e=t.source,n=t.target,r=t.length<0?i.length:t.length,o=n.pos.x-e.pos.x,a=n.pos.y-e.pos.y,s=Math.sqrt(o*o+a*a);0===s&&(o=(Math.random()-.5)/50,a=(Math.random()-.5)/50,s=Math.sqrt(o*o+a*a));var l=(!t.coeff||t.coeff<0?i.springCoeff:t.coeff)*(s-r)/s*t.weight;e.force.x+=l*o,e.force.y+=l*a,n.force.x-=l*o,n.force.y-=l*a}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(13),o=n(0),a=n(4),s=n(10).tick,l=n(7).makeQuadtree,u=n(3).makeBody,c=n(1).makeSpring,h=function(t){return t.isParent()},d=function(t){return!h(t)},p=function(t){return h(t.source())||h(t.target())},f=function(t){return!p(t)},g=function(t){return t.scratch("euler").body},v=function(t){return h(t)?t.descendants().filter(d):t},y=function(t){var e=t.scratch("euler");return e||t.scratch("euler",e={}),e},m=function(t,e){return function(t){return"function"==typeof t}(t)?t(e):t},_=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o({},a,t)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"prerun",value:function(t){var e=t;e.quadtree=l();var n=e.bodies=[];e.nodes.filter(function(t){return d(t)}).forEach(function(t){var r=y(t),i=u({pos:{x:r.x,y:r.y},mass:m(e.mass,t),locked:r.locked});i._cyNode=t,r.body=i,i._scratch=r,n.push(i)});var r=e.springs=[];e.edges.filter(f).forEach(function(t){var n=c({source:g(t.source()),target:g(t.target()),length:m(e.springLength,t),coeff:m(e.springCoeff,t)});n._cyEdge=t;var i=y(t);n._scratch=i,i.spring=n,r.push(n)}),e.edges.filter(p).forEach(function(t){var n=v(t.source()),i=v(t.target());i=[i[0]],(n=[n[0]]).forEach(function(n){i.forEach(function(i){r.push(c({source:g(n),target:g(i),length:m(e.springLength,t),coeff:m(e.springCoeff,t)}))})})})}},{key:"tick",value:function(t){return s(t)<=t.movementThreshold}}]),e}(i);t.exports=_},function(t,e,n){"use strict";var r=Object.freeze({pos:{x:0,y:0},prevPos:{x:0,y:0},force:{x:0,y:0},velocity:{x:0,y:0},mass:1}),i=function(t,e){return function(t){return{x:t.x,y:t.y}}(function(t,e){return null!=t?t:e}(t,e))};t.exports={makeBody:function(t){var e={};return e.pos=i(t.pos,r.pos),e.prevPos=i(t.prevPos,e.pos),e.force=i(t.force,r.force),e.velocity=i(t.velocity,r.velocity),e.mass=null!=t.mass?t.mass:r.mass,e.locked=t.locked,e}}},function(t,e,n){"use strict";var r=Object.freeze({springLength:function(t){return 80},springCoeff:function(t){return 8e-4},mass:function(t){return 4},gravity:-1.2,pull:.001,theta:.666,dragCoeff:.02,movementThreshold:1,timeStep:20});t.exports=r},function(t,e,n){"use strict";t.exports={applyDrag:function(t,e){var n;t.force.x-=(n=null!=e?e:null!=t.dragCoeff?t.dragCoeff:.02)*t.velocity.x,t.force.y-=n*t.velocity.y}}},function(t,e,n){"use strict";t.exports={integrate:function(t,e){var n,r=0,i=0,o=0,a=0,s=t.length;if(0===s)return 0;for(n=0;n<s;++n){var l=t[n],u=e/l.mass;if(!l.grabbed){l.locked?(l.velocity.x=0,l.velocity.y=0):(l.velocity.x+=u*l.force.x,l.velocity.y+=u*l.force.y);var c=l.velocity.x,h=l.velocity.y,d=Math.sqrt(c*c+h*h);d>1&&(l.velocity.x=c/d,l.velocity.y=h/d),o=e*l.velocity.y,l.pos.x+=r=e*l.velocity.x,l.pos.y+=o,i+=Math.abs(r),a+=Math.abs(o)}}return(i*i+a*a)/s}}},function(t,e,n){"use strict";var r=n(9),i=n(8),o=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return n<1e-8&&r<1e-8};function a(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:null}function s(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e&&(t.quad3=n)}t.exports={makeQuadtree:function(){var t=[],e=new i,n=[],l=0,u=c();function c(){var t=n[l];return t?(t.quad0=null,t.quad1=null,t.quad2=null,t.quad3=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0):(t=new r,n[l]=t),++l,t}function h(t){for(e.reset(),e.push(u,t);!e.isEmpty();){var n=e.pop(),r=n.node,i=n.body;if(r.body){var l=r.body;if(r.body=null,o(l.pos,i.pos)){var h=3;do{var d=Math.random(),p=(r.bottom-r.top)*d;l.pos.x=r.left+(r.right-r.left)*d,l.pos.y=r.top+p,h-=1}while(h>0&&o(l.pos,i.pos));if(0===h&&o(l.pos,i.pos))return}e.push(r,l),e.push(r,i)}else{var f=i.pos.x,g=i.pos.y;r.mass=r.mass+i.mass,r.massX=r.massX+i.mass*f,r.massY=r.massY+i.mass*g;var v=0,y=r.left,m=(r.right+y)/2,_=r.top,b=(r.bottom+_)/2;f>m&&(v+=1,y=m,m=r.right),g>b&&(v+=2,_=b,b=r.bottom);var x=a(r,v);x?e.push(x,i):((x=c()).left=y,x.top=_,x.right=m,x.bottom=b,x.body=i,s(r,v,x))}}}return{insertBodies:function(t){if(0!==t.length){var e=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,i=Number.MIN_VALUE,o=void 0,a=t.length;for(o=a;o--;){var s=t[o].pos.x,d=t[o].pos.y;s<e&&(e=s),s>r&&(r=s),d<n&&(n=d),d>i&&(i=d)}var p=r-e,f=i-n;for(p>f?i=n+p:r=e+f,l=0,(u=c()).left=e,u.right=r,u.top=n,u.bottom=i,(o=a-1)>=0&&(u.body=t[o]);o--;)h(t[o])}},updateBodyForce:function(e,n,r,i){var o=t,a=void 0,s=void 0,l=void 0,c=void 0,h=0,d=0,p=1,f=0,g=1;o[0]=u,function(t){t.x=0,t.y=0}(e.force);var v=-e.pos.x,y=-e.pos.y,m=Math.sqrt(v*v+y*y),_=e.mass*i/m;for(h+=_*v,d+=_*y;p;){var b=o[f],x=b.body;p-=1,f+=1;var E=x!==e;x&&E?(s=x.pos.x-e.pos.x,l=x.pos.y-e.pos.y,0===(c=Math.sqrt(s*s+l*l))&&(s=(Math.random()-.5)/50,l=(Math.random()-.5)/50,c=Math.sqrt(s*s+l*l)),h+=(a=n*x.mass*e.mass/(c*c*c))*s,d+=a*l):E&&(s=b.massX/b.mass-e.pos.x,l=b.massY/b.mass-e.pos.y,0===(c=Math.sqrt(s*s+l*l))&&(s=(Math.random()-.5)/50,l=(Math.random()-.5)/50,c=Math.sqrt(s*s+l*l)),(b.right-b.left)/c<r?(h+=(a=n*b.mass*e.mass/(c*c*c))*s,d+=a*l):(b.quad0&&(o[g]=b.quad0,p+=1,g+=1),b.quad1&&(o[g]=b.quad1,p+=1,g+=1),b.quad2&&(o[g]=b.quad2,p+=1,g+=1),b.quad3&&(o[g]=b.quad3,p+=1,g+=1)))}e.force.x+=h,e.force.y+=d}}}}},function(t,e,n){"use strict";function r(){this.stack=[],this.popIdx=0}function i(t,e){this.node=t,this.body=e}t.exports=r,r.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new i(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(t,e,n){"use strict";t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(t,e,n){"use strict";var r=n(6).integrate,i=n(5).applyDrag,o=n(1).applySpring;t.exports={tick:function(t){var e=t.bodies,n=t.springs,a=t.quadtree,s=t.timeStep,l=t.gravity,u=t.theta,c=t.dragCoeff,h=t.pull;e.forEach(function(t){var e=t._scratch;!e||(t.locked=e.locked,t.grabbed=e.grabbed,t.pos.x=e.x,t.pos.y=e.y)}),a.insertBodies(e);for(var d=0;d<e.length;d++){var p=e[d];a.updateBodyForce(p,l,u,h),i(p,c)}for(var f=0;f<n.length;f++)o(n[f]);var g=r(e,s);return e.forEach(function(t){var e=t._scratch;!e||(e.x=t.pos.x,e.y=t.pos.y)}),g}}},function(t,e,n){"use strict";var r=n(2),i=function(t){!t||t("layout","euler",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){"use strict";t.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(0),o=n(12),a=n(14),s=n(15),l=s.setInitialPositionState,u=s.refreshPositions,c=s.getNodePositionData,h=n(16).multitick,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.options=i({},o,e),r=this.state=i({},n,{layout:this,nodes:n.eles.nodes(),edges:n.eles.edges(),tickIndex:0,firstUpdate:!0});r.animateEnd=n.animate&&"end"===n.animate,r.animateContinuously=n.animate&&!r.animateEnd}return r(t,[{key:"run",value:function(){var t=this,e=this.state;if(e.tickIndex=0,e.firstUpdate=!0,e.startTime=Date.now(),e.running=!0,e.currentBoundingBox=a(e.boundingBox,e.cy),e.ready&&t.one("ready",e.ready),e.stop&&t.one("stop",e.stop),e.nodes.forEach(function(t){return l(t,e)}),t.prerun(e),e.animateContinuously){var n=function(t){!function(t){c(t,e).grabbed=t.grabbed()}(t.target)},r=n,i=function(t){var n=t.target,r=c(n,e),i=n.position();r.x=i.x,r.y=i.y},o=function(){e.fit&&e.animateContinuously&&e.cy.fit(e.padding)},s=function(){u(e.nodes,e),o(),requestAnimationFrame(d)},d=function(){h(e,s,p)},p=function(){u(e.nodes,e),o(),e.nodes.forEach(function(t){(function(t){e.ungrabifyWhileSimulating&&c(t,e).grabbable&&t.grabify()})(t),function(t){t.removeListener("grab",n),t.removeListener("free",r),t.removeListener("drag",i)}(t)}),e.running=!1,t.emit("layoutstop")};t.emit("layoutstart"),e.nodes.forEach(function(t){var o;o=t,e.ungrabifyWhileSimulating&&(c(o,e).grabbable=o.grabbable())&&o.ungrabify(),function(t){t.on("grab",n),t.on("free",r),t.on("drag",i)}(t)}),d()}else{for(var f=!1,g=function(){},v=function(){return f=!0};!f;)h(e,g,v);e.eles.layoutPositions(this,e,function(t){var n=c(t,e);return{x:n.x,y:n.y}})}return t.postrun(e),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),t}();t.exports=d},function(t,e,n){"use strict";t.exports=function(t,e){return null==(t=null==t?{x1:0,y1:0,w:e.width(),h:e.height()}:{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,w:t.w,h:t.h}).x2&&(t.x2=t.x1+t.w),null==t.w&&(t.w=t.x2-t.x1),null==t.y2&&(t.y2=t.y1+t.h),null==t.h&&(t.h=t.y2-t.y1),t}},function(t,e,n){"use strict";var r=n(0);t.exports={setInitialPositionState:function(t,e){var n=t.position(),i=e.currentBoundingBox,o=t.scratch(e.name);null==o&&t.scratch(e.name,o={}),r(o,e.randomize?{x:i.x1+Math.random()*i.w,y:i.y1+Math.random()*i.h}:{x:n.x,y:n.y}),o.locked=t.locked()},getNodePositionData:function(t,e){return t.scratch(e.name)},refreshPositions:function(t,e){t.positions(function(t){var n=t.scratch(e.name);return{x:n.x,y:n.y}})}}},function(t,e,n){"use strict";var r=function(){},i=function(t){var e=t,n=t.layout.tick(e);e.firstUpdate&&(e.animateContinuously&&e.layout.emit("layoutready"),e.firstUpdate=!1),e.tickIndex++;var r=Date.now()-e.startTime;return!e.infinite&&(n||e.tickIndex>=e.maxIterations||r>=e.maxSimulationTime)};t.exports={tick:i,multitick:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=!1,a=t,s=0;s<a.refresh&&!(o=!a.running||i(a));s++);o?n():e()}}}])},7679:function(t,e,n){var r;self,t.exports=(r=n(6704),(()=>{"use strict";var t={658:t=>{t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},548:(t,e,n)=>{var r=n(281).layoutBase.LinkedList;t.exports={getTopMostNodes:function(t){for(var e={},n=0;n<t.length;n++)e[t[n].id()]=!0;return t.filter(function(t,n){"number"==typeof t&&(t=n);for(var r=t.parent()[0];null!=r;){if(e[r.id()])return!1;r=r.parent()[0]}return!0})},connectComponents:function(t,e,n,i){var o=new r,a=new Set,s=[],l=void 0,u=void 0,c=void 0,h=!1,d=1,p=[],f=[],g=function(){var r=t.collection();f.push(r);var i=n[0],g=t.collection();g.merge(i).merge(i.descendants().intersection(e)),s.push(i),g.forEach(function(t){o.push(t),a.add(t),r.merge(t)});for(var v=function(){i=o.shift();var u=t.collection();i.neighborhood().nodes().forEach(function(t){e.intersection(i.edgesWith(t)).length>0&&u.merge(t)});for(var c=0;c<u.length;c++){var h=u[c];null==(l=n.intersection(h.union(h.ancestors())))||a.has(l[0])||l.union(l.descendants()).forEach(function(t){o.push(t),a.add(t),r.merge(t),n.has(t)&&s.push(t)})}};0!=o.length;)v();if(r.forEach(function(t){e.intersection(t.connectedEdges()).forEach(function(t){r.has(t.source())&&r.has(t.target())&&r.merge(t)})}),s.length==n.length&&(h=!0),!h||h&&d>1){c=(u=s[0]).connectedEdges().length,s.forEach(function(t){t.connectedEdges().length<c&&(c=t.connectedEdges().length,u=t)}),p.push(u.id());var y=t.collection();y.merge(s[0]),s.forEach(function(t){y.merge(t)}),s=[],n=n.difference(y),d++}};do{g()}while(!h);return i&&p.length>0&&i.set("dummy"+(i.size+1),p),f},calcBoundingBox:function(t,e,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=void 0,u=void 0,c=void 0,h=void 0,d=t.descendants().not(":parent"),p=d.length,f=0;f<p;f++){var g=d[f];i>(l=e[r.get(g.id())]-g.width()/2)&&(i=l),o<(u=e[r.get(g.id())]+g.width()/2)&&(o=u),a>(c=n[r.get(g.id())]-g.height()/2)&&(a=c),s<(h=n[r.get(g.id())]+g.height()/2)&&(s=h)}var v={};return v.topLeftX=i,v.topLeftY=a,v.width=o-i,v.height=s-a,v}}},816:(t,e,n)=>{var r=n(548),i=n(281).CoSELayout,o=n(281).CoSENode,a=n(281).layoutBase.PointD,s=n(281).layoutBase.DimensionD,l=n(281).layoutBase.LayoutConstants,u=n(281).layoutBase.FDLayoutConstants,c=n(281).CoSEConstants;t.exports={coseLayout:function(t,e){var n=t.eles,h=n.nodes(),d=n.edges(),p=void 0,f=void 0,g=void 0,v={};t.randomize&&(p=e.nodeIndexes,f=e.xCoords,g=e.yCoords);var y=function(t){return"function"==typeof t},m=function(t,e){return y(t)?t(e):t};null!=t.nestingFactor&&(c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(c.DEFAULT_GRAVITY_STRENGTH=u.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(c.MAX_ITERATIONS=u.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(c.DEFAULT_GRAVITY_RANGE_FACTOR=u.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(c.DEFAULT_COOLING_FACTOR_INCREMENTAL=u.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),l.QUALITY="proof"==t.quality?2:0,c.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,c.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!t.randomize,c.ANIMATE=u.ANIMATE=l.ANIMATE=t.animate,c.TILE=t.tile,c.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,c.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal,c.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!0,c.PURE_INCREMENTAL=!t.randomize,l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=t.uniformNodeDimensions,"transformed"==t.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!1),"enforced"==t.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!1),"cose"==t.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!0),"all"==t.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!!t.randomize,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0),c.TREE_REDUCTION_ON_INCREMENTAL=!(t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint);var _,b,x=new i,E=x.newGraphManager();return function t(e,n,i,l){for(var u=n.length,c=0;c<u;c++){var h=n[c],d=h.children(),y=void 0,_=h.layoutDimensions({nodeDimensionsIncludeLabels:l.nodeDimensionsIncludeLabels});if(null!=h.outerWidth()&&null!=h.outerHeight())if(l.randomize)if(h.isParent()){var b=r.calcBoundingBox(h,f,g,p);y=e.add(new o(i.graphManager,new a(b.topLeftX,b.topLeftY),new s(b.width,b.height)))}else y=e.add(new o(i.graphManager,new a(f[p.get(h.id())]-_.w/2,g[p.get(h.id())]-_.h/2),new s(parseFloat(_.w),parseFloat(_.h))));else y=e.add(new o(i.graphManager,new a(h.position("x")-_.w/2,h.position("y")-_.h/2),new s(parseFloat(_.w),parseFloat(_.h))));else y=e.add(new o(this.graphManager));y.id=h.data("id"),y.nodeRepulsion=m(l.nodeRepulsion,h),y.paddingLeft=parseInt(h.css("padding")),y.paddingTop=parseInt(h.css("padding")),y.paddingRight=parseInt(h.css("padding")),y.paddingBottom=parseInt(h.css("padding")),l.nodeDimensionsIncludeLabels&&(y.labelWidth=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,y.labelHeight=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,y.labelPosVertical=h.css("text-valign"),y.labelPosHorizontal=h.css("text-halign")),v[h.data("id")]=y,isNaN(y.rect.x)&&(y.rect.x=0),isNaN(y.rect.y)&&(y.rect.y=0),null!=d&&d.length>0&&t(i.getGraphManager().add(i.newGraph(),y),d,i,l)}}(E.addRoot(),r.getTopMostNodes(h),x,t),function(e,n,r){for(var i=0,o=0,a=0;a<r.length;a++){var s=r[a],l=v[s.data("source")],h=v[s.data("target")];if(l!==h&&0==l.getEdgesBetween(h).length){var d=n.add(e.newEdge(),l,h);d.id=s.id(),d.idealLength=m(t.idealEdgeLength,s),d.edgeElasticity=m(t.edgeElasticity,s),i+=d.idealLength,o++}}null!=t.idealEdgeLength&&(c.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=o>0?i/o:y(t.idealEdgeLength)?50:t.idealEdgeLength,c.MIN_REPULSION_DIST=u.MIN_REPULSION_DIST=u.DEFAULT_EDGE_LENGTH/10,c.DEFAULT_RADIAL_SEPARATION=u.DEFAULT_EDGE_LENGTH)}(x,E,d),_=x,(b=t).fixedNodeConstraint&&(_.constraints.fixedNodeConstraint=b.fixedNodeConstraint),b.alignmentConstraint&&(_.constraints.alignmentConstraint=b.alignmentConstraint),b.relativePlacementConstraint&&(_.constraints.relativePlacementConstraint=b.relativePlacementConstraint),x.runLayout(),v}}},212:(t,e,n)=>{var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(658),o=n(548),a=n(657).spectralLayout,s=n(816).coseLayout,l=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(t){return 4500},idealEdgeLength:function(t){return 50},edgeElasticity:function(t){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),u=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=i({},l,e)}return r(t,[{key:"run",value:function(){var t=this.options,e=t.cy,n=t.eles,r=[],i=[],l=void 0;t.fixedNodeConstraint&&(!Array.isArray(t.fixedNodeConstraint)||0==t.fixedNodeConstraint.length)&&(t.fixedNodeConstraint=void 0),t.alignmentConstraint&&(t.alignmentConstraint.vertical&&(!Array.isArray(t.alignmentConstraint.vertical)||0==t.alignmentConstraint.vertical.length)&&(t.alignmentConstraint.vertical=void 0),t.alignmentConstraint.horizontal&&(!Array.isArray(t.alignmentConstraint.horizontal)||0==t.alignmentConstraint.horizontal.length)&&(t.alignmentConstraint.horizontal=void 0)),t.relativePlacementConstraint&&(!Array.isArray(t.relativePlacementConstraint)||0==t.relativePlacementConstraint.length)&&(t.relativePlacementConstraint=void 0),(t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint)&&(t.tile=!1,t.packComponents=!1);var u=void 0,c=!1;if(e.layoutUtilities&&t.packComponents&&((u=e.layoutUtilities("get"))||(u=e.layoutUtilities()),c=!0),n.nodes().length>0){if(c){var h=o.getTopMostNodes(t.eles.nodes());if(l=o.connectComponents(e,t.eles,h),t.randomize&&l.forEach(function(e){t.eles=e,r.push(a(t))}),"default"==t.quality||"proof"==t.quality){var d=e.collection();if(t.tile){var p=new Map,f=0,g={nodeIndexes:p,xCoords:[],yCoords:[]},v=[];if(l.forEach(function(t,e){0==t.edges().length&&(t.nodes().forEach(function(e,n){d.merge(t.nodes()[n]),e.isParent()||(g.nodeIndexes.set(t.nodes()[n].id(),f++),g.xCoords.push(t.nodes()[0].position().x),g.yCoords.push(t.nodes()[0].position().y))}),v.push(e))}),d.length>1){l.push(d),r.push(g);for(var y=v.length-1;y>=0;y--)l.splice(v[y],1),r.splice(v[y],1)}}l.forEach(function(e,n){t.eles=e,i.push(s(t,r[n]))})}if(l.length>1){var m=[];l.forEach(function(e,n){var a=void 0;"draft"==t.quality&&(a=r[n].nodeIndexes);var s={nodes:[],edges:[]},l=void 0;e.nodes().forEach(function(e){if("draft"==t.quality)if(e.isParent()){var u=o.calcBoundingBox(e,r[n].xCoords,r[n].yCoords,a);s.nodes.push({x:u.topLeftX,y:u.topLeftY,width:u.width,height:u.height})}else l=a.get(e.id()),s.nodes.push({x:r[n].xCoords[l]-e.boundingbox().w/2,y:r[n].yCoords[l]-e.boundingbox().h/2,width:e.boundingbox().w,height:e.boundingbox().h});else s.nodes.push({x:i[n][e.id()].getLeft(),y:i[n][e.id()].getTop(),width:i[n][e.id()].getWidth(),height:i[n][e.id()].getHeight()})}),e.edges().forEach(function(e){var l=e.source(),u=e.target();if("draft"==t.quality){var c=a.get(l.id()),h=a.get(u.id()),d=[],p=[];if(l.isParent()){var f=o.calcBoundingBox(l,r[n].xCoords,r[n].yCoords,a);d.push(f.topLeftX+f.width/2),d.push(f.topLeftY+f.height/2)}else d.push(r[n].xCoords[c]),d.push(r[n].yCoords[c]);if(u.isParent()){var g=o.calcBoundingBox(u,r[n].xCoords,r[n].yCoords,a);p.push(g.topLeftX+g.width/2),p.push(g.topLeftY+g.height/2)}else p.push(r[n].xCoords[h]),p.push(r[n].yCoords[h]);s.edges.push({startX:d[0],startY:d[1],endX:p[0],endY:p[1]})}else s.edges.push({startX:i[n][l.id()].getCenterX(),startY:i[n][l.id()].getCenterY(),endX:i[n][u.id()].getCenterX(),endY:i[n][u.id()].getCenterY()})}),m.push(s)});var _=u.packComponents(m,t.randomize).shifts;"draft"==t.quality?r.forEach(function(t,e){var n=t.xCoords.map(function(t){return t+_[e].dx}),r=t.yCoords.map(function(t){return t+_[e].dy});t.xCoords=n,t.yCoords=r}):i.forEach(function(t,e){Object.keys(t).forEach(function(n){var r=t[n];r.setCenter(r.getCenterX()+_[e].dx,r.getCenterY()+_[e].dy)})})}}else{if(t.randomize){var b=a(t);r.push(b)}("default"==t.quality||"proof"==t.quality)&&i.push(s(t,r[0]))}if(t.randomize&&!t.fixedNodeConstraint){var x=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if("draft"==t.quality){r.forEach(function(t){t.xCoords.forEach(function(t){t<x&&(x=t),t>E&&(E=t)}),t.yCoords.forEach(function(t){t<C&&(C=t),t>w&&(w=t)})});var L=t.eles.boundingBox(),T=L.x1+L.w/2-(E+x)/2,D=L.y1+L.h/2-(w+C)/2;r.forEach(function(t){t.xCoords=t.xCoords.map(function(t){return t+T}),t.yCoords=t.yCoords.map(function(t){return t+D})})}else{i.forEach(function(t){Object.keys(t).forEach(function(e){var n=t[e];n.getCenterX()<x&&(x=n.getCenterX()),n.getCenterX()>E&&(E=n.getCenterX()),n.getCenterY()<C&&(C=n.getCenterY()),n.getCenterY()>w&&(w=n.getCenterY())})});var A=t.eles.boundingBox(),R=A.x1+A.w/2-(E+x)/2,N=A.y1+A.h/2-(w+C)/2;i.forEach(function(t,e){Object.keys(t).forEach(function(e){var n=t[e];n.setCenter(n.getCenterX()+R,n.getCenterY()+N)})})}}}"default"==t.quality||"proof"==t.quality||t.randomize?(t.eles=n,n.nodes().not(":parent").layoutPositions(this,t,function(e,n){if("default"==t.quality||"proof"==t.quality){"number"==typeof e&&(e=n);var o=void 0,a=void 0,s=e.data("id");return i.forEach(function(t){s in t&&(o={x:t[s].getRect().getCenterX(),y:t[s].getRect().getCenterY()},a=t[s])}),t.nodeDimensionsIncludeLabels&&(a.labelWidth&&("left"==a.labelPosHorizontal?o.x+=a.labelWidth/2:"right"==a.labelPosHorizontal&&(o.x-=a.labelWidth/2)),a.labelHeight&&("top"==a.labelPosVertical?o.y+=a.labelHeight/2:"bottom"==a.labelPosVertical&&(o.y-=a.labelHeight/2))),{x:o.x,y:o.y}}var l=void 0;return r.forEach(function(t){var n=t.nodeIndexes.get(e.id());null!=n&&(l={x:t.xCoords[n],y:t.yCoords[n]})}),null==l&&(l={x:e.position("x"),y:e.position("y")}),{x:l.x,y:l.y}})):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),t}();t.exports=u},657:(t,e,n)=>{var r=n(548),i=n(281).layoutBase.Matrix,o=n(281).layoutBase.SVD;t.exports={spectralLayout:function(t){var e=t.cy,n=t.eles,a=n.nodes(),s=n.nodes(":parent"),l=new Map,u=new Map,c=new Map,h=[],d=[],p=[],f=[],g=[],v=[],y=[],m=[],_=void 0,b=1e8,x=t.piTol,E=t.samplingType,C=t.nodeSeparation,w=void 0,L=function(t,e,n){for(var r=[],i=0,o=0,a=0,s=void 0,l=[],c=0,d=1,p=0;p<_;p++)l[p]=b;for(r[o]=t,l[t]=0;o>=i;){a=r[i++];for(var f=h[a],y=0;y<f.length;y++)l[s=u.get(f[y])]==b&&(l[s]=l[a]+1,r[++o]=s);v[a][e]=l[a]*C}if(n){for(var m=0;m<_;m++)v[m][e]<g[m]&&(g[m]=v[m][e]);for(var x=0;x<_;x++)g[x]>c&&(c=g[x],d=x)}return d};r.connectComponents(e,n,r.getTopMostNodes(a),l),s.forEach(function(t){r.connectComponents(e,n,r.getTopMostNodes(t.descendants().intersection(n)),l)});for(var T=0,D=0;D<a.length;D++)a[D].isParent()||u.set(a[D].id(),T++);var A=!0,R=!1,N=void 0;try{for(var P,I=l.keys()[Symbol.iterator]();!(A=(P=I.next()).done);A=!0)u.set(P.value,T++)}catch(q){R=!0,N=q}finally{try{!A&&I.return&&I.return()}finally{if(R)throw N}}for(var S=0;S<u.size;S++)h[S]=[];s.forEach(function(t){for(var e=t.children().intersection(n);0==e.nodes(":childless").length;)e=e.nodes()[0].children().intersection(n);var r=0,i=e.nodes(":childless")[0].connectedEdges().length;e.nodes(":childless").forEach(function(t,e){t.connectedEdges().length<i&&(i=t.connectedEdges().length,r=e)}),c.set(t.id(),e.nodes(":childless")[r].id())}),a.forEach(function(t){var e;e=t.isParent()?u.get(c.get(t.id())):u.get(t.id()),t.neighborhood().nodes().forEach(function(r){n.intersection(t.edgesWith(r)).length>0&&(r.isParent()?h[e].push(c.get(r.id())):h[e].push(r.id()))})});var O=function(t){var n=u.get(t),r=void 0;l.get(t).forEach(function(i){r=e.getElementById(i).isParent()?c.get(i):i,h[n].push(r),h[u.get(r)].push(t)})},M=!0,k=!1,F=void 0;try{for(var B,W=l.keys()[Symbol.iterator]();!(M=(B=W.next()).done);M=!0)O(B.value)}catch(q){k=!0,F=q}finally{try{!M&&W.return&&W.return()}finally{if(k)throw F}}var U=void 0;if((_=u.size)>2){w=_<t.sampleSize?_:t.sampleSize;for(var G=0;G<_;G++)v[G]=[];for(var H=0;H<w;H++)m[H]=[];return"draft"==t.quality||"all"==t.step?(function(t){var e=void 0;if(t){e=Math.floor(Math.random()*_);for(var n=0;n<_;n++)g[n]=b;for(var r=0;r<w;r++)f[r]=e,e=L(e,r,t)}else{!function(){for(var t=0,e=0,n=!1;e<w;){t=Math.floor(Math.random()*_),n=!1;for(var r=0;r<e;r++)if(f[r]==t){n=!0;break}n||(f[e]=t,e++)}}();for(var i=0;i<w;i++)L(f[i],i,t)}for(var o=0;o<_;o++)for(var a=0;a<w;a++)v[o][a]*=v[o][a];for(var s=0;s<w;s++)y[s]=[];for(var l=0;l<w;l++)for(var u=0;u<w;u++)y[l][u]=v[f[u]][l]}(E),function(){for(var t=o.svd(y),e=t.S,n=t.U,r=t.V,a=e[0]*e[0]*e[0],s=[],l=0;l<w;l++){s[l]=[];for(var u=0;u<w;u++)s[l][u]=0,l==u&&(s[l][u]=e[l]/(e[l]*e[l]+a/(e[l]*e[l])))}m=i.multMat(i.multMat(r,s),i.transpose(n))}(),function(){for(var t=void 0,e=void 0,n=[],r=[],o=[],a=[],s=0;s<_;s++)n[s]=Math.random(),r[s]=Math.random();n=i.normalize(n),r=i.normalize(r);for(var l=1e-9,u=1e-9,c=void 0;;){for(var h=0;h<_;h++)o[h]=n[h];if(n=i.multGamma(i.multL(i.multGamma(o),v,m)),t=i.dotProduct(o,n),n=i.normalize(n),l=i.dotProduct(o,n),(c=Math.abs(l/u))<=1+x&&c>=1)break;u=l}for(var f=0;f<_;f++)o[f]=n[f];for(u=1e-9;;){for(var g=0;g<_;g++)a[g]=r[g];if(a=i.minusOp(a,i.multCons(o,i.dotProduct(o,a))),r=i.multGamma(i.multL(i.multGamma(a),v,m)),e=i.dotProduct(a,r),r=i.normalize(r),l=i.dotProduct(a,r),(c=Math.abs(l/u))<=1+x&&c>=1)break;u=l}for(var y=0;y<_;y++)a[y]=r[y];d=i.multCons(o,Math.sqrt(Math.abs(t))),p=i.multCons(a,Math.sqrt(Math.abs(e)))}(),U={nodeIndexes:u,xCoords:d,yCoords:p}):(u.forEach(function(t,n){d.push(e.getElementById(n).position("x")),p.push(e.getElementById(n).position("y"))}),U={nodeIndexes:u,xCoords:d,yCoords:p}),U}var V=u.keys(),z=e.getElementById(V.next().value),j=z.position(),Y=z.outerWidth();if(d.push(j.x),p.push(j.y),2==_){var X=e.getElementById(V.next().value).outerWidth();d.push(j.x+Y/2+X/2+t.idealEdgeLength),p.push(j.y)}return{nodeIndexes:u,xCoords:d,yCoords:p}}}},579:(t,e,n)=>{var r=n(212),i=function(t){!t||t("layout","fcose",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},281:t=>{t.exports=r}},e={};return function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(579)})())},7947:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=r(n(6906)),o=r(n(9519));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d="undefined"==typeof window?null:window,p=d?d.navigator:null,f=a(""),g=a({}),v=a(function(){}),y="undefined"==typeof HTMLElement?"undefined":a(HTMLElement),m=function(t){return t&&t.instanceString&&b(t.instanceString)?t.instanceString():null},_=function(t){return null!=t&&a(t)==f},b=function(t){return null!=t&&a(t)===v},x=function(t){return!L(t)&&(Array.isArray?Array.isArray(t):null!=t&&t instanceof Array)},E=function(t){return null!=t&&a(t)===g&&!x(t)&&t.constructor===Object},C=function(t){return null!=t&&a(t)===a(1)&&!isNaN(t)},w=function(t){if("undefined"!==y)return null!=t&&t instanceof HTMLElement},L=function(t){return T(t)||D(t)},T=function(t){return"collection"===m(t)&&t._private.single},D=function(t){return"collection"===m(t)&&!t._private.single},A=function(t){return"core"===m(t)},R=function(t){return"stylesheet"===m(t)},N=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},P=function(t){return function(t){return null!=t&&a(t)===g}(t)&&b(t.then)},I=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var r,i=this,o=arguments,a=e.apply(i,o),s=n.cache;return(r=s[a])||(r=s[a]=t.apply(i,o)),r};return n.cache={},n},S=I(function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),O=I(function(t){return t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),M=I(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),k=function(t){return N(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},F="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",B=function(t,e){return t<e?-1:t>e?1:0},W=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},U={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},G=function(t){for(var e=t.map,n=t.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(E(o))throw Error("Tried to set map with object key");i<n.length-1?(null==e[o]&&(e[o]={}),e=e[o]):e[o]=t.value}},H=function(t){for(var e=t.map,n=t.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(E(o))throw Error("Tried to get map with object key");if(null==(e=e[o]))return e}return e},V=d?d.performance:null,z=V&&V.now?function(){return V.now()}:function(){return Date.now()},j=function(){if(d){if(d.requestAnimationFrame)return function(t){d.requestAnimationFrame(t)};if(d.mozRequestAnimationFrame)return function(t){d.mozRequestAnimationFrame(t)};if(d.webkitRequestAnimationFrame)return function(t){d.webkitRequestAnimationFrame(t)};if(d.msRequestAnimationFrame)return function(t){d.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(z())},1e3/60)}}(),Y=function(t){return j(t)},X=z,q=9261,K=65599,J=5381,Q=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,r=n;!(e=t.next()).done;)r=r*K+e.value|0;return r},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return e*K+t|0},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;return(e<<5)+e+t|0},tt=function(t){return 2097152*t[0]+t[1]},et=function(t,e){return[$(t[0],e[0]),Z(t[1],e[1])]},nt=function(t,e){var n={value:0,done:!1},r=0,i=t.length;return Q({next:function(){return r<i?n.value=t.charCodeAt(r++):n.done=!0,n}},e)},rt=function(){return it(arguments)},it=function(t){for(var e,n=0;n<t.length;n++){var r=t[n];e=0===n?nt(r):nt(r,e)}return e},ot=!0,at=null!=console.warn,st=null!=console.trace,lt=Number.MAX_SAFE_INTEGER||9007199254740991,ut=function(){return!0},ct=function(){return!1},ht=function(){return 0},dt=function(){},pt=function(t){throw new Error(t)},ft=function(t){if(void 0===t)return ot;ot=!!t},gt=function(t){!ft()||(at?console.warn(t):(console.log(t),st&&console.trace()))},vt=function(t){return null==t?t:x(t)?t.slice():E(t)?function(t){return W({},t)}(t):t},yt=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},mt={},_t=function(){return mt},bt=function(t){var e=Object.keys(t);return function(n){for(var r={},i=0;i<e.length;i++){var o=e[i],a=null==n?void 0:n[o];r[o]=void 0===a?t[o]:a}return r}},xt=function(t,e,n){for(var r=t.length-1;r>=0&&(t[r]!==e||(t.splice(r,1),!n));r--);},Et=function(t){t.splice(0,t.length)},Ct=function(t,e,n){return n&&(e=M(n,e)),t[e]},wt=function(t,e,n,r){n&&(e=M(n,e)),t[e]=r},Lt="undefined"!=typeof Map?Map:function(){function t(){s(this,t),this._obj={}}return u(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Tt=function(){function t(e){if(s(this,t),this._obj=Object.create(null),this.size=0,null!=e){var n;n=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var r=0;r<n.length;r++)this.add(n[r])}}return u(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),Dt="undefined"!==("undefined"==typeof Set?"undefined":a(Set))?Set:Tt,At=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==t&&void 0!==e&&A(t)){var r=e.group;if(null==r&&(r=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===r:!!e.pannable,active:!1,classes:new Dt,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),e.renderedPosition){var o=e.renderedPosition,a=t.pan(),s=t.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];x(e.classes)?l=e.classes:_(e.classes)&&(l=e.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var h=l[u];!h||""===h||i.classes.add(h)}this.createEmitter();var d=e.style||e.css;d&&(gt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===n||n)&&this.restore()}else pt("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else pt("An element must have a core reference and parameters set")},Rt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,r){var i;E(e)&&!L(e)&&(e=(i=e).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||b(n)?r:n,n=b(n)?n:function(){};for(var o,a=this._private.cy,s=e=_(e)?this.filter(e):e,l=[],u=[],c={},h={},d={},p=0,f=this.byGroup(),g=f.nodes,v=f.edges,y=0;y<s.length;y++){var m=s[y],x=m.id();m.isNode()&&(l.unshift(m),t.bfs&&(d[x]=!0,u.push(m)),h[x]=0)}var C=function(){var e=t.bfs?l.shift():l.pop(),i=e.id();if(t.dfs){if(d[i])return"continue";d[i]=!0,u.push(e)}var a,s=h[i],f=c[i],y=null!=f?f.source():null,m=null!=f?f.target():null,_=null==f?void 0:e.same(y)?m[0]:y[0];if(!0===(a=n(e,f,_,p++,s)))return o=e,"break";if(!1===a)return"break";for(var b=e.connectedEdges().filter(function(t){return(!r||t.source().same(e))&&v.has(t)}),x=0;x<b.length;x++){var E=b[x],C=E.connectedNodes().filter(function(t){return!t.same(e)&&g.has(t)}),w=C.id();0!==C.length&&!d[w]&&(l.push(C=C[0]),t.bfs&&(d[w]=!0,u.push(C)),c[w]=E,h[w]=h[i]+1)}};t:for(;0!==l.length;){var w=C();switch(w){case"continue":continue;case"break":break t}}for(var T=a.collection(),D=0;D<u.length;D++){var A=u[D],R=c[A.id()];null!=R&&T.push(R),T.push(A)}return{path:a.collection(T),found:a.collection(o)}}},Nt={breadthFirstSearch:Rt({bfs:!0}),depthFirstSearch:Rt({dfs:!0})};Nt.bfs=Nt.breadthFirstSearch,Nt.dfs=Nt.depthFirstSearch;var Pt=bt({root:null,weight:function(t){return 1},directed:!1}),It={dijkstra:function(t){if(!E(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var n=Pt(t),r=n.root,i=n.weight,a=n.directed,s=this,l=i,u=_(r)?this.filter(r)[0]:r[0],c={},h={},d={},p=this.byGroup(),f=p.nodes,g=p.edges;g.unmergeBy(function(t){return t.isLoop()});for(var v=function(t){return c[t.id()]},y=function(t,e){c[t.id()]=e,m.updateItem(t)},m=new o(function(t,e){return v(t)-v(e)}),b=0;b<f.length;b++){var x=f[b];c[x.id()]=x.same(u)?0:1/0,m.push(x)}for(var C=function(t,e){for(var n,r=(a?t.edgesTo(e):t.edgesWith(e)).intersect(g),i=1/0,o=0;o<r.length;o++){var s=r[o],u=l(s);(u<i||!n)&&(i=u,n=s)}return{edge:n,dist:i}};m.size()>0;){var w=m.pop(),L=v(w),T=w.id();if(d[T]=L,L!==1/0)for(var D=w.neighborhood().intersect(f),A=0;A<D.length;A++){var R=D[A],N=R.id(),P=C(w,R),I=L+P.dist;I<v(R)&&(y(R,I),h[N]={node:w,edge:P.edge})}}return{distanceTo:function(t){var e=_(t)?f.filter(t)[0]:t[0];return d[e.id()]},pathTo:function(t){var e=_(t)?f.filter(t)[0]:t[0],n=[],r=e,i=r.id();if(e.length>0)for(n.unshift(e);h[i];){var o=h[i];n.unshift(o.edge),n.unshift(o.node),i=(r=o.node).id()}return s.spawn(n)}}}},St={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),n=e.nodes,r=e.edges,i=n.length,o=new Array(i),a=n,s=function(t){for(var e=0;e<o.length;e++)if(o[e].has(t))return e},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var u=r.sort(function(e,n){return t(e)-t(n)}),c=0;c<u.length;c++){var h=u[c],d=h.source()[0],p=h.target()[0],f=s(d),g=s(p),v=o[f],y=o[g];f!==g&&(a.merge(h),v.merge(y),o.splice(g,1))}return a}},Ot=bt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Mt={aStar:function(t){var e=this.cy(),n=Ot(t),r=n.root,i=n.goal,a=n.heuristic,s=n.directed,l=n.weight;r=e.collection(r)[0],i=e.collection(i)[0];var u,c,h=r.id(),d=i.id(),p={},f={},g={},v=new o(function(t,e){return f[t.id()]-f[e.id()]}),y=new Dt,m={},_={},b=function(t,e){v.push(t),y.add(e)};b(r,h),p[h]=0,f[h]=a(r);for(var x=0;v.size()>0;){if(c=(u=v.pop()).id(),y.delete(c),x++,c===d){for(var E=[],C=i,w=d,L=_[w];E.unshift(C),null!=L&&E.unshift(L),null!=(C=m[w]);)L=_[w=C.id()];return{found:!0,distance:p[c],path:this.spawn(E),steps:x}}g[c]=!0;for(var T=u._private.edges,D=0;D<T.length;D++){var A=T[D];if(this.hasElementWithId(A.id())&&(!s||A.data("source")===c)){var R=A.source(),N=A.target(),P=R.id()!==c?R:N,I=P.id();if(this.hasElementWithId(I)&&!g[I]){var S=p[c]+l(A);if(!y.has(I)){p[I]=S,f[I]=S+a(P),b(P,I),m[I]=u,_[I]=A;continue}S<p[I]&&(p[I]=S,f[I]=S+a(P),m[I]=u,_[I]=A)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},kt=bt({weight:function(t){return 1},directed:!1}),Ft={floydWarshall:function(t){for(var e=this.cy(),n=kt(t),r=n.directed,i=n.weight,o=this.byGroup(),a=o.nodes,s=o.edges,l=a.length,u=l*l,c=function(t){return a.indexOf(t)},h=function(t){return a[t]},d=new Array(u),p=0;p<u;p++){var f=p%l;d[p]=(p-f)/l===f?0:1/0}for(var g=new Array(u),v=new Array(u),y=0;y<s.length;y++){var m=s[y],b=m.source()[0],x=m.target()[0];if(b!==x){var E=c(b),C=c(x),w=E*l+C,L=i(m);if(d[w]>L&&(d[w]=L,g[w]=C,v[w]=m),!r){var T=C*l+E;!r&&d[T]>L&&(d[T]=L,g[T]=E,v[T]=m)}}}for(var D=0;D<l;D++)for(var A=0;A<l;A++)for(var R=A*l+D,N=0;N<l;N++){var P=A*l+N,I=D*l+N;d[R]+d[I]<d[P]&&(d[P]=d[R]+d[I],g[P]=g[R])}var S=function(t){return c(function(t){return(_(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var n=S(t),r=S(e);return d[n*l+r]},path:function(t,n){var r=S(t),i=S(n),o=h(r);if(r===i)return o.collection();if(null==g[r*l+i])return e.collection();var a=e.collection();for(a.merge(o);r!==i;)a.merge(v[r*l+(r=g[r*l+i])]),a.merge(h(r));return a}}}},Bt=bt({weight:function(t){return 1},directed:!1,root:null}),Wt={bellmanFord:function(t){var e=this,n=Bt(t),r=n.directed,i=n.root,o=n.weight,a=this,s=this.cy(),l=this.byGroup(),u=l.edges,c=l.nodes,h=c.length,d=new Lt,p=!1;i=s.collection(i)[0],u.unmergeBy(function(t){return t.isLoop()});for(var f=u.length,g=function(t){var e=d.get(t.id());return e||(e={},d.set(t.id(),e)),e},v=function(t){return(_(t)?s.$(t):t)[0]},y=0;y<h;y++){var m=c[y],b=g(m);b.dist=m.same(i)?0:1/0,b.pred=null,b.edge=null}for(var x=!1,E=function(t,e,n,r,i,o){var a=r.dist+o;a<i.dist&&!n.same(r.edge)&&(i.dist=a,i.pred=t,i.edge=n,x=!0)},C=1;C<h;C++){x=!1;for(var w=0;w<f;w++){var L=u[w],T=L.source(),D=L.target(),A=o(L),R=g(T),N=g(D);E(T,0,L,R,N,A),r||E(D,0,L,N,R,A)}if(!x)break}if(x)for(var P=0;P<f;P++){var I=u[P],S=I.source(),O=I.target(),M=o(I),k=g(S).dist,F=g(O).dist;if(k+M<F||!r&&F+M<k){gt("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(t){return g(v(t)).dist},pathTo:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=v(t),o=[],s=r;;){if(null==s)return e.spawn();var l=g(s),u=l.edge,c=l.pred;if(o.unshift(s[0]),s.same(n)&&o.length>0)break;null!=u&&o.unshift(u),s=c}return a.spawn(o)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Ut=Math.sqrt(2),Gt=function(t,e,n){0===n.length&&pt("Karger-Stein must be run on a connected (sub)graph");for(var r=n[t],i=e[r[1]],o=e[r[2]],a=n,s=a.length-1;s>=0;s--){var l=a[s],u=l[1],c=l[2];(e[u]===i&&e[c]===o||e[u]===o&&e[c]===i)&&a.splice(s,1)}for(var h=0;h<a.length;h++){var d=a[h];d[1]===o?(a[h]=d.slice(),a[h][1]=i):d[2]===o&&(a[h]=d.slice(),a[h][2]=i)}for(var p=0;p<e.length;p++)e[p]===o&&(e[p]=i);return a},Ht=function(t,e,n,r){for(;n>r;){var i=Math.floor(Math.random()*e.length);e=Gt(i,t,e),n--}return e},Vt={kargerStein:function(){var t=this,e=this.byGroup(),n=e.nodes,r=e.edges;r.unmergeBy(function(t){return t.isLoop()});var i=n.length,o=r.length,a=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/Ut);if(!(i<2)){for(var l=[],u=0;u<o;u++){var c=r[u];l.push([u,n.indexOf(c.source()),n.indexOf(c.target())])}for(var h=1/0,d=[],p=new Array(i),f=new Array(i),g=new Array(i),v=function(t,e){for(var n=0;n<i;n++)e[n]=t[n]},y=0;y<=a;y++){for(var m=0;m<i;m++)f[m]=m;var _=Ht(f,l.slice(),i,s),b=_.slice();v(f,g);var x=Ht(f,_,s,2),E=Ht(g,b,s,2);x.length<=E.length&&x.length<h?(h=x.length,d=x,v(f,p)):E.length<=x.length&&E.length<h&&(h=E.length,d=E,v(g,p))}for(var C=this.spawn(d.map(function(t){return r[t[0]]})),w=this.spawn(),L=this.spawn(),T=p[0],D=0;D<p.length;D++){var A=n[D];p[D]===T?w.merge(A):L.merge(A)}var R=function(e){var n=t.spawn();return e.forEach(function(e){n.merge(e),e.connectedEdges().forEach(function(e){t.contains(e)&&!C.contains(e)&&n.merge(e)})}),n},N=[R(w),R(L)];return{cut:C,components:N,partition1:w,partition2:L}}pt("At least 2 nodes are required for Karger-Stein algorithm")}},zt=function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},jt=function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},Yt=function(t){return{x:t[0],y:t[1]}},Xt=function(t,e){return Math.atan2(e,t)-Math.PI/2},qt=Math.log2||function(t){return Math.log(t)/Math.log(2)},Kt=function(t){return t>0?1:t<0?-1:0},Jt=function(t,e){return Math.sqrt(Qt(t,e))},Qt=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},$t=function(t){for(var e=t.length,n=0,r=0;r<e;r++)n+=t[r];for(var i=0;i<e;i++)t[i]=t[i]/n;return t},Zt=function(t,e,n,r){return(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n},te=function(t,e,n,r){return{x:Zt(t.x,e.x,n.x,r),y:Zt(t.y,e.y,n.y,r)}},ee=function(t,e,n){return Math.max(t,Math.min(n,e))},ne=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},re=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},ie=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},oe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ae=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)e=n=r=i=o[0];else if(2===o.length)e=r=o[0],i=n=o[1];else if(4===o.length){var a=h(o,4);e=a[0],n=a[1],r=a[2],i=a[3]}return t.x1-=i,t.x2+=n,t.y1-=e,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},se=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},le=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},ue=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},ce=function(t,e){return ue(t,e.x,e.y)},he=function(t,e){return ue(t,e.x1,e.y1)&&ue(t,e.x2,e.y2)},de=function(t,e,n,r,i,o,a){var s,l=Ne(i,o),u=i/2,c=o/2,h=r-c-a;if((s=we(t,e,n,r,n-u+l-a,h,n+u-l+a,h,!1)).length>0)return s;var d=n+u+a;if((s=we(t,e,n,r,d,r-c+l-a,d,r+c-l+a,!1)).length>0)return s;var p=r+c+a;if((s=we(t,e,n,r,n-u+l-a,p,n+u-l+a,p,!1)).length>0)return s;var f,g=n-u-a;if((s=we(t,e,n,r,g,r-c+l-a,g,r+c-l+a,!1)).length>0)return s;var v=n-u+l,y=r-c+l;if((f=Ee(t,e,n,r,v,y,l+a)).length>0&&f[0]<=v&&f[1]<=y)return[f[0],f[1]];var m=n+u-l,_=r-c+l;if((f=Ee(t,e,n,r,m,_,l+a)).length>0&&f[0]>=m&&f[1]<=_)return[f[0],f[1]];var b=n+u-l,x=r+c-l;if((f=Ee(t,e,n,r,b,x,l+a)).length>0&&f[0]>=b&&f[1]>=x)return[f[0],f[1]];var E=n-u+l,C=r+c-l;return(f=Ee(t,e,n,r,E,C,l+a)).length>0&&f[0]<=E&&f[1]>=C?[f[0],f[1]]:[]},pe=function(t,e,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),h=Math.max(r,o);return l-s<=t&&t<=u+s&&c-s<=e&&e<=h+s},fe=function(t,e,n,r,i,o,a,s,l){var u=Math.min(n,a,i)-l,c=Math.max(n,a,i)+l,h=Math.min(r,s,o)-l,d=Math.max(r,s,o)+l;return!(t<u||t>c||e<h||e>d)},ge=function(t,e,n,r,i,o,a,s){var l=[];!function(t,e,n,r,i){var o,a,s,l,u,c,h,d;0===t&&(t=1e-5),s=-27*(r/=t)+(e/=t)*(9*(n/=t)-e*e*2),o=(a=(3*n-e*e)/9)*a*a+(s/=54)*s,i[1]=0,h=e/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,i[4]=i[2]=-(h+=(u+c)/2),h=Math.sqrt(3)*(-c+u)/2,i[3]=h,i[5]=-h):(i[5]=i[3]=0,0===o?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,i[4]=i[2]=-(d+h)):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(a),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),i[4]=-h+d*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,3*n*n-6*n*i+n*a-n*t+2*i*i+2*i*t-a*t+3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e,1*n*i-n*n+n*t-i*t+r*o-r*r+r*e-o*e,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var h,d,p,f=-1,g=0;g<u.length;g++)h=Math.pow(1-u[g],2)*n+2*(1-u[g])*u[g]*i+u[g]*u[g]*a,d=Math.pow(1-u[g],2)*r+2*(1-u[g])*u[g]*o+u[g]*u[g]*s,p=Math.pow(h-t,2)+Math.pow(d-e,2),f>=0?p<f&&(f=p):f=p;return f},ve=function(t,e,n,r,i,o){var a=[t-n,e-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/l;return c<0?u:h>l?(t-i)*(t-i)+(e-o)*(e-o):u-h},ye=function(t,e,n){for(var r,i,o,a,s=0,l=0;l<n.length/2;l++)if(i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),(r=n[2*l])!=t||o!=t){if(!(r>=t&&t>=o||r<=t&&t<=o))continue;(t-r)/(o-r)*(a-i)+i>e&&s++}return s%2!=0},me=function(t,e,n,r,i,o,a,s,l){var u,c,h=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var d=Math.cos(-u),p=Math.sin(-u),f=0;f<h.length/2;f++)h[2*f]=o/2*(n[2*f]*d-n[2*f+1]*p),h[2*f+1]=a/2*(n[2*f+1]*d+n[2*f]*p),h[2*f]+=r,h[2*f+1]+=i;if(l>0){var g=be(h,-l);c=_e(g)}else c=h;return ye(t,e,c)},_e=function(t){for(var e,n,r,i,o=new Array(t.length/2),a=0;a<t.length/4;a++){a<t.length/4-1?(e=t[4*(a+1)],n=t[4*(a+1)+1],r=t[4*(a+1)+2],i=t[4*(a+1)+3]):(e=t[0],n=t[1],r=t[2],i=t[3]);var s=we(t[4*a],t[4*a+1],t[4*a+2],t[4*a+3],e,n,r,i,!0);o[2*a]=s[0],o[2*a+1]=s[1]}return o},be=function(t,e){for(var n,r,i,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){s<t.length/2-1?(i=t[2*(s+1)],o=t[2*(s+1)+1]):(i=t[0],o=t[1]);var l=o-(r=t[2*s+1]),u=-(i-(n=t[2*s])),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;a[4*s]=n+h*e,a[4*s+1]=r+d*e,a[4*s+2]=i+h*e,a[4*s+3]=o+d*e}return a},xe=function(t,e,n,r,i,o,a){return t-=i,e-=o,(t/=n/2+a)*t+(e/=r/2+a)*e<=1},Ee=function(t,e,n,r,i,o,a){var s=[n-t,r-e],l=[t-i,e-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),p=(-c-Math.sqrt(h))/(2*u),f=Math.min(d,p),g=Math.max(d,p),v=[];if(f>=0&&f<=1&&v.push(f),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*s[0]+t,m=v[0]*s[1]+e;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*s[0]+t,v[1]*s[1]+e]:[y,m]},Ce=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},we=function(t,e,n,r,i,o,a,s,l){var u=t-i,c=n-t,h=a-i,d=e-o,p=r-e,f=s-o,g=h*d-f*u,v=c*d-p*u,y=f*c-h*p;if(0!==y){var m=g/y,_=v/y;return-.001<=m&&m<=1.001&&-.001<=_&&_<=1.001||l?[t+m*c,e+m*p]:[]}return 0===g||0===v?Ce(t,n,a)===a?[a,s]:Ce(t,n,i)===i?[i,o]:Ce(i,a,n)===n?[n,r]:[]:[]},Le=function(t,e,n,r,i,o,a,s){var l,u,c=[],h=new Array(n.length),d=!0;if(null==o&&(d=!1),d){for(var p=0;p<h.length/2;p++)h[2*p]=n[2*p]*o+r,h[2*p+1]=n[2*p+1]*a+i;if(s>0){var f=be(h,-s);u=_e(f)}else u=h}else u=n;for(var g,v,y=0;y<u.length/2;y++)y<u.length/2-1?(g=u[2*(y+1)],v=u[2*(y+1)+1]):(g=u[0],v=u[1]),0!==(l=we(t,e,r,i,u[2*y],u[2*y+1],g,v)).length&&c.push(l[0],l[1]);return c},Te=function(t,e,n){var r=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[e[0]+o*r[0],e[1]+o*r[1]]},De=function(t,e){var n=Re(t,e);return Ae(n)},Ae=function(t){for(var e,n,r=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)e=t[2*l],n=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),h=0;h<r;h++)e=t[2*h]=t[2*h]*u,n=t[2*h+1]=t[2*h+1]*c,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var d=0;d<r;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},Re=function(t,e){var n=1/t*2*Math.PI,r=t%2==0?Math.PI/2+n/2:Math.PI/2;r+=e;for(var i,o=new Array(2*t),a=0;a<t;a++)i=a*n+r,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},Ne=function(t,e){return Math.min(t/4,e/4,8)},Pe=function(t,e){return Math.min(t/10,e/10,8)},Ie=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},Se=bt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),Oe={pageRank:function(t){for(var e=Se(t),n=e.dampingFactor,r=e.precision,i=e.iterations,o=e.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=u.length,d=new Array(c*c),p=new Array(c),f=(1-n)/c,g=0;g<c;g++){for(var v=0;v<c;v++)d[g*c+v]=0;p[g]=0}for(var y=0;y<h;y++){var m=u[y],_=m.data("source"),b=m.data("target");if(_!==b){var x=l.indexOfId(_),E=l.indexOfId(b),C=o(m);d[E*c+x]+=C,p[x]+=C}}for(var w=1/c+f,L=0;L<c;L++)if(0===p[L])for(var T=0;T<c;T++)d[T*c+L]=w;else for(var D=0;D<c;D++){var A=D*c+L;d[A]=d[A]/p[L]+f}for(var R,N=new Array(c),P=new Array(c),I=0;I<c;I++)N[I]=1;for(var S=0;S<i;S++){for(var O=0;O<c;O++)P[O]=0;for(var M=0;M<c;M++)for(var k=0;k<c;k++)P[M]+=d[M*c+k]*N[k];$t(P),R=N,N=P,P=R;for(var F=0,B=0;B<c;B++){var W=R[B]-N[B];F+=W*W}if(F<r)break}return{rank:function(t){return t=a.collection(t)[0],N[l.indexOf(t)]}}}},Me=bt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),ke={degreeCentralityNormalized:function(t){t=Me(t);var e=this.cy(),n=this.nodes(),r=n.length;if(t.directed){for(var i={},o={},a=0,s=0,l=0;l<r;l++){var u=n[l],c=u.id();t.root=u;var h=this.degreeCentrality(t);a<h.indegree&&(a=h.indegree),s<h.outdegree&&(s=h.outdegree),i[c]=h.indegree,o[c]=h.outdegree}return{indegree:function(t){return 0==a?0:(_(t)&&(t=e.filter(t)),i[t.id()]/a)},outdegree:function(t){return 0===s?0:(_(t)&&(t=e.filter(t)),o[t.id()]/s)}}}for(var d={},p=0,f=0;f<r;f++){var g=n[f];t.root=g;var v=this.degreeCentrality(t);p<v.degree&&(p=v.degree),d[g.id()]=v.degree}return{degree:function(t){return 0===p?0:(_(t)&&(t=e.filter(t)),d[t.id()]/p)}}},degreeCentrality:function(t){t=Me(t);var e=this.cy(),n=this,r=t.root,i=t.weight,o=t.directed,a=t.alpha;if(r=e.collection(r)[0],o){for(var s=r.connectedEdges(),l=s.filter(function(t){return t.target().same(r)&&n.has(t)}),u=s.filter(function(t){return t.source().same(r)&&n.has(t)}),c=l.length,h=u.length,d=0,p=0,f=0;f<l.length;f++)d+=i(l[f]);for(var g=0;g<u.length;g++)p+=i(u[g]);return{indegree:Math.pow(c,1-a)*Math.pow(d,a),outdegree:Math.pow(h,1-a)*Math.pow(p,a)}}for(var v=r.connectedEdges().intersection(n),y=v.length,m=0,_=0;_<v.length;_++)m+=i(v[_]);return{degree:Math.pow(y,1-a)*Math.pow(m,a)}}};ke.dc=ke.degreeCentrality,ke.dcn=ke.degreeCentralityNormalised=ke.degreeCentralityNormalized;var Fe=bt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Be={closenessCentralityNormalized:function(t){for(var e=Fe(t),n=e.harmonic,r=e.weight,i=e.directed,o=this.cy(),a={},s=0,l=this.nodes(),u=this.floydWarshall({weight:r,directed:i}),c=0;c<l.length;c++){for(var h=0,d=l[c],p=0;p<l.length;p++)if(c!==p){var f=u.distance(d,l[p]);h+=n?1/f:f}n||(h=1/h),s<h&&(s=h),a[d.id()]=h}return{closeness:function(t){return 0==s?0:(t=_(t)?o.filter(t)[0].id():t.id(),a[t]/s)}}},closenessCentrality:function(t){var e=Fe(t),n=e.root,r=e.weight,i=e.directed,o=e.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var h=a.distanceTo(c);s+=o?1/h:h}}return o?s:1/s}};Be.cc=Be.closenessCentrality,Be.ccn=Be.closenessCentralityNormalised=Be.closenessCentralityNormalized;var We=bt({weight:null,directed:!1}),Ue={betweennessCentrality:function(t){for(var e=We(t),n=e.directed,r=e.weight,i=null!=r,a=this.cy(),s=this.nodes(),l={},u={},c=0,h={set:function(t,e){u[t]=e,e>c&&(c=e)},get:function(t){return u[t]}},d=0;d<s.length;d++){var p=s[d],f=p.id();l[f]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),h.set(f,0)}for(var g=function(t){for(var e=s[t].id(),n=[],u={},c={},d={},p=new o(function(t,e){return d[t]-d[e]}),f=0;f<s.length;f++){var g=s[f].id();u[g]=[],c[g]=0,d[g]=1/0}for(c[e]=1,d[e]=0,p.push(e);!p.empty();){var v=p.pop();if(n.push(v),i)for(var y=0;y<l[v].length;y++){var m,_=l[v][y],b=a.getElementById(v);m=b.edgesTo(_).length>0?b.edgesTo(_)[0]:_.edgesTo(b)[0];var x=r(m);_=_.id(),d[_]>d[v]+x&&(d[_]=d[v]+x,p.nodes.indexOf(_)<0?p.push(_):p.updateItem(_),c[_]=0,u[_]=[]),d[_]==d[v]+x&&(c[_]=c[_]+c[v],u[_].push(v))}else for(var E=0;E<l[v].length;E++){var C=l[v][E].id();d[C]==1/0&&(p.push(C),d[C]=d[v]+1),d[C]==d[v]+1&&(c[C]=c[C]+c[v],u[C].push(v))}}for(var w={},L=0;L<s.length;L++)w[s[L].id()]=0;for(;n.length>0;){for(var T=n.pop(),D=0;D<u[T].length;D++){var A=u[T][D];w[A]=w[A]+c[A]/c[T]*(1+w[T])}T!=s[t].id()&&h.set(T,h.get(T)+w[T])}},v=0;v<s.length;v++)g(v);var y={betweenness:function(t){var e=a.collection(t).id();return h.get(e)},betweennessNormalized:function(t){if(0==c)return 0;var e=a.collection(t).id();return h.get(e)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};Ue.bc=Ue.betweennessCentrality;var Ge=bt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),He=function(t,e){for(var n=0,r=0;r<e.length;r++)n+=e[r](t);return n},Ve=function(t,e){for(var n,r=0;r<e;r++){n=0;for(var i=0;i<e;i++)n+=t[i*e+r];for(var o=0;o<e;o++)t[o*e+r]=t[o*e+r]/n}},ze=function(t,e,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)r[i*n+o]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[i*n+s]+=t[i*n+a]*e[a*n+s]}return r},je=function(t,e,n){for(var r=t.slice(0),i=1;i<n;i++)t=ze(t,r,e);return t},Ye=function(t,e,n){for(var r=new Array(e*e),i=0;i<e*e;i++)r[i]=Math.pow(t[i],n);return Ve(r,e),r},Xe=function(t,e,n,r){for(var i=0;i<n;i++)if(Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r)!=Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r))return!1;return!0},qe=function(t,e){for(var n=0;n<t.length;n++)if(!e[n]||t[n].id()!==e[n].id())return!1;return!0},Ke=function(t){for(var e=this.nodes(),n=this.edges(),r=this.cy(),i=function(t){return Ge(t)}(t),o={},a=0;a<e.length;a++)o[e[a].id()]=a;for(var s,l=e.length,u=l*l,c=new Array(u),h=0;h<u;h++)c[h]=0;for(var d=0;d<n.length;d++){var p=n[d],f=o[p.source().id()],g=o[p.target().id()],v=He(p,i.attributes);c[f*l+g]+=v,c[g*l+f]+=v}(function(t,e,n){for(var r=0;r<e;r++)t[r*e+r]=n})(c,l,i.multFactor),Ve(c,l);for(var y=!0,m=0;y&&m<i.maxIterations;)y=!1,s=je(c,l,i.expandFactor),c=Ye(s,l,i.inflateFactor),Xe(c,s,u,4)||(y=!0),m++;var _=function(t,e,n,r){for(var i=[],o=0;o<e;o++){for(var a=[],s=0;s<e;s++)Math.round(1e3*t[o*e+s])/1e3>0&&a.push(n[s]);0!==a.length&&i.push(r.collection(a))}return i}(c,l,e,r);return function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)e!=n&&qe(t[e],t[n])&&t.splice(n,1);return t}(_)},Je={markovClustering:Ke,mcl:Ke},Qe=function(t){return t},$e=function(t,e){return Math.abs(e-t)},Ze=function(t,e,n){return t+$e(e,n)},tn=function(t,e,n){return t+Math.pow(n-e,2)},en=function(t){return Math.sqrt(t)},nn=function(t,e,n){return Math.max(t,$e(e,n))},rn=function(t,e,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qe,a=r,s=0;s<t;s++)a=i(a,e(s),n(s));return o(a)},on={euclidean:function(t,e,n){return t>=2?rn(t,e,n,0,tn,en):rn(t,e,n,0,Ze)},squaredEuclidean:function(t,e,n){return rn(t,e,n,0,tn)},manhattan:function(t,e,n){return rn(t,e,n,0,Ze)},max:function(t,e,n){return rn(t,e,n,-1/0,nn)}};function an(t,e,n,r,i,o){var a;return a=b(t)?t:on[t]||on.euclidean,0===e&&b(t)?a(i,o):a(e,n,r,i,o)}on["squared-euclidean"]=on.squaredEuclidean,on.squaredeuclidean=on.squaredEuclidean;var sn=bt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ln=function(t){return sn(t)},un=function(t,e,n,r,i){var o="kMedoids"!==i?function(t){return n[t]}:function(t){return r[t](n)};return an(t,r.length,o,function(t){return r[t](e)},n,e)},cn=function(t,e,n){for(var r=n.length,i=new Array(r),o=new Array(r),a=new Array(e),s=null,l=0;l<r;l++)i[l]=t.min(n[l]).value,o[l]=t.max(n[l]).value;for(var u=0;u<e;u++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(o[c]-i[c])+i[c];a[u]=s}return a},hn=function(t,e,n,r,i){for(var o=1/0,a=0,s=0;s<e.length;s++){var l=un(n,t,e[s],r,i);l<o&&(o=l,a=s)}return a},dn=function(t,e,n){for(var r=[],i=null,o=0;o<e.length;o++)n[(i=e[o]).id()]===t&&r.push(i);return r},pn=function(t,e,n){return Math.abs(e-t)<=n},fn=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)if(Math.abs(t[r][i]-e[r][i])>n)return!1;return!0},gn=function(t,e,n){for(var r=0;r<n;r++)if(t===e[r])return!0;return!1},vn=function(t,e){var n=new Array(e);if(t.length<50)for(var r=0;r<e;r++){for(var i=t[Math.floor(Math.random()*t.length)];gn(i,n,r);)i=t[Math.floor(Math.random()*t.length)];n[r]=i}else for(var o=0;o<e;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},yn=function(t,e,n){for(var r=0,i=0;i<e.length;i++)r+=un("manhattan",e[i],t,n,"kMedoids");return r},mn=function(t,e,n,r,i){for(var o,a,s=0;s<e.length;s++)for(var l=0;l<t.length;l++)r[s][l]=Math.pow(n[s][l],i.m);for(var u=0;u<t.length;u++)for(var c=0;c<i.attributes.length;c++){o=0,a=0;for(var h=0;h<e.length;h++)o+=r[h][u]*i.attributes[c](e[h]),a+=r[h][u];t[u][c]=o/a}},_n=function(t,e,n,r,i){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var a,s,l,u=2/(i.m-1),c=0;c<n.length;c++)for(var h=0;h<r.length;h++){a=0;for(var d=0;d<n.length;d++)s=un(i.distance,r[h],n[c],i.attributes,"cmeans"),l=un(i.distance,r[h],n[d],i.attributes,"cmeans"),a+=Math.pow(s/l,u);t[h][c]=1/a}},bn=function(t){var e,n,r,i,o=this.cy(),a=this.nodes(),s=ln(t);r=new Array(a.length);for(var l=0;l<a.length;l++)r[l]=new Array(s.k);n=new Array(a.length);for(var u=0;u<a.length;u++)n[u]=new Array(s.k);for(var c=0;c<a.length;c++){for(var h=0,d=0;d<s.k;d++)n[c][d]=Math.random(),h+=n[c][d];for(var p=0;p<s.k;p++)n[c][p]=n[c][p]/h}e=new Array(s.k);for(var f=0;f<s.k;f++)e[f]=new Array(s.attributes.length);i=new Array(a.length);for(var g=0;g<a.length;g++)i[g]=new Array(s.k);for(var v=!0,y=0;v&&y<s.maxIterations;)v=!1,mn(e,a,n,i,s),_n(n,r,e,a,s),fn(n,r,s.sensitivityThreshold)||(v=!0),y++;return{clusters:function(t,e,n,r){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var a,s,l=0;l<e.length;l++){a=-1/0,s=-1;for(var u=0;u<e[0].length;u++)e[l][u]>a&&(a=e[l][u],s=u);i[s].push(t[l])}for(var c=0;c<i.length;c++)i[c]=r.collection(i[c]);return i}(a,n,s,o),degreeOfMembership:n}},xn={kMeans:function(t){var e,n=this.cy(),r=this.nodes(),i=null,o=ln(t),s=new Array(o.k),l={};e=o.testMode?"number"==typeof o.testCentroids?cn(r,o.k,o.attributes):"object"===a(o.testCentroids)?o.testCentroids:cn(r,o.k,o.attributes):cn(r,o.k,o.attributes);for(var u=!0,c=0;u&&c<o.maxIterations;){for(var h=0;h<r.length;h++)l[(i=r[h]).id()]=hn(i,e,o.distance,o.attributes,"kMeans");u=!1;for(var d=0;d<o.k;d++){var p=dn(d,r,l);if(0!==p.length){for(var f=o.attributes.length,g=e[d],v=new Array(f),y=new Array(f),m=0;m<f;m++){y[m]=0;for(var _=0;_<p.length;_++)y[m]+=o.attributes[m](i=p[_]);v[m]=y[m]/p.length,pn(v[m],g[m],o.sensitivityThreshold)||(u=!0)}e[d]=v,s[d]=n.collection(p)}}c++}return s},kMedoids:function(t){var e,n,r=this.cy(),i=this.nodes(),o=null,s=ln(t),l=new Array(s.k),u={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(e="object"===a(s.testCentroids)?s.testCentroids:vn(i,s.k)):e=vn(i,s.k);for(var h=!0,d=0;h&&d<s.maxIterations;){for(var p=0;p<i.length;p++)u[(o=i[p]).id()]=hn(o,e,s.distance,s.attributes,"kMedoids");h=!1;for(var f=0;f<e.length;f++){var g=dn(f,i,u);if(0!==g.length){c[f]=yn(e[f],g,s.attributes);for(var v=0;v<g.length;v++)(n=yn(g[v],g,s.attributes))<c[f]&&(c[f]=n,e[f]=g[v],h=!0);l[f]=r.collection(g)}}d++}return l},fuzzyCMeans:bn,fcm:bn},En=bt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Cn={single:"min",complete:"max"},wn=function(t,e,n,r,i){for(var o,a=0,s=1/0,l=i.attributes,u=function(t,e){return an(i.distance,l.length,function(e){return l[e](t)},function(t){return l[t](e)},t,e)},c=0;c<t.length;c++){var h=t[c].key,d=n[h][r[h]];d<s&&(a=h,s=d)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===t.length)return!1;var p,f=e[a],g=e[r[a]];p="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},t[f.index]=p,t.splice(g.index,1),e[f.key]=p;for(var v=0;v<t.length;v++){var y=t[v];f.key===y.key?o=1/0:"min"===i.linkage?(o=n[f.key][y.key],n[f.key][y.key]>n[g.key][y.key]&&(o=n[g.key][y.key])):"max"===i.linkage?(o=n[f.key][y.key],n[f.key][y.key]<n[g.key][y.key]&&(o=n[g.key][y.key])):o="mean"===i.linkage?(n[f.key][y.key]*f.size+n[g.key][y.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?u(y.value,f.value):u(y.value[0],f.value[0]),n[f.key][y.key]=n[y.key][f.key]=o}for(var m=0;m<t.length;m++){var _=t[m].key;if(r[_]===f.key||r[_]===g.key){for(var b=_,x=0;x<t.length;x++){var E=t[x].key;n[_][E]<n[_][b]&&(b=E)}r[_]=b}t[m].index=m}return f.key=g.key=f.index=g.index=null,!0},Ln=function t(e,n,r){!e||(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},Tn=function t(e,n){if(!e)return"";if(e.left&&e.right){var r=t(e.left,n),i=t(e.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}return e.value?e.value.id():void 0},Dn=function t(e,n,r){if(!e)return[];var i=[],o=[],a=[];return 0===n?(e.left&&Ln(e.left,i),e.right&&Ln(e.right,o),a=i.concat(o),[r.collection(a)]):1===n?e.value?[r.collection(e.value)]:(e.left&&Ln(e.left,i),e.right&&Ln(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=t(e.left,n-1,r)),e.right&&(o=t(e.right,n-1,r)),i.concat(o))},An=function(t){for(var e=this.cy(),n=this.nodes(),r=function(t){var e=En(t),n=Cn[e.linkage];return null!=n&&(e.linkage=n),e}(t),i=r.attributes,o=function(t,e){return an(r.distance,i.length,function(e){return i[e](t)},function(t){return i[t](e)},t,e)},a=[],s=[],l=[],u=[],c=0;c<n.length;c++){var h={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=h,u[c]=h,s[c]=[],l[c]=0}for(var d=0;d<a.length;d++)for(var p=0;p<=d;p++){var f;f="dendrogram"===r.mode?d===p?1/0:o(a[d].value,a[p].value):d===p?1/0:o(a[d].value[0],a[p].value[0]),s[d][p]=f,s[p][d]=f,f<s[d][l[d]]&&(l[d]=p)}for(var g=wn(a,u,s,l,r);g;)g=wn(a,u,s,l,r);var v;return"dendrogram"===r.mode?(v=Dn(a[0],r.dendrogramDepth,e),r.addDendrogram&&Tn(a[0],e)):(v=new Array(a.length),a.forEach(function(t,n){t.key=t.index=null,v[n]=e.collection(t.value)})),v},Rn={hierarchicalClustering:An,hca:An},Nn=bt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Pn=function(t,e,n,r){var i=function(t,e){return r[e](t)};return-an(t,r.length,function(t){return i(e,t)},function(t){return i(n,t)},e,n)},In=function(t,e,n){for(var r=[],i=0;i<t;i++){for(var o=-1,a=-1/0,s=0;s<n.length;s++){var l=n[s];e[i*t+l]>a&&(o=l,a=e[i*t+l])}o>0&&r.push(o)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},Sn=function(t){for(var e=this.cy(),n=this.nodes(),r=function(t){var e=t.damping,n=t.preference;.5<=e&&e<1||pt("Damping must range on [0.5, 1).  Got: ".concat(e));var r=["median","mean","min","max"];return r.some(function(t){return t===n})||C(n)||pt("Preference must be one of [".concat(r.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Nn(t)}(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var a,s,l,u,c,h,d;s=(a=n.length)*a,l=new Array(s);for(var p=0;p<s;p++)l[p]=-1/0;for(var f=0;f<a;f++)for(var g=0;g<a;g++)f!==g&&(l[f*a+g]=Pn(r.distance,n[f],n[g],r.attributes));u=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<t.length&&t.splice(n,t.length-n),e>0&&t.splice(0,e)):t=t.slice(e,n);for(var o=0,a=t.length-1;a>=0;a--)i?isFinite(t[a])||(t[a]=-1/0,o++):t.splice(a,1);r&&t.sort(function(t,e){return t-e});var s=t.length,l=Math.floor(s/2);return s%2!=0?t[l+1+o]:(t[l-1+o]+t[l+o])/2}(t):"mean"===e?function(t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,r=0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i<e;i++){var o=t[i];isFinite(o)&&(n+=o,r++)}return n/r}(t):"min"===e?function(t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r<e;r++){var i=t[r];isFinite(i)&&(n=Math.min(i,n))}return n}(t):"max"===e?function(t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=-1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r<e;r++){var i=t[r];isFinite(i)&&(n=Math.max(i,n))}return n}(t):e}(l,r.preference);for(var v=0;v<a;v++)l[v*a+v]=u;c=new Array(s);for(var y=0;y<s;y++)c[y]=0;h=new Array(s);for(var m=0;m<s;m++)h[m]=0;for(var _=new Array(a),b=new Array(a),x=new Array(a),E=0;E<a;E++)_[E]=0,b[E]=0,x[E]=0;for(var w=new Array(a*r.minIterations),L=0;L<w.length;L++)w[L]=0;for(d=0;d<r.maxIterations;d++){for(var T=0;T<a;T++){for(var D=-1/0,A=-1/0,R=-1,N=0,P=0;P<a;P++)_[P]=c[T*a+P],(N=h[T*a+P]+l[T*a+P])>=D?(A=D,D=N,R=P):N>A&&(A=N);for(var I=0;I<a;I++)c[T*a+I]=(1-r.damping)*(l[T*a+I]-D)+r.damping*_[I];c[T*a+R]=(1-r.damping)*(l[T*a+R]-A)+r.damping*_[R]}for(var S=0;S<a;S++){for(var O=0,M=0;M<a;M++)_[M]=h[M*a+S],b[M]=Math.max(0,c[M*a+S]),O+=b[M];O-=b[S],b[S]=c[S*a+S],O+=b[S];for(var k=0;k<a;k++)h[k*a+S]=(1-r.damping)*Math.min(0,O-b[k])+r.damping*_[k];h[S*a+S]=(1-r.damping)*(O-b[S])+r.damping*_[S]}for(var F=0,B=0;B<a;B++){var W=h[B*a+B]+c[B*a+B]>0?1:0;w[d%r.minIterations*a+B]=W,F+=W}if(F>0&&(d>=r.minIterations-1||d==r.maxIterations-1)){for(var U=0,G=0;G<a;G++){x[G]=0;for(var H=0;H<r.minIterations;H++)x[G]+=w[H*a+G];(0===x[G]||x[G]===r.minIterations)&&U++}if(U===a)break}}for(var V=function(t,e,n){for(var r=[],i=0;i<t;i++)e[i*t+i]+n[i*t+i]>0&&r.push(i);return r}(a,c,h),z=function(t,e,n){for(var r=In(t,e,n),i=0;i<n.length;i++){for(var o=[],a=0;a<r.length;a++)r[a]===n[i]&&o.push(a);for(var s=-1,l=-1/0,u=0;u<o.length;u++){for(var c=0,h=0;h<o.length;h++)c+=e[o[h]*t+o[u]];c>l&&(s=u,l=c)}n[i]=o[s]}return In(t,e,n)}(a,l,V),j={},Y=0;Y<V.length;Y++)j[V[Y]]=[];for(var X=0;X<n.length;X++){var q=z[i[n[X].id()]];null!=q&&j[q].push(n[X])}for(var K=new Array(V.length),J=0;J<V.length;J++)K[J]=e.collection(j[V[J]]);return K},On={affinityPropagation:Sn,ap:Sn},Mn=bt({root:void 0,directed:!1}),kn=function(){var t=this,e={},n=0,r=0,i=[],o=[],a={},s=function s(l,u,c){l===c&&(r+=1),e[u]={id:n,low:n++,cutVertex:!1};var h,d,p,f,g=t.getElementById(u).connectedEdges().intersection(t);0===g.size()?i.push(t.spawn(t.getElementById(u))):g.forEach(function(n){h=n.source().id(),d=n.target().id(),(p=h===u?d:h)!==c&&(f=n.id(),a[f]||(a[f]=!0,o.push({x:u,y:p,edge:n})),p in e?e[u].low=Math.min(e[u].low,e[p].id):(s(l,p,u),e[u].low=Math.min(e[u].low,e[p].low),e[u].id<=e[p].low&&(e[u].cutVertex=!0,function(n,r){for(var a=o.length-1,s=[],l=t.spawn();o[a].x!=n||o[a].y!=r;)s.push(o.pop().edge),a--;s.push(o.pop().edge),s.forEach(function(n){var r=n.connectedNodes().intersection(t);l.merge(n),r.forEach(function(n){var r=n.id(),i=n.connectedEdges().intersection(t);l.merge(n),l.merge(e[r].cutVertex?i.filter(function(t){return t.isLoop()}):i)})}),i.push(l)}(u,p))))})};t.forEach(function(t){if(t.isNode()){var n=t.id();n in e||(r=0,s(n,n),e[n].cutVertex=r>1)}});var l=Object.keys(e).filter(function(t){return e[t].cutVertex}).map(function(e){return t.getElementById(e)});return{cut:t.spawn(l),components:i}},Fn=function(){var t=this,e={},n=0,r=[],i=[],o=t.spawn(t),a=function a(s){if(i.push(s),e[s]={index:n,low:n++,explored:!1},t.getElementById(s).connectedEdges().intersection(t).forEach(function(t){var n=t.target().id();n!==s&&(n in e||a(n),e[n].explored||(e[s].low=Math.min(e[s].low,e[n].low)))}),e[s].index===e[s].low){for(var l=t.spawn();;){var u=i.pop();if(l.merge(t.getElementById(u)),e[u].low=e[s].index,e[u].explored=!0,u===s)break}var c=l.edgesWith(l),h=l.merge(c);r.push(h),o=o.difference(h)}};return t.forEach(function(t){if(t.isNode()){var n=t.id();n in e||a(n)}}),{cut:o,components:r}},Bn={};[Nt,It,St,Mt,Ft,Wt,Vt,Oe,ke,Be,Ue,Je,xn,Rn,On,{hierholzer:function(t){if(!E(t)){var e=arguments;t={root:e[0],directed:e[1]}}var n,r,i,o=Mn(t),a=o.root,s=o.directed,l=this,u=!1;a&&(i=_(a)?this.filter(a)[0].id():a[0].id());var c={},h={};l.forEach(s?function(t){var e=t.id();if(t.isNode()){var i=t.indegree(!0),o=t.outdegree(!0),a=i-o,s=o-i;1==a?n?u=!0:n=e:1==s?r?u=!0:r=e:(s>1||a>1)&&(u=!0),c[e]=[],t.outgoers().forEach(function(t){t.isEdge()&&c[e].push(t.id())})}else h[e]=[void 0,t.target().id()]}:function(t){var e=t.id();t.isNode()?(t.degree(!0)%2&&(n?r?u=!0:r=e:n=e),c[e]=[],t.connectedEdges().forEach(function(t){return c[e].push(t.id())})):h[e]=[t.source().id(),t.target().id()]});var d={found:!1,trail:void 0};if(u)return d;if(r&&n)if(s){if(i&&r!=i)return d;i=r}else{if(i&&r!=i&&n!=i)return d;i||(i=r)}else i||(i=l[0].id());var p=function(t){for(var e,n,r,i=t,o=[t];c[i].length;)e=c[i].shift(),n=h[e][0],i!=(r=h[e][1])?(c[r]=c[r].filter(function(t){return t!=e}),i=r):!s&&i!=n&&(c[n]=c[n].filter(function(t){return t!=e}),i=n),o.unshift(e),o.unshift(i);return o},f=[],g=[];for(g=p(i);1!=g.length;)0==c[g[0]].length?(f.unshift(l.getElementById(g.shift())),f.unshift(l.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var v in f.unshift(l.getElementById(g.shift())),c)if(c[v].length)return d;return d.found=!0,d.trail=this.spawn(f,!0),d}},{hopcroftTarjanBiconnected:kn,htbc:kn,htb:kn,hopcroftTarjanBiconnectedComponents:kn},{tarjanStronglyConnected:Fn,tsc:Fn,tscc:Fn,tarjanStronglyConnectedComponents:Fn}].forEach(function(t){W(Bn,t)});var Wn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Wn.prototype={fulfill:function(t){return Un(this,1,"fulfillValue",t)},reject:function(t){return Un(this,2,"rejectReason",t)},then:function(t,e){var n=this,r=new Wn;return n.onFulfilled.push(Vn(t,r,"fulfill")),n.onRejected.push(Vn(e,r,"reject")),Gn(n),r.proxy}};var Un=function(t,e,n,r){return 0===t.state&&(t.state=e,t[n]=r,Gn(t)),t},Gn=function(t){1===t.state?Hn(t,"onFulfilled",t.fulfillValue):2===t.state&&Hn(t,"onRejected",t.rejectReason)},Hn=function(t,e,n){if(0!==t[e].length){var r=t[e];t[e]=[];var i=function(){for(var t=0;t<r.length;t++)r[t](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},Vn=function(t,e,n){return function(r){if("function"!=typeof t)e[n].call(e,r);else{var i;try{i=t(r)}catch(o){return void e.reject(o)}zn(e,i)}}},zn=function t(e,n){if(e!==n&&e.proxy!==n){var r;if("object"===a(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(o){return void e.reject(o)}if("function"!=typeof r)e.fulfill(n);else{var i=!1;try{r.call(n,function(r){i||(i=!0,r===n?e.reject(new TypeError("circular thenable chain")):t(e,r))},function(t){i||(i=!0,e.reject(t))})}catch(o){i||e.reject(o)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Wn.all=function(t){return new Wn(function(e,n){for(var r=new Array(t.length),i=0,o=function(n,o){r[n]=o,++i===t.length&&e(r)},a=0;a<t.length;a++)!function(e){var r=t[e];null!=r&&null!=r.then?r.then(function(t){o(e,t)},function(t){n(t)}):o(e,r)}(a)})},Wn.resolve=function(t){return new Wn(function(e,n){e(t)})},Wn.reject=function(t){return new Wn(function(e,n){n(t)})};var jn="undefined"!=typeof Promise?Promise:Wn,Yn=function(t,e,n){var r=A(t),i=!r,o=this._private=W({duration:1e3},e,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&b(o.complete)&&o.completes.push(o.complete),i){var a=t.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(r){var s=t.pan();o.startPan={x:s.x,y:s.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Xn=Yn.prototype;W(Xn,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),L(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var r=t[e];null!=r&&(t[e]=t[n],t[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var r=0;r<t.style.length;r++){var i=t.style[r],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[r]=a}return e&&this.play(),this},promise:function(t){var e,n=this._private;switch(t){case"frame":e=n.frames;break;default:case"complete":case"completed":e=n.completes}return new jn(function(t,n){e.push(function(){t()})})}}),Xn.complete=Xn.completed,Xn.run=Xn.play,Xn.running=Xn.playing;var qn={};[{animated:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return!1;var n=e[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<e.length;n++)e[n]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this,a=!r,s=!a;if(!o.styleEnabled())return this;var l=o.style();if(t=W({},t,e),0===Object.keys(t).length)return new Yn(i[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=l.getPropsList(t.style||t.css),t.css=void 0),s&&null!=t.renderedPosition){var u=t.renderedPosition,c=o.pan(),h=o.zoom();t.position=jt(u,h,c)}if(a&&null!=t.panBy){var d=t.panBy,p=o.pan();t.pan={x:p.x+d.x,y:p.y+d.y}}var f=t.center||t.centre;if(a&&null!=f){var g=o.getCenterPan(f.eles,t.zoom);null!=g&&(t.pan=g)}if(a&&null!=t.fit){var v=t.fit,y=o.getFitViewport(v.eles||v.boundingBox,v.padding);null!=y&&(t.pan=y.pan,t.zoom=y.zoom)}if(a&&E(t.zoom)){var m=o.getZoomedViewport(t.zoom);null!=m?(m.zoomed&&(t.zoom=m.zoom),m.panned&&(t.pan=m.pan)):t.zoom=null}return new Yn(i[0],t)}},animate:function(){return function(t,e){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=W({},t,e));for(var i=0;i<r.length;i++){var o=r[i],a=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=this,r=void 0!==n.length?n:[n],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<r.length;o++){for(var a=r[o]._private,s=a.animation.current,l=0;l<s.length;l++)e&&(s[l]._private.duration=0);t&&(a.animation.queue=[]),e||(a.animation.current=[])}return i.notify("draw"),this}}},{data:function(t){return t=W({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var r=t,i=this,o=void 0!==i.length,a=o?i:[i],s=o?i[0]:i;if(_(e)){var l;if(r.allowGetting&&void 0===n)return s&&(r.beforeGet(s),l=s._private[r.field][e]),l;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[e]){var u=c({},e,n);r.beforeSet(i,u);for(var h=0,d=a.length;h<d;h++){var p=a[h];r.canSet(p)&&(p._private[r.field][e]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&E(e)){var f,g,v=e,y=Object.keys(v);r.beforeSet(i,v);for(var m=0;m<y.length;m++)if(g=v[f=y[m]],!r.immutableKeys[f])for(var x=0;x<a.length;x++){var C=a[x];r.canSet(C)&&(C._private[r.field][f]=g)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&b(e))i.on(r.bindingEvent,e);else if(r.allowGetting&&void 0===e){var w;return s&&(r.beforeGet(s),w=s._private[r.field]),w}return i}},removeData:function(t){return t=W({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,r=this,i=void 0!==r.length?r:[r];if(_(e)){for(var o=e.split(/\s+/),a=o.length,s=0;s<a;s++){var l=o[s];if(!N(l)&&!n.immutableKeys[l])for(var u=0,c=i.length;u<c;u++)i[u]._private[n.field][l]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===e){for(var h=0,d=i.length;h<d;h++)for(var p=i[h]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var v=f[g];!n.immutableKeys[v]&&(p[v]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,r=Array.prototype.slice.call(arguments,0);return new jn(function(t,e){var i=r.concat([function(e){n.off.apply(n,o),t(e)}]),o=i.concat([]);n.on.apply(n,i)})}}}].forEach(function(t){W(qn,t)});var Kn={animate:qn.animate(),animation:qn.animation(),animated:qn.animated(),clearQueue:qn.clearQueue(),delay:qn.delay(),delayAnimation:qn.delayAnimation(),stop:qn.stop()},Jn={classes:function(t){var e=this;if(void 0===t){var n=[];return e[0]._private.classes.forEach(function(t){return n.push(t)}),n}x(t)||(t=(t||"").match(/\S+/g)||[]);for(var r=[],i=new Dt(t),o=0;o<e.length;o++){for(var a=e[o],s=a._private,l=s.classes,u=!1,c=0;c<t.length;c++)if(!l.has(t[c])){u=!0;break}u||(u=l.size!==t.length),u&&(s.classes=i,r.push(a))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){x(t)||(t=t.match(/\S+/g)||[]);for(var n=this,r=void 0===e,i=[],o=0,a=n.length;o<a;o++)for(var s=n[o],l=s._private.classes,u=!1,c=0;c<t.length;c++){var h=t[c],d=l.has(h),p=!1;e||r&&!d?(l.add(h),p=!0):(!e||r&&d)&&(l.delete(h),p=!0),!u&&p&&(i.push(s),u=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},e),n}};Jn.className=Jn.classNames=Jn.classes;var Qn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:F,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Qn.variable="(?:[\\w-]|(?:\\\\"+Qn.metaChar+"))+",Qn.value=Qn.string+"|"+Qn.number,Qn.className=Qn.variable,Qn.id=Qn.variable,function(){var t,e,n;for(t=Qn.comparatorOp.split("|"),n=0;n<t.length;n++)Qn.comparatorOp+="|@"+(e=t[n]);for(t=Qn.comparatorOp.split("|"),n=0;n<t.length;n++)!((e=t[n]).indexOf("!")>=0)&&"="!==e&&(Qn.comparatorOp+="|\\!"+e)}();var $n=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return function(t,e){return-1*B(t,e)}(t.selector,e.selector)}),Zn=function(){for(var t,e={},n=0;n<$n.length;n++)e[(t=$n[n]).selector]=t.matches;return e}(),tr="("+$n.map(function(t){return t.selector}).join("|")+")",er=function(t){return t.replace(new RegExp("\\\\("+Qn.metaChar+")","g"),function(t,e){return e})},nr=function(t,e,n){t[t.length-1]=n},rr=[{name:"group",query:!0,regex:"("+Qn.group+")",populate:function(t,e,n){var r=h(n,1)[0];e.checks.push({type:0,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:tr,populate:function(t,e,n){var r=h(n,1);e.checks.push({type:7,value:r[0]})}},{name:"id",query:!0,regex:"\\#("+Qn.id+")",populate:function(t,e,n){var r=h(n,1);e.checks.push({type:8,value:er(r[0])})}},{name:"className",query:!0,regex:"\\.("+Qn.className+")",populate:function(t,e,n){var r=h(n,1);e.checks.push({type:9,value:er(r[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Qn.variable+")\\s*\\]",populate:function(t,e,n){var r=h(n,1);e.checks.push({type:4,field:er(r[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Qn.variable+")\\s*("+Qn.comparatorOp+")\\s*("+Qn.value+")\\s*\\]",populate:function(t,e,n){var r=h(n,3),i=r[0],o=r[1],a=r[2];a=null!=new RegExp("^"+Qn.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:3,field:er(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Qn.boolOp+")\\s*("+Qn.variable+")\\s*\\]",populate:function(t,e,n){var r=h(n,2),i=r[0];e.checks.push({type:5,field:er(r[1]),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Qn.meta+")\\s*("+Qn.comparatorOp+")\\s*("+Qn.number+")\\s*\\]\\]",populate:function(t,e,n){var r=h(n,3),i=r[1],o=r[2];e.checks.push({type:6,field:er(r[0]),operator:i,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Qn.separator,populate:function(t,e){var n=t.currentSubject,r=t.edgeCount,i=t.compoundCount,o=t[t.length-1];return null!=n&&(o.subject=n,t.currentSubject=null),o.edgeCount=r,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Qn.directedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]};return n.checks.push({type:11,source:e,target:r}),nr(t,0,n),t.edgeCount++,r}var i={checks:[]},o={checks:[]};return i.checks.push({type:12,source:e,target:o}),nr(t,0,i),t.edgeCount++,o}},{name:"undirectedEdge",separator:!0,regex:Qn.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]};return n.checks.push({type:10,nodes:[e,r]}),nr(t,0,n),t.edgeCount++,r}var i={checks:[]},o={checks:[]};return i.checks.push({type:14,node:e,neighbor:o}),nr(t,0,i),o}},{name:"child",separator:!0,regex:Qn.child,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]};return n.checks.push({type:15,parent:t[t.length-1],child:r}),nr(t,0,n),t.compoundCount++,r}if(t.currentSubject===e){var i={checks:[]},o={checks:[]},a={checks:[]},s={checks:[]},l={checks:[]};return i.checks.push({type:19,left:t[t.length-1],right:o,subject:a}),a.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:17,parent:l,child:s}),nr(t,0,i),t.currentSubject=a,t.compoundCount++,s}var u={checks:[]},c={checks:[]},h=[{type:17,parent:u,child:c}];return u.checks=e.checks,e.checks=h,t.compoundCount++,c}},{name:"descendant",separator:!0,regex:Qn.descendant,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]};return n.checks.push({type:16,ancestor:t[t.length-1],descendant:r}),nr(t,0,n),t.compoundCount++,r}if(t.currentSubject===e){var i={checks:[]},o={checks:[]},a={checks:[]},s={checks:[]},l={checks:[]};return i.checks.push({type:19,left:t[t.length-1],right:o,subject:a}),a.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:18,ancestor:l,descendant:s}),nr(t,0,i),t.currentSubject=a,t.compoundCount++,s}var u={checks:[]},c={checks:[]},h=[{type:18,ancestor:u,descendant:c}];return u.checks=e.checks,e.checks=h,t.compoundCount++,c}},{name:"subject",modifier:!0,regex:Qn.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return gt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var n=t[t.length-1].checks[0],r=null==n?null:n.type;11===r?n.type=13:10===r&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];rr.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var ir=function(t){for(var e,n,r,i=0;i<rr.length;i++){var o=rr[i],a=o.name,s=t.match(o.regexObj);if(null!=s){n=s,e=o,r=a,t=t.substring(s[0].length);break}}return{expr:e,match:n,name:r,remaining:t}},or={parse:function(t){var e=this,n=e.inputText=t,r=e[0]={checks:[]};for(e.length=1,n=function(t){var e=t.match(/^\s+/);return e&&(t=t.substring(e[0].length)),t}(n);;){var i=ir(n);if(null==i.expr)return gt("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),a=i.expr.populate(e,r,o);if(!1===a)return!1;if(null!=a&&(r=a),(n=i.remaining).match(/^\s*$/))break}var s=e[e.length-1];null!=e.currentSubject&&(s.subject=e.currentSubject),s.edgeCount=e.edgeCount,s.compoundCount=e.compoundCount;for(var l=0;l<e.length;l++){var u=e[l];if(u.compoundCount>0&&u.edgeCount>0)return gt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(u.edgeCount>1)return gt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===u.edgeCount&&gt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return _(e)?'"'+e+'"':t(e)},n=function(t){return" "+t+" "},r=function(i,o){return i.checks.reduce(function(a,s,l){return a+(o===i&&0===l?"$":"")+function(i,o){var a=i.value;switch(i.type){case 0:var s=t(a);return s.substring(0,s.length-1);case 3:return"["+i.field+n(t(i.operator))+e(a)+"]";case 5:var l=i.field;return"["+t(i.operator)+l+"]";case 4:return"["+i.field+"]";case 6:return"[["+i.field+n(t(i.operator))+e(a)+"]]";case 7:return a;case 8:return"#"+a;case 9:return"."+a;case 17:case 15:return r(i.parent,o)+n(">")+r(i.child,o);case 18:case 16:return r(i.ancestor,o)+" "+r(i.descendant,o);case 19:var u=r(i.left,o),c=r(i.subject,o),h=r(i.right,o);return u+(u.length>0?" ":"")+c+h;case 20:return""}}(s,o)},"")},i="",o=0;o<this.length;o++){var a=this[o];i+=r(a,a.subject),this.length>1&&o<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},ar=function(t,e,n){var r,i,o,a=_(t),s=C(t),l=_(n),u=!1,c=!1,h=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),c=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),u=!0),(a||l||u)&&(i=a||s?""+t:"",o=""+n),u&&(t=i=i.toLowerCase(),n=o=o.toLowerCase()),e){case"*=":r=i.indexOf(o)>=0;break;case"$=":r=i.indexOf(o,i.length-o.length)>=0;break;case"^=":r=0===i.indexOf(o);break;case"=":r=t===n;break;case">":h=!0,r=t>n;break;case">=":h=!0,r=t>=n;break;case"<":h=!0,r=t<n;break;case"<=":h=!0,r=t<=n;break;default:r=!1}return c&&(null!=t||!h)&&(r=!r),r},sr=function(t,e){return t.data(e)},lr=[],ur=function(t,e){return t.checks.every(function(t){return lr[t.type](t,e)})};lr[0]=function(t,e){var n=t.value;return"*"===n||n===e.group()},lr[7]=function(t,e){return function(t,e){return Zn[t](e)}(t.value,e)},lr[8]=function(t,e){var n=t.value;return e.id()===n},lr[9]=function(t,e){return e.hasClass(t.value)},lr[6]=function(t,e){var n=t.operator,r=t.value;return ar(function(t,e){return t[e]()}(e,t.field),n,r)},lr[3]=function(t,e){var n=t.operator,r=t.value;return ar(sr(e,t.field),n,r)},lr[5]=function(t,e){var n=t.operator;return function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}}(sr(e,t.field),n)},lr[4]=function(t,e){return function(t){return void 0!==t}(sr(e,t.field))},lr[10]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),o=e.target();return ur(n,i)&&ur(r,o)||ur(r,i)&&ur(n,o)},lr[14]=function(t,e){return ur(t.node,e)&&e.neighborhood().some(function(e){return e.isNode()&&ur(t.neighbor,e)})},lr[11]=function(t,e){return ur(t.source,e.source())&&ur(t.target,e.target())},lr[12]=function(t,e){return ur(t.source,e)&&e.outgoers().some(function(e){return e.isNode()&&ur(t.target,e)})},lr[13]=function(t,e){return ur(t.target,e)&&e.incomers().some(function(e){return e.isNode()&&ur(t.source,e)})},lr[15]=function(t,e){return ur(t.child,e)&&ur(t.parent,e.parent())},lr[17]=function(t,e){return ur(t.parent,e)&&e.children().some(function(e){return ur(t.child,e)})},lr[16]=function(t,e){return ur(t.descendant,e)&&e.ancestors().some(function(e){return ur(t.ancestor,e)})},lr[18]=function(t,e){return ur(t.ancestor,e)&&e.descendants().some(function(e){return ur(t.descendant,e)})},lr[19]=function(t,e){return ur(t.subject,e)&&ur(t.left,e)&&ur(t.right,e)},lr[20]=function(){return!0},lr[1]=function(t,e){return t.value.has(e)},lr[2]=function(t,e){return(0,t.value)(e)};var cr=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||_(t)&&t.match(/^\s*$/)||(L(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):b(t)?this.addQuery({checks:[{type:2,value:t}]}):_(t)?this.parse(t)||(this.invalid=!0):pt("A selector must be created from a string; found "))},hr=cr.prototype;[or,{matches:function(t){for(var e=0;e<this.length;e++)if(ur(this[e],t))return!0;return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var n=function(t){for(var n=0;n<e.length;n++)if(ur(e[n],t))return!0;return!1};return null==e.text()&&(n=function(){return!0}),t.filter(n)}}].forEach(function(t){return W(hr,t)}),hr.text=function(){return this.inputText},hr.size=function(){return this.length},hr.eq=function(t){return this[t]},hr.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},hr.addQuery=function(t){this[this.length++]=t},hr.selector=hr.toString;var dr={allAre:function(t){var e=new cr(t);return this.every(function(t){return e.matches(t)})},is:function(t){var e=new cr(t);return this.some(function(t){return e.matches(t)})},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every(function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(t){return e.hasElementWithId(t.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(t){return e.hasElementWithId(t.id())})}};dr.allAreNeighbours=dr.allAreNeighbors,dr.has=dr.contains,dr.equal=dr.equals=dr.same;var pr,fr,gr=function(t,e){return function(n,r,i,o){var a,s=n,l=this;if(null==s?a="":L(s)&&1===s.length&&(a=s.id()),1===l.length&&a){var u=l[0]._private,c=u.traversalCache=u.traversalCache||{},h=c[e]=c[e]||[],d=nt(a);return h[d]||(h[d]=t.call(l,n,r,i,o))}return t.call(l,n,r,i,o)}},vr={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&e.push(i)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++)e.push(n[r]);n=n.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var r=this[n].parents();e=(e=e||r).intersect(r)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isChild()}).filter(t)},children:gr(function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)e.push(r[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(e,!0).filter(t)}};function yr(t,e,n,r){for(var i=[],o=new Dt,a=t.cy().hasCompoundNodes(),s=0;s<t.length;s++){var l=t[s];n?i.push(l):a&&r(i,o,l)}for(;i.length>0;){var u=i.shift();e(u),o.add(u.id()),a&&r(i,o,u)}return t}function mr(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}function _r(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}function br(t,e,n){_r(t,e,n),mr(t,e,n)}vr.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yr(this,t,e,mr)},vr.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yr(this,t,e,_r)},vr.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yr(this,t,e,br)},vr.ancestors=vr.parents,(pr=fr={data:qn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:qn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:qn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:qn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:qn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=pr.data,pr.removeAttr=pr.removeData;var xr=fr,Er={};function Cr(t){return function(e){var n=this;if(void 0===e&&(e=!0),0===n.length);else if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(r+=t(i,s))}return r}}}function wr(t,e){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](n);void 0!==a&&(void 0===r||e(a,r))&&(r=a)}return r}}W(Er,{degree:Cr(function(t,e){return e.source().same(e.target())?2:1}),indegree:Cr(function(t,e){return e.target().same(t)?1:0}),outdegree:Cr(function(t,e){return e.source().same(t)?1:0})}),W(Er,{minDegree:wr("degree",function(t,e){return t<e}),maxDegree:wr("degree",function(t,e){return t>e}),minIndegree:wr("indegree",function(t,e){return t<e}),maxIndegree:wr("indegree",function(t,e){return t>e}),minOutdegree:wr("outdegree",function(t,e){return t<e}),maxOutdegree:wr("outdegree",function(t,e){return t>e})}),W(Er,{totalDegree:function(t){for(var e=0,n=this.nodes(),r=0;r<n.length;r++)e+=n[r].degree(t);return e}});var Lr,Tr,Dr=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(!i.locked()){var o=i._private.position,a={x:null!=e.x?e.x-o.x:0,y:null!=e.y?e.y-o.y:0};i.isParent()&&!(0===a.x&&0===a.y)&&i.children().shift(a,n),i.dirtyBoundingBoxCache()}}},Ar={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Dr(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(Lr=Tr={position:qn.data(Ar),silentPosition:qn.data(W({},Ar,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Dr(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(E(t))e?this.silentPosition(t):this.position(t);else if(b(t)){var n=t,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=n(a,i))&&(e?a.silentPosition(o):a.position(o))}r.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,n){var r;if(E(t)?(r={x:C(t.x)?t.x:0,y:C(t.y)?t.y:0},n=e):_(t)&&C(e)&&((r={x:0,y:0})[t]=e),null!=r){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=a.position(),l={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(l):a.position(l)}i.endBatch()}return this},silentShift:function(t,e){return E(t)?this.shift(t,!0):_(t)&&C(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),a=E(t)?t:void 0,s=void 0!==a||void 0!==e&&_(t);if(n&&n.isNode()){if(!s){var l=n.position();return a=zt(l,i,o),void 0===t?a:a[t]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==e?c.position(t,(e-o[t])/i):void 0!==a&&c.position(jt(a,i,o))}}else if(!s)return;return this},relativePosition:function(t,e){var n=this[0],r=this.cy(),i=E(t)?t:void 0,o=void 0!==i||void 0!==e&&_(t),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var s=n.position(),l=a?n.parent():null,u=l&&l.length>0;u&&(l=l[0]);var c=u?l.position():{x:0,y:0};return i={x:s.x-c.x,y:s.y-c.y},void 0===t?i:i[t]}for(var h=0;h<this.length;h++){var d=this[h],p=a?d.parent():null,f=p&&p.length>0;f&&(p=p[0]);var g=f?p.position():{x:0,y:0};void 0!==e?d.position(t,e+g[t]):void 0!==i&&d.position({x:i.x+g.x,y:i.y+g.y})}}else if(!o)return;return this}}).modelPosition=Lr.point=Lr.position,Lr.modelPositions=Lr.points=Lr.positions,Lr.renderedPoint=Lr.renderedPosition,Lr.relativePoint=Lr.relativePosition;var Rr,Nr,Pr=Tr;Rr=Nr={},Nr.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Nr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){if(e.isParent()){var n=e._private;n.compoundBoundsClean=!1,n.bbCache=null,t||e.emitAndNotify("bounds")}}),this):this},Nr.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(t){if(t.isParent()){var e=t._private,n=t.children(),r="include"===t.pstyle("compound-sizing-wrt-labels").value,i={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=e.position;(0===o.w||0===o.h)&&((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var h=y(i.width.val-o.w,s,l),d=h.biasDiff,p=h.biasComplementDiff,f=y(i.height.val-o.h,u,c),g=f.biasDiff,v=f.biasComplementDiff;e.autoPadding=function(t,e,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,i.width.val),a.x=(-d+o.x1+o.x2+p)/2,e.autoHeight=Math.max(o.h,i.height.val),a.y=(-g+o.y1+o.y2+v)/2}function y(t,e,n){var r=0,i=0,o=e+n;return t>0&&o>0&&(r=e/o*t,i=n/o*t),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;(!o.compoundBoundsClean||t)&&(n(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Ir=function(t){return t===1/0||t===-1/0?0:t},Sr=function(t,e,n,r,i){r-e==0||i-n==0||null==e||null==n||null==r||null==i||(t.x1=e<t.x1?e:t.x1,t.x2=r>t.x2?r:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Or=function(t,e){return null==e?t:Sr(t,e.x1,e.y1,e.x2,e.y2)},Mr=function(t,e,n){return Ct(t,e,n)},kr=function(t,e,n){if(!e.cy().headless()){var r,i,o=e._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==e.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,i=a.srcY):"target"===n?(r=a.tgtX,i=a.tgtY):(r=a.midX,i=a.midY);var l=o.arrowBounds=o.arrowBounds||{},u=l[n]=l[n]||{};u.x1=r-s,u.y1=i-s,u.x2=r+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,oe(u,1),Sr(t,u.x1,u.y1,u.x2,u.y2)}}},Fr=function(t,e,n){if(!e.cy().headless()){var r,i=e._private,o=i.rstyle;if(e.pstyle((r=n?n+"-":"")+"label").strValue){var a,s,l,u,c=e.pstyle("text-halign"),h=e.pstyle("text-valign"),d=Mr(o,"labelWidth",n),p=Mr(o,"labelHeight",n),f=Mr(o,"labelX",n),g=Mr(o,"labelY",n),v=e.pstyle(r+"text-margin-x").pfValue,y=e.pstyle(r+"text-margin-y").pfValue,m=e.isEdge(),_=e.pstyle(r+"text-rotation"),b=e.pstyle("text-outline-width").pfValue,x=e.pstyle("text-border-width").pfValue/2,E=e.pstyle("text-background-padding").pfValue,C=p,w=d,L=w/2,T=C/2;if(m)a=f-L,s=f+L,l=g-T,u=g+T;else{switch(c.value){case"left":a=f-w,s=f;break;case"center":a=f-L,s=f+L;break;case"right":a=f,s=f+w}switch(h.value){case"top":l=g-C,u=g;break;case"center":l=g-T,u=g+T;break;case"bottom":l=g,u=g+C}}a+=v-Math.max(b,x)-E-2,s+=v+Math.max(b,x)+E+2,l+=y-Math.max(b,x)-E-2,u+=y+Math.max(b,x)+E+2;var D=n||"main",A=i.labelBounds,R=A[D]=A[D]||{};R.x1=a,R.y1=l,R.x2=s,R.y2=u,R.w=s-a,R.h=u-l;var N=m&&"autorotate"===_.strValue;if(N||null!=_.pfValue&&0!==_.pfValue){var P=N?Mr(i.rstyle,"labelAngle",n):_.pfValue,I=Math.cos(P),S=Math.sin(P),O=(a+s)/2,M=(l+u)/2;if(!m){switch(c.value){case"left":O=s;break;case"right":O=a}switch(h.value){case"top":M=u;break;case"bottom":M=l}}var k=function(t,e){return{x:(t-=O)*I-(e-=M)*S+O,y:t*S+e*I+M}},F=k(a,l),B=k(a,u),W=k(s,l),U=k(s,u);a=Math.min(F.x,B.x,W.x,U.x),s=Math.max(F.x,B.x,W.x,U.x),l=Math.min(F.y,B.y,W.y,U.y),u=Math.max(F.y,B.y,W.y,U.y)}var G=D+"Rot",H=A[G]=A[G]||{};H.x1=a,H.y1=l,H.x2=s,H.y2=u,H.w=s-a,H.h=u-l,Sr(t,a,l,s,u),Sr(i.labelBounds.all,a,l,s,u)}return t}},Br=function(t){var e=0,n=function(t){return(t?1:0)<<e++},r=0;return r+=n(t.incudeNodes),r+=n(t.includeEdges),r+=n(t.includeLabels),r+=n(t.includeMainLabels),r+=n(t.includeSourceLabels),(r+=n(t.includeTargetLabels))+n(t.includeOverlays)},Wr=function(t){if(t.isEdge()){var e=t.source().position(),n=t.target().position(),r=function(t){return Math.round(t)};return function(t,e){var n={value:0,done:!1},r=0,i=t.length;return Q({next:function(){return r<i?n.value=t[r++]:n.done=!0,n}},void 0)}([r(e.x),r(e.y),r(n.x),r(n.y)])}return 0},Ur=function(t,e){var n,r=t._private,i=t.isEdge(),o=(null==e?Hr:Br(e))===Hr,a=Wr(t),s=r.bbCachePosKey===a,l=e.useCache&&s,u=function(t){return null==t._private.bbCache||t._private.styleDirty};if(!l||u(t)||i&&u(t.source())||u(t.target())?(s||t.recalculateRenderedStyle(l),n=function(t,e){var n,r,i,o,a,s,l=t._private.cy,u=l.styleEnabled(),c=l.headless(),h=ne(),d=t._private,p=t.isNode(),f=t.isEdge(),g=d.rstyle,v=p&&u?t.pstyle("bounds-expansion").pfValue:[0],y=function(t){return"none"!==t.pstyle("display").value},m=!u||y(t)&&(!f||y(t.source())&&y(t.target()));if(m){var _=0;u&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(_=t.pstyle("overlay-padding").value);var b=0;if(u&&(b=t.pstyle("width").pfValue/2),p&&e.includeNodes){var x=t.position();a=x.x,s=x.y;var E=t.outerWidth()/2,C=t.outerHeight()/2;Sr(h,n=a-E,i=s-C,r=a+E,o=s+C)}else if(f&&e.includeEdges)if(u&&!c){var w=t.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),r=Math.max(g.srcX,g.midX,g.tgtX),i=Math.min(g.srcY,g.midY,g.tgtY),o=Math.max(g.srcY,g.midY,g.tgtY),Sr(h,n-=b,i-=b,r+=b,o+=b),"haystack"===w){var L=g.haystackPts;if(L&&2===L.length){if((n=L[0].x)>(r=L[1].x)){var T=n;n=r,r=T}if((i=L[0].y)>(o=L[1].y)){var D=i;i=o,o=D}Sr(h,n-b,i-b,r+b,o+b)}}else if("bezier"===w||"unbundled-bezier"===w||"segments"===w||"taxi"===w){var A;switch(w){case"bezier":case"unbundled-bezier":A=g.bezierPts;break;case"segments":case"taxi":A=g.linePts}if(null!=A)for(var R=0;R<A.length;R++){var N=A[R];Sr(h,n=N.x-b,i=N.y-b,r=N.x+b,o=N.y+b)}}}else{var P=t.source().position(),I=t.target().position();if((n=P.x)>(r=I.x)){var S=n;n=r,r=S}if((i=P.y)>(o=I.y)){var O=i;i=o,o=O}Sr(h,n-=b,i-=b,r+=b,o+=b)}if(u&&e.includeEdges&&f&&(kr(h,t,"mid-source"),kr(h,t,"mid-target"),kr(h,t,"source"),kr(h,t,"target")),u&&"yes"===t.pstyle("ghost").value){var M=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue;Sr(h,h.x1+M,h.y1+k,h.x2+M,h.y2+k)}var F=d.bodyBounds=d.bodyBounds||{};se(F,h),ae(F,v),oe(F,1),u&&Sr(h,(n=h.x1)-_,(i=h.y1)-_,(r=h.x2)+_,(o=h.y2)+_);var B=d.overlayBounds=d.overlayBounds||{};se(B,h),ae(B,v),oe(B,1);var W=d.labelBounds=d.labelBounds||{};null!=W.all?function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0}(W.all):W.all=ne(),u&&e.includeLabels&&(e.includeMainLabels&&Fr(h,t,null),f&&(e.includeSourceLabels&&Fr(h,t,"source"),e.includeTargetLabels&&Fr(h,t,"target")))}return h.x1=Ir(h.x1),h.y1=Ir(h.y1),h.x2=Ir(h.x2),h.y2=Ir(h.y2),h.w=Ir(h.x2-h.x1),h.h=Ir(h.y2-h.y1),h.w>0&&h.h>0&&m&&(ae(h,v),oe(h,1)),h}(t,Gr),r.bbCache=n,r.bbCachePosKey=a):n=r.bbCache,!o){var c=t.isNode();n=ne(),(e.includeNodes&&c||e.includeEdges&&!c)&&Or(n,e.includeOverlays?r.overlayBounds:r.bodyBounds),e.includeLabels&&(e.includeMainLabels&&(!i||e.includeSourceLabels&&e.includeTargetLabels)?Or(n,r.labelBounds.all):(e.includeMainLabels&&Or(n,r.labelBounds.mainRot),e.includeSourceLabels&&Or(n,r.labelBounds.sourceRot),e.includeTargetLabels&&Or(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Gr={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Hr=Br(Gr),Vr=bt(Gr);Nr.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=ne();var n=Vr(t=t||Gr),r=this;if(r.cy().styleEnabled())for(var i=0;i<r.length;i++){var o=r[i],a=o._private,s=Wr(o);o.recalculateRenderedStyle(n.useCache&&a.bbCachePosKey===s&&!a.styleDirty)}this.updateCompoundBounds(!t.useCache);for(var l=0;l<r.length;l++)Or(e,Ur(r[l],n))}else t=void 0===t?Gr:Vr(t),e=Ur(this[0],t);return e.x1=Ir(e.x1),e.y1=Ir(e.y1),e.x2=Ir(e.x2),e.y2=Ir(e.y2),e.w=Ir(e.x2-e.x1),e.h=Ir(e.y2-e.y1),e},Nr.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Nr.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=e.filter(function(t){return t.isParent()}),e=e.not(i)),E(t)){var o=t;t=function(){return o}}n.startBatch(),e.forEach(function(e,n){return e._private.bbAtOldPos=t(e,n)}).silentPositions(t),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var a=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(t){return t._private.bbAtOldPos}),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),a},Rr.boundingbox=Rr.bb=Rr.boundingBox,Rr.renderedBoundingbox=Rr.renderedBoundingBox;var zr,jr,Yr=Nr;zr=jr={};var Xr=function(t){t.uppercaseName=k(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=k(t.outerName),zr[t.name]=function(){var e=this[0],n=e._private;if(e){if(!n.cy._private.styleEnabled)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var r=e.pstyle(t.name);switch(r.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return r.pfValue}}},zr["outer"+t.uppercaseName]=function(){var e=this[0];if(e)return e._private.cy._private.styleEnabled?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},zr["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},zr["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Xr({name:"width"}),Xr({name:"height"}),jr.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},jr.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},jr.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var qr=jr,Kr={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Jr=Object.keys(Kr).reduce(function(t,e){var n=Kr[e],r=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,n.get)},t[r]=n.mult?function(){return function(t,e){if(t.isEdge()){var n=t.cy(),r=n.pan(),i=n.zoom();return e(t).map(function(t){return zt(t,i,r)})}}(this,n.get)}:function(){return function(t,e){if(t.isEdge()){var n=t.cy();return zt(e(t),n.zoom(),n.pan())}}(this,n.get)},t},{}),Qr=W({},Pr,Yr,qr,Jr),$r=function(t,e){this.recycle(t,e)};function Zr(){return!1}function ti(){return!0}$r.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Zr,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?ti:Zr):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ti;var t=this.originalEvent;!t||t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ti;var t=this.originalEvent;!t||t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ti,this.stopPropagation()},isDefaultPrevented:Zr,isPropagationStopped:Zr,isImmediatePropagationStopped:Zr};var ei=/^([^.]+)(\.(?:[^.]+))?$/,ni={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ri=Object.keys(ni),ii={};function oi(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,e=arguments.length>1?arguments[1]:void 0,n=0;n<ri.length;n++){var r=ri[n];this[r]=t[r]||ni[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ai=oi.prototype,si=function(t,e,n,r,i,o,a){b(r)&&(i=r,r=null),a&&(o=null==o?a:W({},o,a));for(var s=x(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!N(u)){var c=u.match(ei);if(c&&!1===e(t,u,c[1],c[2]?c[2]:null,r,i,o))break}}},li=function(t,e){return t.addEventFields(t.context,e),new $r(e.type,e)};ai.on=ai.addListener=function(t,e,n,r,i){return si(this,function(t,e,n,r,i,o,a){b(o)&&t.listeners.push({event:e,callback:o,type:n,namespace:r,qualifier:i,conf:a})},t,e,n,r,i),this},ai.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})},ai.removeListener=ai.off=function(t,e,n,r){var i=this;0!==this.emitting&&(this.listeners=function(t){return t.slice()}(this.listeners));for(var o=this.listeners,a=function(a){var s=o[a];si(i,function(e,n,r,i,l,u){if((s.type===r||"*"===t)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!l||e.qualifierCompare(s.qualifier,l))&&(!u||s.callback===u))return o.splice(a,1),!1},t,e,n,r)},s=o.length-1;s>=0;s--)a(s);return this},ai.removeAllListeners=function(){return this.removeListener("*")},ai.emit=ai.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,x(e)||(e=[e]),function(t,e,n){if(function(t){return"event"===m(t)}(n))e(t,n);else if(E(n))e(t,li(t,n));else for(var r=x(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!N(o)){var a=o.match(ei);a&&e(t,li(t,{type:a[1],namespace:a[2]?a[2]:null,target:t.context}))}}}(this,function(t,o){null!=n&&(i=(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}]).length);for(var a=function(n){var i=r[n];if(i.type===o.type&&(!i.namespace||i.namespace===o.namespace||".*"===i.namespace)&&t.eventMatches(t.context,i,o)){var a=[o];null!=e&&function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}(a,e),t.beforeEmit(t.context,i,o),i.conf&&i.conf.one&&(t.listeners=t.listeners.filter(function(t){return t!==i}));var s=t.callbackContext(t.context,i,o),l=i.callback.apply(s,a);t.afterEmit(t.context,i,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)a(s);t.bubble(t.context)&&!o.isPropagationStopped()&&t.parent(t.context).emit(o,e)},t),this.emitting--,this};var ui={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&T(n.target)&&r.matches(n.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},ci=function(t){return _(t)?new cr(t):t},hi={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new oi(ui,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var r=ci(e),i=0;i<this.length;i++)this[i].emitter().on(t,r,n);return this},removeListener:function(t,e,n){for(var r=ci(e),i=0;i<this.length;i++)this[i].emitter().removeListener(t,r,n);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,n){for(var r=ci(e),i=0;i<this.length;i++)this[i].emitter().one(t,r,n);return this},once:function(t,e,n){for(var r=ci(e),i=0;i<this.length;i++)this[i].emitter().on(t,r,n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};qn.eventAliasesOn(hi);var di={nodes:function(t){return this.filter(function(t){return t.isNode()}).filter(t)},edges:function(t){return this.filter(function(t){return t.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?t.push(r):e.push(r)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(_(t)||L(t))return new cr(t).filter(this);if(b(t)){for(var n=this.spawn(),r=this,i=0;i<r.length;i++){var o=r[i];(e?t.apply(e,[o,i,r]):t(o,i,r))&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){_(t)&&(t=this.filter(t));for(var e=this.spawn(),n=0;n<this.length;n++){var r=this[n];t.has(r)||e.push(r)}return e}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(_(t))return this.filter(t);for(var e=this.spawn(),n=this.length<t.length,r=n?this:t,i=n?t:this,o=0;o<r.length;o++){var a=r[o];i.has(a)&&e.push(a)}return e},xor:function(t){var e=this._private.cy;_(t)&&(t=e.$(t));var n=this.spawn(),r=t,i=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];e.hasElementWithId(i._private.data.id)||n.push(i)}};return i(this,r),i(r,this),n},diff:function(t){var e=this._private.cy;_(t)&&(t=e.$(t));var n=this.spawn(),r=this.spawn(),i=this.spawn(),o=t,a=function(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];e.hasElementWithId(o._private.data.id)?i.merge(o):n.push(o)}};return a(this,o,n),a(o,this,r),{left:n,right:r,both:i}},add:function(t){var e=this._private.cy;if(!t)return this;if(_(t)){var n=t;t=e.mutableElements().filter(n)}for(var r=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i];!this.has(o)&&r.push(o)}return r},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&_(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=e.map,o=0;o<t.length;o++){var a=t[o],s=a._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=a,i.set(s,{ele:a,index:l})}}return this},unmergeAt:function(t){var e=this[t].id(),n=this._private.map;if(this[t]=void 0,n.delete(e),this.length>1&&t!==this.length-1){var r=this.length-1,i=this[r],o=i._private.data.id;this[r]=void 0,this[t]=i,n.set(o,{ele:i,index:t})}return this.length--,this},unmergeOne:function(t){var e=this._private.map.get((t=t[0])._private.data.id);return e?(this.unmergeAt(e.index),this):this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&_(t)){var n=t;t=e.mutableElements().filter(n)}for(var r=0;r<t.length;r++)this.unmergeOne(t[r]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],a=e?t.apply(e,[o,i,r]):t(o,i,r);n.push(a)}return n},reduce:function(t,e){for(var n=e,r=this,i=0;i<r.length;i++)n=t(n,r[i],i,r);return n},max:function(t,e){for(var n,r=-1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(t,e){for(var n,r=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s<r&&(r=s,n=a)}return{value:r,ele:n}}},pi=di;pi.u=pi["|"]=pi["+"]=pi.union=pi.or=pi.add,pi["\\"]=pi["!"]=pi["-"]=pi.difference=pi.relativeComplement=pi.subtract=pi.not,pi.n=pi["&"]=pi["."]=pi.and=pi.intersection=pi.intersect,pi["^"]=pi["(+)"]=pi["(-)"]=pi.symmetricDifference=pi.symdiff=pi.xor,pi.fnFilter=pi.filterFn=pi.stdFilter=pi.filter,pi.complement=pi.abscomp=pi.absoluteComplement;var fi,gi=function(t,e){var n=t.cy().hasCompoundNodes();function r(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?lt:0}var i=r(t)-r(e);if(0!==i)return i;function o(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var a=o(t)-o(e);if(0!==a)return a;var s=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==s?s:t.poolIndex()-e.poolIndex()},vi={forEach:function(t,e){if(b(t))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(e?t.apply(e,[i,r,this]):t(i,r,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],r=this.length;null==e&&(e=r),null==t&&(t=0),t<0&&(t=r+t),e<0&&(e=r+e);for(var i=t;i>=0&&i<e&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!b(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(gi)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:lt-1}var r=e.target,i=e.source.zDepth(),o=r.zDepth();return Math.max(i,o,0)}}};vi.each=vi.forEach,fi="undefined",("undefined"==typeof Symbol?"undefined":a(Symbol))!=fi&&a(Symbol.iterator)!=fi&&(vi[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},n=0,r=this.length;return c({next:function(){return n<r?e.value=t[n++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,function(){return this})});var yi=bt({nodeDimensionsIncludeLabels:!1}),mi={layoutDimensions:function(t){var e;if(t=yi(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();e={w:n.w,h:n.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return(0===e.w||0===e.h)&&(e.w=e.h=1),e},layoutPositions:function(t,e,n){var r=this.nodes().filter(function(t){return!t.isParent()}),i=this.cy(),o=e.eles,a=function(t){return t.id()},s=I(n,a);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,u=function(){if(!l)return null;for(var t=ne(),e=0;e<r.length;e++){var n=s(r[e],e);ie(t,n.x,n.y)}return t}(),c=I(function(t,n){var r=s(t,n);return l&&(r=function(t,e,n){var r=e.x1+e.w/2,i=e.y1+e.h/2;return{x:r+(n.x-r)*t,y:i+(n.y-i)*t}}(Math.abs(e.spacingFactor),u,r)),null!=e.transform&&(r=e.transform(t,r)),r},a);if(e.animate){for(var h=0;h<r.length;h++){var d=r[h],p=c(d,h);if(null==e.animateFilter||e.animateFilter(d,h)){var f=d.animation({position:p,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(f)}else d.position(p)}if(e.fit){var g=i.animation({fit:{boundingBox:o.boundingBoxAt(c),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var v=i.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(v)}t.animations.forEach(function(t){return t.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),jn.all(t.animations.map(function(t){return t.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else r.positions(c),e.fit&&i.fit(e.eles,e.padding),null!=e.zoom&&i.zoom(e.zoom),e.pan&&i.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(W({},t,{eles:this}))}};function _i(t,e,n){var r,i=n._private,o=i.styleCache=i.styleCache||[];return null!=(r=o[t])||(r=o[t]=e(n)),r}function bi(t,e){return t=nt(t),function(n){return _i(t,e,n)}}function xi(t,e){t=nt(t);var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return _i(t,n,e)}}mi.createLayout=mi.makeLayout=mi.layout;var Ei={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),r=e.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),n=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(n)):this.forEach(function(t){n(t),t.connectedEdges().forEach(n)}),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var n=this;t=!(!t&&void 0!==t),e.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return t?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(t){return t._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var n=this[e];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[t];return null!=i?i:e?r.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled()&&e)return e.pstyle(t).units},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(E(t))r.applyBypass(this,t,!1),this.emitAndNotify("style");else if(_(t)){if(void 0===e){var i=this[0];return i?r.getStylePropertyValue(i,t):void 0}r.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style(),r=this;if(void 0===t)for(var i=0;i<r.length;i++)n.removeAllBypasses(r[i],!1);else{t=t.split(/\s+/);for(var o=0;o<r.length;o++)n.removeBypasses(r[o],t,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!e)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++)i*=o[a].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ci(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var r=0;r<n.length;r++)if(!e(n[r]))return!1;return!0}function wi(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var i=this[0],o=t.hasCompoundNodes();if(i){var a=i._private;if(!e(i))return!1;if(i.isNode())return!o||Ci(i,r);var s=a.source,l=a.target;return n(s)&&(!o||Ci(s,n))&&(s===l||n(l)&&(!o||Ci(l,n)))}}}var Li=bi("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});Ei.takesUpSpace=xi("takesUpSpace",wi({ok:Li}));var Ti=bi("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Li(t)}),Di=bi("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&Li(t)});Ei.interactive=xi("interactive",wi({ok:Ti,parentOk:Di,edgeOkViaNode:Li})),Ei.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Ai=bi("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Li(t)});Ei.visible=xi("visible",wi({ok:Ai,edgeOkViaNode:Li})),Ei.hidden=function(){var t=this[0];if(t)return!t.visible()},Ei.isBundledBezier=xi("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Ei.bypass=Ei.css=Ei.style,Ei.renderedCss=Ei.renderedStyle,Ei.removeBypass=Ei.removeCss=Ei.removeStyle,Ei.pstyle=Ei.parsedStyle;var Ri={};function Ni(t){return function(){var e=arguments,n=[];if(2===e.length){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(1===e.length&&b(e[0])){var o=e[0];this.on(t.event,o)}else if(0===e.length||1===e.length&&x(e[0])){for(var a=1===e.length?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(l);if(void 0!==h&&(u=h,!h))return this}u&&(l._private[t.field]=t.value,c&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(t.event),a&&d.emit(a)}return this}}function Pi(t){Ri[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},Ri[t.on]=Ni({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ri[t.off]=Ni({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Pi({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Pi({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Pi({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Pi({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ri.deselect=Ri.unselect,Ri.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Pi({field:"active",on:"activate",off:"unactivate"}),Pi({field:"pannable",on:"panify",off:"unpanify"}),Ri.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ii={},Si=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(t.noIncomingEdges&&c===i&&u!==i||t.noOutgoingEdges&&u===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,!0).filter(e)}},Oi=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();t.outgoing&&l===i?(n.push(s),n.push(u)):t.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,!0).filter(e)}},Mi=function(t){return function(e){for(var n=this,r=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,!0).filter(e)}};function ki(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[t.attr];i&&n.push(i)}return this.spawn(n,!0).filter(e)}}function Fi(t){return function(e){var n=[],r=this._private.cy,i=t||{};_(e)&&(e=r.$(e));for(var o=0;o<e.length;o++)for(var a=e[o]._private.edges,s=0;s<a.length;s++){var l=a[s],u=l._private.data,c=this.hasElementWithId(u.source)&&e.hasElementWithId(u.target),h=e.hasElementWithId(u.source)&&this.hasElementWithId(u.target);!c&&!h||(i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!c||i.thisIsTgt&&!h)||n.push(l)}return this.spawn(n,!0)}}function Bi(t){return t=W({},{codirected:!1},t),function(e){for(var n=[],r=this.edges(),i=t,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,h=0;h<c.length;h++){var d=c[h],p=d._private.data,f=p.target,g=p.source,v=f===u&&g===l;(i.codirected&&v||!i.codirected&&(v||l===f&&u===g))&&n.push(d)}return this.spawn(n,!0).filter(e)}}Ii.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},W(Ii,{roots:Si({noIncomingEdges:!0}),leaves:Si({noOutgoingEdges:!0}),outgoers:gr(Oi({outgoing:!0}),"outgoers"),successors:Mi({outgoing:!0}),incomers:gr(Oi({incoming:!0}),"incomers"),predecessors:Mi({incoming:!0})}),W(Ii,{neighborhood:gr(function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Ii.neighbourhood=Ii.neighborhood,Ii.closedNeighbourhood=Ii.closedNeighborhood,Ii.openNeighbourhood=Ii.openNeighborhood,W(Ii,{source:gr(function(t){var e,n=this[0];return n&&(e=n._private.source||n.cy().collection()),e&&t?e.filter(t):e},"source"),target:gr(function(t){var e,n=this[0];return n&&(e=n._private.target||n.cy().collection()),e&&t?e.filter(t):e},"target"),sources:ki({attr:"source"}),targets:ki({attr:"target"})}),W(Ii,{edgesWith:gr(Fi(),"edgesWith"),edgesTo:gr(Fi({thisIsSrc:!0}),"edgesTo")}),W(Ii,{connectedEdges:gr(function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++)e.push(i[o])}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:gr(function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];!r.isEdge()||(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:gr(Bi(),"parallelEdges"),codirectedEdges:gr(Bi({codirected:!0}),"codirectedEdges")}),W(Ii,{components:function(t){var e=this,n=e.cy(),r=n.collection(),i=null==t?e.nodes():t.nodes(),o=[];null!=t&&i.empty()&&(i=t.sources());var a=function(t,e){r.merge(t),i.unmerge(t),e.merge(t)};if(i.empty())return e.spawn();var s=function(){var t=n.collection();o.push(t);var r=i[0];a(r,t),e.bfs({directed:!1,roots:r,visit:function(e){return a(e,t)}}),t.forEach(function(n){n.connectedEdges().forEach(function(n){e.has(n)&&t.has(n.source())&&t.has(n.target())&&t.merge(n)})})};do{s()}while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Ii.componentsOf=Ii.components;var Wi=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==t){var r=new Lt,i=!1;if(e){if(e.length>0&&E(e[0])&&!T(e[0])){i=!0;for(var o=[],a=new Dt,s=0,l=e.length;s<l;s++){var u=e[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=yt();else if(t.hasElementWithId(c.id)||a.has(c.id))continue;var h=new At(t,u,!1);o.push(h),a.add(c.id)}e=o}}else e=[];this.length=0;for(var d=0,p=e.length;d<p;d++){var f=e[d][0];if(null!=f){var g=f._private.data.id;(!n||!r.has(g))&&(n&&r.set(g,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={eles:this,cy:t,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(t){this.lazyMap=t},rebuildMap:function(){for(var t=this.lazyMap=new Lt,e=this.eles,n=0;n<e.length;n++){var r=e[n];t.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=r),i&&this.restore()}else pt("A collection must have a reference to the core")},Ui=At.prototype=Wi.prototype=Object.create(Array.prototype);Ui.instanceString=function(){return"collection"},Ui.spawn=function(t,e){return new Wi(this.cy(),t,e)},Ui.spawnSelf=function(){return this.spawn(this)},Ui.cy=function(){return this._private.cy},Ui.renderer=function(){return this._private.cy.renderer()},Ui.element=function(){return this[0]},Ui.collection=function(){return D(this)?this:new Wi(this._private.cy,[this])},Ui.unique=function(){return new Wi(this._private.cy,this,!0)},Ui.hasElementWithId=function(t){return this._private.map.has(t=""+t)},Ui.getElementById=function(t){var e=this._private.cy,n=this._private.map.get(t=""+t);return n?n.ele:new Wi(e)},Ui.$id=Ui.getElementById,Ui.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Ui.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},Ui.indexOfId=function(t){return this._private.map.get(t=""+t).index},Ui.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var r=e._private;if(E(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,l=t.data.target;null!=s&&s!=i.source&&(a.source=""+s,o=!0),null!=l&&l!=i.target&&(a.target=""+l,o=!0),o&&(e=e.move(a))}else{var u=t.data.parent;"parent"in t.data&&(null!=u||null!=i.parent)&&u!=i.parent&&(void 0===u&&(u=null),null!=u&&(u=""+u),e=e.move({parent:u}))}}t.position&&e.position(t.position);var c=function(n,i,o){var a=t[n];null!=a&&a!==r[n]&&(a?e[i]():e[o]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var h={data:vt(r.data),position:vt(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:""},d=0;return r.classes.forEach(function(t){return h.classes+=0==d++?t:" "+t}),h}}},Ui.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},Ui.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n].json(),i=new At(t,r,!1);e.push(i)}return new Wi(t,e)},Ui.copy=Ui.clone,Ui.restore=function(){for(var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,i=r.cy(),o=i._private,a=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];n&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}t=a.concat(s);var h,d=function(){t.splice(h,1),h--};for(h=0;h<t.length;h++){var p=t[h],f=p._private,g=f.data;if(p.clearTraversalCache(),n||f.removed)if(void 0===g.id)g.id=yt();else if(C(g.id))g.id=""+g.id;else{if(N(g.id)||!_(g.id)){pt("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(i.hasElementWithId(g.id)){pt("Can not create second element with ID `"+g.id+"`"),d();continue}}var v=g.id;if(p.isNode()){var y=f.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(p.isEdge()){for(var m=p,b=["source","target"],x=b.length,E=!1,w=0;w<x;w++){var L=b[w],T=g[L];C(T)&&(T=g[L]=""+g[L]),null==T||""===T?(pt("Can not create edge `"+v+"` with unspecified "+L),E=!0):i.hasElementWithId(T)||(pt("Can not create edge `"+v+"` with nonexistant "+L+" `"+T+"`"),E=!0)}if(E){d();continue}var D=i.getElementById(g.source),A=i.getElementById(g.target);D.same(A)?D._private.edges.push(m):(D._private.edges.push(m),A._private.edges.push(m)),m._private.source=D,m._private.target=A}f.map=new Lt,f.map.set(v,{ele:p,index:0}),f.removed=!1,n&&i.addToPool(p)}for(var R=0;R<a.length;R++){var P=a[R],I=P._private.data;C(I.parent)&&(I.parent=""+I.parent);var S=I.parent,O=null!=S;if(O){var M=i.getElementById(S);if(M.empty())I.parent=void 0;else{for(var k=!1,F=M;!F.empty();){if(P.same(F)){k=!0,I.parent=void 0;break}F=F.parent()}k||(M[0]._private.children.push(P),P._private.parent=M[0],o.hasCompoundNodes=!0)}}}if(t.length>0){for(var B=t.length===r.length?r:new Wi(i,t),W=0;W<B.length;W++){var U=B[W];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}(o.hasCompoundNodes?i.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?B.emitAndNotify("add"):n&&B.emit("add")}return r},Ui.removed=function(){var t=this[0];return t&&t._private.removed},Ui.inside=function(){var t=this[0];return t&&!t._private.removed},Ui.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},o=n._private.cy;function a(t){for(var e=t._private.edges,n=0;n<e.length;n++)l(e[n])}function s(t){for(var e=t._private.children,n=0;n<e.length;n++)l(e[n])}function l(t){var n=i[t.id()];e&&t.removed()||n||(i[t.id()]=!0,t.isNode()?(r.push(t),a(t),s(t)):r.unshift(t))}for(var u=0,c=n.length;u<c;u++){var h=n[u];l(h)}function d(t,e){xt(t._private.edges,e),t.clearTraversalCache()}function p(t){t.clearTraversalCache()}var f=[];function g(t,e){e=e[0];var n=(t=t[0])._private.children,r=t.id();xt(n,e),e._private.parent=null,f.ids[r]||(f.ids[r]=!0,f.push(t))}f.ids={},n.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var v=0;v<r.length;v++){var y=r[v];if(y.isEdge()){var m=y.source()[0],_=y.target()[0];d(m,y),d(_,y);for(var b=y.parallelEdges(),x=0;x<b.length;x++){var E=b[x];p(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var C=y.parent();0!==C.length&&g(C,y)}e&&(y._private.removed=!0)}var w=o._private.elements;o._private.hasCompoundNodes=!1;for(var L=0;L<w.length;L++){var T=w[L];if(T.isParent()){o._private.hasCompoundNodes=!0;break}}var D=new Wi(this.cy(),r);D.size()>0&&(t?D.emitAndNotify("remove"):e&&D.emit("remove"));for(var A=0;A<f.length;A++){var R=f[A];(!e||!R.removed())&&R.updateStyle()}return D},Ui.move=function(t){var e=this._private.cy,n=this,r=!1,i=!1,o=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var a=o(t.source),s=o(t.target),l=null!=a&&e.hasElementWithId(a),u=null!=s&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var e=n[t],o=e._private.data;e.isEdge()&&(l&&(o.source=a),u&&(o.target=s))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(void 0!==t.parent){var c=o(t.parent);if(null===c||e.hasElementWithId(c)){var h=null===c?void 0:c;e.batch(function(){var t=n.remove(r,i);t.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var o=n[e],a=o._private.data;o.isNode()&&(a.parent=h)}t.restore(r,i)}),n.emitAndNotify("move")}}return this},[Bn,Kn,Jn,dr,vr,xr,Er,Qr,hi,di,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},vi,mi,Ei,Ri,Ii].forEach(function(t){W(Ui,t)});var Gi={add:function(t){var e,n=this;if(L(t)){var r=t;if(r._private.cy===n)e=r.restore();else{for(var i=[],o=0;o<r.length;o++)i.push(r[o].json());e=new Wi(n,i)}}else if(x(t))e=new Wi(n,t);else if(E(t)&&(x(t.nodes)||x(t.edges))){for(var a=t,s=[],l=["nodes","edges"],u=0,c=l.length;u<c;u++){var h=l[u],d=a[h];if(x(d))for(var p=0,f=d.length;p<f;p++){var g=W({group:h},d[p]);s.push(g)}}e=new Wi(n,s)}else e=new At(n,t).collection();return e},remove:function(t){return L(t)||_(t)&&(t=this.$(t)),t.remove()}},Hi=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),a=e(n,.5*r,o),s=e(n,r,a),l=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+1/6*(i.dx+2*(o.dx+a.dx)+s.dx)*r,n.v=n.v+l*r,n}return function t(e,r,i){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,h=1e-4;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,l.tension=e,l.friction=r,a=(o=null!==i)?(c=t(e,r))/i*.016:.016;s=n(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>h&&Math.abs(s.v)>h;);return o?function(t){return u[t*(u.length-1)|0]}:c}}(),Vi=function(t,e,n,r){var i=function(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var d=c?new Float32Array(l):new Array(l);function p(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function g(t){return 3*t}function v(t,e,n){return((p(e,n)*t+f(e,n))*t+g(e))*t}function y(t,e,n){return 3*p(e,n)*t*t+2*f(e,n)*t+g(e)}function m(e,r){for(var o=0;o<i;++o){var a=y(r,t,n);if(0===a)return r;r-=(v(r,t,n)-e)/a}return r}function _(){for(var e=0;e<l;++e)d[e]=v(e*u,t,n)}function b(e,r,i){var o,l,u=0;do{(o=v(l=r+(i-r)/2,t,n)-e)>0?i=l:r=l}while(Math.abs(o)>a&&++u<s);return l}function x(e){for(var r=0,i=1,a=l-1;i!==a&&d[i]<=e;++i)r+=u;--i;var s=r+(e-d[i])/(d[i+1]-d[i])*u,c=y(s,t,n);return c>=o?m(e,s):0===c?s:b(e,r,r+u)}var E=!1;function C(){E=!0,(t!==e||n!==r)&&_()}var w=function(i){return E||C(),t===e&&n===r?i:0===i?0:1===i?1:v(x(i),e,r)};w.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var L="generateBezier("+[t,e,n,r]+")";return w.toString=function(){return L},w}(t,e,n,r);return function(t,e,n){return t+(e-t)*i(n)}},zi={linear:function(t,e,n){return t+(e-t)*n},ease:Vi(.25,.1,.25,1),"ease-in":Vi(.42,0,1,1),"ease-out":Vi(0,0,.58,1),"ease-in-out":Vi(.42,0,.58,1),"ease-in-sine":Vi(.47,0,.745,.715),"ease-out-sine":Vi(.39,.575,.565,1),"ease-in-out-sine":Vi(.445,.05,.55,.95),"ease-in-quad":Vi(.55,.085,.68,.53),"ease-out-quad":Vi(.25,.46,.45,.94),"ease-in-out-quad":Vi(.455,.03,.515,.955),"ease-in-cubic":Vi(.55,.055,.675,.19),"ease-out-cubic":Vi(.215,.61,.355,1),"ease-in-out-cubic":Vi(.645,.045,.355,1),"ease-in-quart":Vi(.895,.03,.685,.22),"ease-out-quart":Vi(.165,.84,.44,1),"ease-in-out-quart":Vi(.77,0,.175,1),"ease-in-quint":Vi(.755,.05,.855,.06),"ease-out-quint":Vi(.23,1,.32,1),"ease-in-out-quint":Vi(.86,0,.07,1),"ease-in-expo":Vi(.95,.05,.795,.035),"ease-out-expo":Vi(.19,1,.22,1),"ease-in-out-expo":Vi(1,0,0,1),"ease-in-circ":Vi(.6,.04,.98,.335),"ease-out-circ":Vi(.075,.82,.165,1),"ease-in-out-circ":Vi(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return zi.linear;var r=Hi(t,e,n);return function(t,e,n){return t+(e-t)*r(n)}},"cubic-bezier":Vi};function ji(t,e,n,r,i){if(1===r||e===n)return n;var o=i(e,n,r);return null==t||((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max))),o}function Yi(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function Xi(t,e,n,r,i){var o=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var a=Yi(t,i),s=Yi(e,i);if(C(a)&&C(s))return ji(o,a,s,n,r);if(x(a)&&x(s)){for(var l=[],u=0;u<s.length;u++){var c=a[u],h=s[u];if(null!=c&&null!=h){var d=ji(o,c,h,n,r);l.push(d)}else l.push(h)}return l}}function qi(t,e,n,r){var i=!r,o=t._private,a=e._private,s=a.easing,l=a.startTime,u=(r?t:t.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=zi.linear;else{var c,h,d;c=_(s)?u.parse("transition-timing-function",s).value:s,_(c)?(h=c,d=[]):(h=c[1],d=c.slice(2).map(function(t){return+t})),d.length>0?("spring"===h&&d.push(a.duration),a.easingImpl=zi[h].apply(null,d)):a.easingImpl=zi[h]}var p,f=a.easingImpl;if(p=0===a.duration?1:(n-l)/a.duration,a.applying&&(p=a.progress),p<0?p=0:p>1&&(p=1),null==a.delay){var g=a.startPosition,v=a.position;if(v&&i&&!t.locked()){var y={};Ki(g.x,v.x)&&(y.x=Xi(g.x,v.x,p,f)),Ki(g.y,v.y)&&(y.y=Xi(g.y,v.y,p,f)),t.position(y)}var m=a.startPan,b=a.pan,x=o.pan,E=null!=b&&r;E&&(Ki(m.x,b.x)&&(x.x=Xi(m.x,b.x,p,f)),Ki(m.y,b.y)&&(x.y=Xi(m.y,b.y,p,f)),t.emit("pan"));var C=a.startZoom,w=a.zoom,L=null!=w&&r;L&&(Ki(C,w)&&(o.zoom=ee(o.minZoom,Xi(C,w,p,f),o.maxZoom)),t.emit("zoom")),(E||L)&&t.emit("viewport");var T=a.style;if(T&&T.length>0&&i){for(var D=0;D<T.length;D++){var A=T[D],R=A.name,N=a.startStyle[R],P=Xi(N,A,p,f,u.properties[N.name]);u.overrideBypass(t,R,P)}t.emit("style")}}return a.progress=p,p}function Ki(t,e){return!!(null!=t&&null!=e&&(C(t)&&C(e)||t&&e))}function Ji(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Qi(t,e){var n=e._private.aniEles,r=[];function i(e,n){var i=e._private,o=i.animation.current,a=i.animation.queue,s=!1;if(0===o.length){var l=a.shift();l&&o.push(l)}for(var u=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},c=o.length-1;c>=0;c--){var h=o[c],d=h._private;d.stopped?(o.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,u(d.frames)):!d.playing&&!d.applying||(d.playing&&d.applying&&(d.applying=!1),d.started||Ji(0,h,t),qi(e,h,t,n),d.applying&&(d.applying=!1),u(d.frames),null!=d.step&&d.step(t),h.completed()&&(o.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,u(d.completes)),s=!0)}return!n&&0===o.length&&0===a.length&&r.push(e),s}for(var o=!1,a=0;a<n.length;a++){var s=i(n[a]);o=o||s}var l=i(e,!0);(o||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var $i={animate:qn.animate(),animation:qn.animation(),animated:qn.animated(),clearQueue:qn.clearQueue(),delay:qn.delay(),delayAnimation:qn.delayAnimation(),stop:qn.stop(),addToAnimationPool:function(t){!this.styleEnabled()||this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(e,n){Qi(n,t)},e.beforeRenderPriorities.animations):function e(){!t._private.animationsRunning||Y(function(n){Qi(n,t),e()})}()}}},Zi={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&T(n.target)&&r.matches(n.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},to=function(t){return _(t)?new cr(t):t},eo={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new oi(Zi,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,to(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,to(e),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,n){return this.emitter().one(t,to(e),n),this},once:function(t,e,n){return this.emitter().one(t,to(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};qn.eventAliasesOn(eo);var no={png:function(t){return this._private.renderer.png(t=t||{})},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};no.jpeg=no.jpg;var ro={layout:function(t){var e=this;if(null!=t)if(null!=t.name){var n,r=t.name,i=e.extension("layout",r);if(null!=i)return n=_(t.eles)?e.$(t.eles):null!=t.eles?t.eles:e.$(),new i(W({},t,{cy:e,eles:n}));pt("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else pt("A `name` must be specified to make a layout");else pt("Layout options must be specified to make a layout")}};ro.createLayout=ro.makeLayout=ro.layout;var io={notify:function(t,e){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();null!=e&&r.merge(e)}else if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var r=t.batchNotifications[n];r.empty()?e.notify(n):e.notify(n,r)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e.getElementById(i).data(o)}})}},oo=bt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ao={renderTo:function(t,e,n,r){return this._private.renderer.renderTo(t,e,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,n=e.extension("renderer",t.name);if(null!=n){void 0!==t.wheelSensitivity&&gt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=oo(t);r.cy=e,e._private.renderer=new n(r),this.notify("init")}else pt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};ao.invalidateDimensions=ao.resize;var so={collection:function(t,e){return _(t)?this.$(t):L(t)?t.collection():x(t)?new Wi(this,t,e):new Wi(this)},nodes:function(t){var e=this.$(function(t){return t.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(t){return t.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};so.elements=so.filter=so.$;var lo={apply:function(t){for(var e=this,n=e._private.cy.collection(),r=0;r<t.length;r++){var i=t[r],o=e.getContextMeta(i);if(!o.empty){var a=e.getContextStyle(o),s=e.applyContextStyle(o,a,i);i._private.appliedInitStyle?e.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,e.updateStyleHints(i)&&n.push(i)}}return n},getPropertiesDiff:function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,o=r[i];if(o)return o;for(var a=[],s={},l=0;l<n.length;l++){var u=n[l],c="t"===e[l],h="t"===t[l]!==c,d=u.mappedProperties.length>0;if(h||c&&d){var p=void 0;h&&d||h?p=u.properties:d&&(p=u.mappedProperties);for(var f=0;f<p.length;f++){for(var g=p[f],v=g.name,y=!1,m=l+1;m<n.length&&("t"!==e[m]||!(y=null!=n[m].properties[g.name]));m++);!s[v]&&!y&&(s[v]=!0,a.push(v))}}}return r[i]=a,a},getContextMeta:function(t){for(var e,n=this,r="",i=t._private.styleCxtKey||"",o=0;o<n.length;o++){var a=n[o];r+=a.selector&&a.selector.matches(t)?"t":"f"}return e=n.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var r={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if("t"===e[i])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[e]=r,r},applyContextStyle:function(t,e,n){for(var r=t.diffPropNames,i={},o=this.types,a=0;a<r.length;a++){var s=r[a],l=e[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===o.fn&&null!=u&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(n))===c.prevFnValue)continue}var h=i[s]={prev:u};this.applyParsedProperty(n,l),h.next=n.pstyle(s),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(t){var e,n=t._private,r=this,i=r.propertyGroupKeys,o=function(t,e,n){return r.getPropertiesHash(t,e,n)},a=n.styleKey;if(t.removed())return!1;var s,l="nodes"===n.group,u=t._private.style;e=Object.keys(u);for(var c=0;c<i.length;c++)n.styleKeys[i[c]]=[q,J];for(var h=function(t,e){return n.styleKeys[e][0]=$(t,n.styleKeys[e][0])},d=function(t,e){return n.styleKeys[e][1]=Z(t,n.styleKeys[e][1])},p=function(t,e){h(t,e),d(t,e)},f=function(t,e){for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);h(r,e),d(r,e)}},g=0;g<e.length;g++){var v=e[g],y=u[v];if(null!=y){var m=this.properties[v],_=m.type,b=m.groupKey,x=void 0;null!=m.hashOverride?x=m.hashOverride(t,y):null!=y.pfValue&&(x=y.pfValue);var E=null==m.enums?y.value:null,C=null!=x,w=y.units;!_.number||!C&&null==E||_.multiple?f(y.strValue,b):(p(-128<(s=C?x:E)&&s<128&&Math.floor(s)!==s?2e9-(1024*s|0):s,b),!C&&null!=w&&f(w,b))}}for(var L=[q,J],T=0;T<i.length;T++){var D=n.styleKeys[i[T]];L[0]=$(D[0],L[0]),L[1]=Z(D[1],L[1])}n.styleKey=function(t,e){return 2097152*t+e}(L[0],L[1]);var A=n.styleKeys;n.labelDimsKey=tt(A.labelDimensions);var R=o(t,["label"],A.labelDimensions);if(n.labelKey=tt(R),n.labelStyleKey=tt(et(A.commonLabel,R)),!l){var N=o(t,["source-label"],A.labelDimensions);n.sourceLabelKey=tt(N),n.sourceLabelStyleKey=tt(et(A.commonLabel,N));var P=o(t,["target-label"],A.labelDimensions);n.targetLabelKey=tt(P),n.targetLabelStyleKey=tt(et(A.commonLabel,P))}if(l){var I=n.styleKeys,S=I.pie,O=[I.nodeBody,I.nodeBorder,I.backgroundImage,I.compound,S].filter(function(t){return null!=t}).reduce(et,[q,J]);n.nodeKey=tt(O),n.hasPie=null!=S&&S[0]!==q&&S[1]!==J}return a!==n.styleKey},clearStyleHints:function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var n,r=this,i=e,o=t._private.style,a=r.types,s=r.properties[i.name].type,l=i.bypass,u=o[i.name],c=u&&u.bypass,h=t._private,d="mapping",p=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},f=function(){var e=p(u),n=p(i);r.checkTriggers(t,i.name,e,n)};if(i&&"pie"===i.name.substr(0,3)&&gt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",l)),i.delete)return o[i.name]=void 0,f(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return u?!!u.bypass&&(o[i.name]=u.bypassed,f(),!0):(f(),!0);var g=function(){gt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var v=i.field.split("."),y=h.data,m=0;m<v.length&&y;m++)y=y[v[m]];if(null==y)return g(),!1;var _;if(!C(y))return gt("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var b=i.fieldMax-i.fieldMin;if((_=0===b?0:(y-i.fieldMin)/b)<0?_=0:_>1&&(_=1),s.color){var x=i.valueMin[0],E=i.valueMin[1],w=i.valueMax[1],L=i.valueMin[2],T=i.valueMax[2],D=null==i.valueMin[3]?1:i.valueMin[3],A=null==i.valueMax[3]?1:i.valueMax[3],R=[Math.round(x+(i.valueMax[0]-x)*_),Math.round(E+(w-E)*_),Math.round(L+(T-L)*_),Math.round(D+(A-D)*_)];n={bypass:i.bypass,name:i.name,value:R,strValue:"rgb("+R[0]+", "+R[1]+", "+R[2]+")"}}else{if(!s.number)return!1;n=this.parse(i.name,i.valueMin+(i.valueMax-i.valueMin)*_,i.bypass,d)}if(!n)return g(),!1;n.mapping=i,i=n;break;case a.data:for(var N=i.field.split("."),P=h.data,I=0;I<N.length&&P;I++)P=P[N[I]];if(null!=P&&(n=this.parse(i.name,P,i.bypass,d)),!n)return g(),!1;n.mapping=i,i=n;break;case a.fn:var S=null!=i.fnValue?i.fnValue:(0,i.value)(t);if(i.prevFnValue=S,null==S)return gt("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(n=this.parse(i.name,S,i.bypass,d)))return gt("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;n.mapping=vt(i),i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=c?u.bypassed:u,o[i.name]=i):c?u.bypassed=i:o[i.name]=i,f(),!0},cleanElements:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),e)for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else r._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=t.pstyle(c),d=e[c];if(d){var p=d.prev,f=null!=d.next?d.next:h,g=!1,v=void 0;!p||(C(p.pfValue)&&C(f.pfValue)?v=p.pfValue+1e-6*(g=f.pfValue-p.pfValue):C(p.value)&&C(f.value)?v=p.value+1e-6*(g=f.value-p.value):x(p.value)&&x(f.value)&&(g=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],v=p.strValue),g&&(s[c]=f.strValue,this.applyBypass(t,c,v),l=!0))}}if(!l)return;r.transitioning=!0,new jn(function(e){a>0?t.delayAnimation(a).play().promise().then(e):e()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)},checkTrigger:function(t,e,n,r,i,o){var a=this.properties[e],s=i(a);null!=s&&s(n,r)&&o(a)},checkZOrderTrigger:function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,function(t){return t.triggersZOrder},function(){i._private.cy.notify("zorder",t)})},checkBoundsTrigger:function(t,e,n,r){this.checkTrigger(t,e,n,r,function(t){return t.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"curve-style"===e&&("bezier"===n||"bezier"===r)&&i.triggersBoundsOfParallelBeziers&&t.parallelEdges().forEach(function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()})})},checkTriggers:function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r)}},uo={applyBypass:function(t,e,n,r){var i=[];if("*"===e||"**"===e){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var a=this.parse(this.properties[o].name,n,!0);a&&i.push(a)}}else if(_(e)){var s=this.parse(e,n,!0);s&&i.push(s)}else{if(!E(e))return!1;var l=e;r=n;for(var u=Object.keys(l),c=0;c<u.length;c++){var h=u[c],d=l[h];if(void 0===d&&(d=l[O(h)]),void 0!==d){var p=this.parse(h,d,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var f=!1,g=0;g<t.length;g++){for(var v=t[g],y={},m=void 0,b=0;b<i.length;b++){var x=i[b];if(r){var C=v.pstyle(x.name);m=y[x.name]={prev:C}}f=this.applyParsedProperty(v,vt(x))||f,r&&(m.next=v.pstyle(x.name))}f&&this.updateStyleHints(v),r&&this.updateTransitions(v,y,!0)}return f},overrideBypass:function(t,e,n){e=S(e);for(var r=0;r<t.length;r++){var i=t[r],o=i._private.style[e],a=this.properties[e].type,s=a.color,l=a.mutiple,u=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,e,n),this.checkTriggers(i,e,u,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var r=0;r<t.length;r++){for(var i=t[r],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=o[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}}},co={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(d&&e&&d.getComputedStyle)return d.getComputedStyle(e).getPropertyValue(t)}},ho={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var n=this;if(t=t[0]){for(var r={},i=0;i<n.properties.length;i++){var o=n.properties[i],a=n.getStylePropertyValue(t,o.name,e);null!=a&&(r[o.name]=a,r[O(o.name)]=a)}return r}},getIndexedStyle:function(t,e,n,r){var i=t.pstyle(e)[n][r];return null!=i?i:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var r=this.properties[e];r.alias&&(r=r.pointsTo);var i=r.type,o=t.pstyle(r.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(n&&i.number&&null!=a&&C(a)){var u=t.cy().zoom(),c=function(t){return t*u},h=function(t,e){return c(t)+e},d=x(a);return(d?s.every(function(t){return null!=t}):null!=s)?d?a.map(function(t,e){return h(t,s[e])}).join(" "):h(a,s):d?a.map(function(t){return _(t)?t:""+c(t)}).join(" "):""+c(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r].name,o=t.pstyle(i);void 0!==o&&(o=E(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(n[i]=o)}return n},getPropsList:function(t){var e=[],n=t,r=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a],l=r[a]||r[S(a)],u=this.parse(l.name,s);u&&e.push(u)}return e},getNonDefaultPropertiesHash:function(t,e,n){var r,i,o,a,s,l=n.slice();for(a=0;a<e.length;a++)if(null!=(r=t.pstyle(e[a],!1)))if(null!=r.pfValue)l[0]=$(o,l[0]),l[1]=Z(o,l[1]);else for(i=r.strValue,s=0;s<i.length;s++)o=i.charCodeAt(s),l[0]=$(o,l[0]),l[1]=Z(o,l[1]);return l}};ho.getPropertiesHash=ho.getNonDefaultPropertiesHash;var po={appendFromJson:function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var l=a[s];e.css(l,o[l])}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t}},fo={appendFromString:function(t){var e,n,r,i=this,o=""+t;function a(){o=o.length>e.length?o.substr(e.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");!o.match(/^\s*$/);){var l=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){gt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}e=l[0];var u=l[1];if("core"!==u&&new cr(u).invalid)gt("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),a();else{var c=l[2],h=!1;n=c;for(var d=[];!n.match(/^\s*$/);){var p=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!p){gt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),h=!0;break}r=p[0];var f=p[1],g=p[2];this.properties[f]?i.parse(f,g)?(d.push({name:f,val:g}),s()):(gt("Skipping property: Invalid property definition in: "+r),s()):(gt("Skipping property: Invalid property name in: "+r),s())}if(h){a();break}i.selector(u);for(var v=0;v<d.length;v++){var y=d[v];i.css(y.name,y.val)}a()}}return i},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},go={};(function(){var t=F,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(e){var n=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];go.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return _(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var i={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e},emptyNonEmpty:function(t,e){var n=N(t),r=N(e);return n&&!r||!n&&r}},o=go.types,a=[{name:"label",type:o.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:o.text,triggersBounds:i.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:o.size,triggersBounds:i.any}],l=[{name:"target-label",type:o.text,triggersBounds:i.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:o.size,triggersBounds:i.any}],u=[{name:"font-family",type:o.fontFamily,triggersBounds:i.any},{name:"font-style",type:o.fontStyle,triggersBounds:i.any},{name:"font-weight",type:o.fontWeight,triggersBounds:i.any},{name:"font-size",type:o.size,triggersBounds:i.any},{name:"text-transform",type:o.textTransform,triggersBounds:i.any},{name:"text-wrap",type:o.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:o.size,triggersBounds:i.any},{name:"text-outline-width",type:o.size,triggersBounds:i.any},{name:"line-height",type:o.positiveNumber,triggersBounds:i.any}],c=[{name:"text-valign",type:o.valign,triggersBounds:i.any},{name:"text-halign",type:o.halign,triggersBounds:i.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:i.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:i.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:o.justification}],h=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],d=[{name:"display",type:o.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:i.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:i.any}],p=[{name:"overlay-padding",type:o.size,triggersBounds:i.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero}],f=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],g=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},v=[{name:"height",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"width",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"shape",type:o.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:i.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:i.any}],y=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:i.any},{name:"border-style",type:o.borderStyle}],m=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-image-containment",type:o.bgContainment},{name:"background-image-smoothing",type:o.bools},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],b=[{name:"position",type:o.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:o.size,triggersBounds:i.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:o.size,triggersBounds:i.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:i.any}],x=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-opacity",type:o.zeroOneNumber},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:o.size,triggersBounds:i.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:o.numbers,triggersBounds:i.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:o.numbers,triggersBounds:i.any},{name:"taxi-turn",type:o.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:i.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:o.angle,triggersBounds:i.any},{name:"loop-sweep",type:o.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:o.size,triggersBounds:i.any},{name:"target-distance-from-node",type:o.size,triggersBounds:i.any}],E=[{name:"ghost",type:o.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:o.zeroOneNumber}],C=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],w=[];go.pieBackgroundN=16,w.push({name:"pie-size",type:o.sizeMaybePercent});for(var L=1;L<=go.pieBackgroundN;L++)w.push({name:"pie-"+L+"-background-color",type:o.color}),w.push({name:"pie-"+L+"-background-size",type:o.percent}),w.push({name:"pie-"+L+"-background-opacity",type:o.zeroOneNumber});var T=[],D=go.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach(function(t){D.forEach(function(e){T.push({name:e+"-"+t.name,type:t.type,triggersBounds:t.triggersBounds})})},{});var A=go.properties=[].concat(h,f,d,p,E,c,u,a,s,l,v,y,m,w,b,x,T,C),R=go.propertyGroups={behavior:h,transition:f,visibility:d,overlay:p,ghost:E,commonLabel:c,labelDimensions:u,mainLabel:a,sourceLabel:s,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:m,pie:w,compound:b,edgeLine:x,edgeArrow:T,core:C},P=go.propertyGroupNames={};(go.propertyGroupKeys=Object.keys(R)).forEach(function(t){P[t]=R[t].map(function(t){return t.name}),R[t].forEach(function(e){return e.groupKey=t})});var I=go.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];go.propertyNames=A.map(function(t){return t.name});for(var S=0;S<A.length;S++){var O=A[S];A[O.name]=O}for(var M=0;M<I.length;M++){var k=I[M],B={name:k.name,alias:!0,pointsTo:A[k.pointsTo]};A.push(B),A[k.name]=B}})(),go.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},go.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=W({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(t,e){for(var n=1;n<=go.pieBackgroundN;n++)t[e.name.replace("{{i}}",n)]=e.value;return t},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(t,e){return go.arrowPrefixes.forEach(function(n){t[n+"-"+e.name]=e.value}),t},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=this.parse(o,e[o]);n[o]=a}}return t.defaultProperties=n,t.defaultProperties},go.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var vo={parse:function(t,e,n,r){var i=this;if(b(e))return i.parseImplWarn(t,e,n,r);var o,a=rt(t,""+e,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=i.propCache=i.propCache||[];return(o=s[a])||(o=s[a]=i.parseImplWarn(t,e,n,r)),(n||"mapping"===r)&&(o=vt(o))&&(o.value=vt(o.value)),o},parseImplWarn:function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return!i&&null!=e&&gt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&("width"===i.name||"height"===i.name)&&"label"===e&&gt("The style value of `label` is deprecated for `"+i.name+"`"),i}};vo.parseImpl=function(t,e,n,r){var i=this;t=S(t);var o=i.properties[t],a=e,s=i.types;if(!o||void 0===e)return null;o.alias&&(t=(o=o.pointsTo).name);var l=_(e);l&&(e=e.trim());var u,c,h=o.type;if(!h)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(b(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:n};if(!(!l||r||e.length<7||"a"!==e[1])){if(e.length>=7&&"d"===e[0]&&(u=new RegExp(s.data.regex).exec(e)))return!n&&{name:t,value:u,strValue:""+e,mapped:s.data,field:u[1],bypass:n};if(e.length>=10&&"m"===e[0]&&(c=new RegExp(s.mapData.regex).exec(e))){if(n||h.multiple)return!1;var d=s.mapData;if(!h.color&&!h.number)return!1;var p=this.parse(t,c[4]);if(!p||p.mapped)return!1;var f=this.parse(t,c[5]);if(!f||f.mapped)return!1;if(p.pfValue===f.pfValue||p.strValue===f.strValue)return gt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(h.color){var g=p.value,v=f.value;if(!(g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]&&(null!=g[3]&&1!==g[3]||null!=v[3]&&1!==v[3])))return!1}return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:f.value,bypass:n}}}if(h.multiple&&"multiple"!==r){var y;if(y=l?e.split(/\s+/):x(e)?e:[e],h.evenMultiple&&y.length%2!=0)return null;for(var m=[],E=[],w=[],L="",T=!1,D=0;D<y.length;D++){var A=i.parse(t,y[D],n,"multiple");T=T||_(A.value),m.push(A.value),w.push(null!=A.pfValue?A.pfValue:A.value),E.push(A.units),L+=(D>0?" ":"")+A.strValue}return h.validate&&!h.validate(m,E)?null:h.singleEnum&&T?1===m.length&&_(m[0])?{name:t,value:m[0],strValue:m[0],bypass:n}:null:{name:t,value:m,pfValue:w,strValue:L,bypass:n,units:E}}var R=function(){for(var r=0;r<h.enums.length;r++)if(h.enums[r]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(h.number){var N,P="px";if(h.units&&(N=h.units),h.implicitUnits&&(P=h.implicitUnits),!h.unitless)if(l){var I="px|em"+(h.allowPercent?"|\\%":"");N&&(I=N);var O=e.match("^("+F+")("+I+")?$");O&&(e=O[1],N=O[2]||P)}else(!N||h.implicitUnits)&&(N=P);if(e=parseFloat(e),isNaN(e)&&void 0===h.enums)return null;if(isNaN(e)&&void 0!==h.enums)return e=a,R();if(h.integer&&!function(t){return C(t)&&Math.floor(t)===t}(e)||void 0!==h.min&&(e<h.min||h.strictMin&&e===h.min)||void 0!==h.max&&(e>h.max||h.strictMax&&e===h.max))return null;var M={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:n};return M.pfValue=h.unitless||"px"!==N&&"em"!==N?e:"px"!==N&&N?this.getEmSizeInPixels()*e:e,("ms"===N||"s"===N)&&(M.pfValue="ms"===N?e:1e3*e),("deg"===N||"rad"===N)&&(M.pfValue="rad"===N?e:function(t){return Math.PI*t/180}(e)),"%"===N&&(M.pfValue=e/100),M}if(h.propList){var k=[],B=""+e;if("none"!==B){for(var W=B.split(/\s*,\s*|\s+/),G=0;G<W.length;G++){var H=W[G].trim();i.properties[H]?k.push(H):gt("`"+H+"` is not a valid property name")}if(0===k.length)return null}return{name:t,value:k,strValue:0===k.length?"none":k.join(" "),bypass:n}}if(h.color){var V=function(t){return(x(t)?t:null)||function(t){return U[t.toLowerCase()]}(t)||function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,n,r,i=16;return 4===t.length?(e=parseInt(t[1]+t[1],i),n=parseInt(t[2]+t[2],i),r=parseInt(t[3]+t[3],i)):(e=parseInt(t[1]+t[2],i),n=parseInt(t[3]+t[4],i),r=parseInt(t[5]+t[6],i)),[e,n,r]}}(t)||function(t){var e,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(n){e=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}if((r[1]||r[2]||r[3])&&!(r[1]&&r[2]&&r[3]))return;var a=n[4];if(void 0!==a){if((a=parseFloat(a))<0||a>1)return;e.push(a)}}return e}(t)||function(t){var e,n,r,i,o,a,s,l;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100||(r/=100,(i=parseFloat(c[3]))<0||i>100)||(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1)))return;if(0===r)a=s=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;a=Math.round(255*u(d,h,n+1/3)),s=Math.round(255*u(d,h,n)),l=Math.round(255*u(d,h,n-1/3))}e=[a,s,l,o]}return e}(t)}(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var z=R();if(z)return z}for(var j=h.regexes?h.regexes:[h.regex],Y=0;Y<j.length;Y++){var X=new RegExp(j[Y]).exec(e);if(X)return{name:t,value:h.singleRegexMatchValue?X[1]:X,strValue:""+e,bypass:n}}return null}return h.string?{name:t,value:""+e,strValue:""+e,bypass:n}:h.enums?R():null};var yo=function t(e){if(!(this instanceof t))return new t(e);A(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):pt("A style must have a core reference")},mo=yo.prototype;mo.instanceString=function(){return"style"},mo.clear=function(){for(var t=this._private,e=t.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0),e.forEach(function(t){var e=t[0]._private;e.styleDirty=!0,e.appliedInitStyle=!1}),this},mo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},mo.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},mo.selector=function(t){var e="core"===t?null:new cr(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},mo.css=function(){var t=this,e=arguments;if(1===e.length)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],o=n[i.name];void 0===o&&(o=n[O(i.name)]),void 0!==o&&this.cssRule(i.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},mo.style=mo.css,mo.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},mo.append=function(t){return R(t)?t.appendToStyle(this):x(t)?this.appendFromJson(t):_(t)&&this.appendFromString(t),this},yo.fromJson=function(t,e){var n=new yo(t);return n.fromJson(e),n},yo.fromString=function(t,e){return new yo(t).fromString(e)},[lo,uo,co,ho,po,fo,go,vo].forEach(function(t){W(mo,t)}),yo.types=mo.types,yo.properties=mo.properties,yo.propertyGroups=mo.propertyGroups,yo.propertyGroupNames=mo.propertyGroupNames,yo.propertyGroupKeys=mo.propertyGroupKeys;var _o={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return e.style=R(t)?t.generateStyle(this):x(t)?yo.fromJson(this,t):_(t)?yo.fromString(this,t):yo(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},bo={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:(("additive"===t||"single"===t)&&(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,n,r,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(_(o[0]))return a[t=o[0]];if(E(o[0])){if(!this._private.panningEnabled)return this;i=(n=o[0]).y,C(r=n.x)&&(a.x=r),C(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[1],("x"===(t=o[0])||"y"===t)&&C(e)&&(a[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var n,r,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:E(t)&&(a=(i=s[0]).y,C(o=i.x)&&(l.x+=o),C(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:r=e,("x"===(n=t)||"y"===n)&&C(r)&&(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){var n;if((C(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(_(t)?t=this.$(t):!function(t){return E(t)&&C(t.x1)&&C(t.x2)&&C(t.y1)&&C(t.y2)}(t)?L(t)||(t=this.mutableElements()):((n={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1),!L(t)||!t.empty())){n=n||t.boundingBox();var r,i=this.width(),o=this.height();if(e=C(e)?e:0,!isNaN(i)&&!isNaN(o)&&i>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:r=(r=(r=Math.min((i-2*e)/n.w,(o-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:r)<this._private.minZoom?this._private.minZoom:r,pan:{x:(i-r*(n.x1+n.x2))/2,y:(o-r*(n.y1+n.y2))/2}}}},zoomRange:function(t,e){var n=this._private;if(null==e){var r=t;t=r.min,e=r.max}return C(t)&&C(e)&&t<=e?(n.minZoom=t,n.maxZoom=e):C(t)&&void 0===e&&t<=n.maxZoom?n.minZoom=t:C(e)&&void 0===t&&e>=n.minZoom&&(n.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,n,r=this._private,i=r.pan,o=r.zoom,a=!1;return r.zoomingEnabled||(a=!0),C(t)?n=t:E(t)&&(n=t.level,null!=t.position?e=zt(t.position,o,i):null!=t.renderedPosition&&(e=t.renderedPosition),null!=e&&!r.panningEnabled&&(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,!a&&C(n)&&n!==o&&(null==e||C(e.x)&&C(e.y))?null!=e?{zoomed:!0,panned:!0,zoom:n,pan:{x:-n/o*(e.x-i.x)+e.x,y:-n/o*(e.y-i.y)+e.y}}:{zoomed:!0,panned:!1,zoom:n,pan:i}:null},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,n=!0,r=!0,i=[],o=!1,a=!1;if(!t)return this;if(C(t.zoom)||(n=!1),E(t.pan)||(r=!1),!n&&!r)return this;if(n){var s=t.zoom;s<e.minZoom||s>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=s,i.push("zoom"))}if(r&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;C(l.x)&&(e.pan.x=l.x,a=!1),C(l.y)&&(e.pan.y=l.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(_(t)){var n=t;t=this.mutableElements().filter(n)}else L(t)||(t=this.mutableElements());if(0!==t.length){var r=t.boundingBox(),i=this.width(),o=this.height();return{x:(i-(e=void 0===e?this._private.zoom:e)*(r.x1+r.x2))/2,y:(o-e*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(t=d.getComputedStyle(r),{width:r.clientWidth-(e=function(e){return parseFloat(t.getPropertyValue(e))})("padding-left")-e("padding-right"),height:r.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};bo.centre=bo.center,bo.autolockNodes=bo.autolock,bo.autoungrabifyNodes=bo.autoungrabify;var xo={data:qn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:qn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:qn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};xo.attr=xo.data,xo.removeAttr=xo.removeData;var Eo=function(t){var e=this,n=(t=W({},t)).container;n&&!w(n)&&w(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=e;var o=void 0!==d&&void 0!==n&&!t.headless,a=t;a.layout=W({name:o?"grid":"null"},a.layout),a.renderer=W({name:o?"canvas":"null"},a.renderer);var s=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},l=this._private={container:n,ready:!1,options:a,elements:new Wi(this),listeners:[],aniEles:new Wi(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?o:a.styleEnabled,zoom:C(a.zoom)?a.zoom:1,pan:{x:E(a.pan)&&C(a.pan.x)?a.pan.x:0,y:E(a.pan)&&C(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),l.styleEnabled&&e.setStyle([]);var u=W({},a,a.renderer);e.initRenderer(u),function(t,e){if(t.some(P))return jn.all(t).then(e);e(t)}([a.style,a.elements],function(t){var n=t[0],o=t[1];l.styleEnabled&&e.style().append(n),function(t,n,r){e.notifications(!1);var i=e.mutableElements();i.length>0&&i.remove(),null!=t&&(E(t)||x(t))&&e.add(t),e.one("layoutready",function(t){e.notifications(!0),e.emit(t),e.one("load",n),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",r),e.emit("done")});var o=W({},e._private.options.layout);o.eles=e.elements(),e.layout(o).run()}(o,function(){e.startAnimationLoop(),l.ready=!0,b(a.ready)&&e.on("ready",a.ready);for(var t=0;t<i.length;t++)e.on("ready",i[t]);r&&(r.readies=[]),e.emit("ready")},a.done)})},Co=Eo.prototype;W(Co,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,n=e._private,r=n.options;return!w(t)&&w(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),n.container=t,n.styleEnabled=!0,e.invalidateSize(),e.initRenderer(W({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),e.startAnimationLoop(),e.style(r.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return vt(this._private.options)},json:function(t){var e=this,n=e._private,r=e.mutableElements();if(E(t)){if(e.startBatch(),t.elements){var i={},o=function(t,n){for(var r=[],o=[],a=0;a<t.length;a++){var s=t[a];if(s.data.id){var l=""+s.data.id,u=e.getElementById(l);i[l]=!0,0!==u.length?o.push({ele:u,json:s}):(n&&(s.group=n),r.push(s))}else gt("cy.json() cannot handle elements without an ID attribute")}e.add(r);for(var c=0;c<o.length;c++){var h=o[c];h.ele.json(h.json)}};if(x(t.elements))o(t.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],u=t.elements[l];x(u)&&o(u,l)}var c=e.collection();r.filter(function(t){return!i[t.id()]}).forEach(function(t){t.isParent()?c.merge(t):t.remove()}),c.forEach(function(t){return t.children().move({parent:null})}),c.forEach(function(t){return(n=t,e.getElementById(n.id())).remove();var n})}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&e.pan(t.pan),t.data&&e.data(t.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],d=0;d<h.length;d++){var p=h[d];null!=t[p]&&e[p](t[p])}return e.endBatch(),this}var f={};t?f.elements=this.elements().map(function(t){return t.json()}):(f.elements={},r.forEach(function(t){var e=t.group();f.elements[e]||(f.elements[e]=[]),f.elements[e].push(t.json())})),this._private.styleEnabled&&(f.style=e.style().json()),f.data=vt(e.data());var g=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=vt(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=vt(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f}}),Co.$id=Co.getElementById,[Gi,$i,eo,no,ro,io,ao,so,_o,bo,xo].forEach(function(t){W(Co,t)});var wo={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},Lo=function(t){return t.scratch("breadthfirst")},To=function(t,e){return t.scratch("breadthfirst",e)};function Do(t){this.options=W({},wo,t)}Do.prototype.run=function(){var t,e=this.options,n=e,r=e.cy,i=n.eles,o=i.nodes().filter(function(t){return!t.isParent()}),a=i,s=n.directed,l=n.maximal||n.maximalAdjustments>0,u=ne(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(L(n.roots))t=n.roots;else if(x(n.roots)){for(var c=[],h=0;h<n.roots.length;h++){var d=r.getElementById(n.roots[h]);c.push(d)}t=r.collection(c)}else if(_(n.roots))t=r.$(n.roots);else if(s)t=o.roots();else{var p=i.components();t=r.collection();for(var f=function(e){var n=p[e],r=n.maxDegree(!1),i=n.filter(function(t){return t.degree(!1)===r});t=t.add(i)},g=0;g<p.length;g++)f(g)}var v=[],y={},m=function(t,e){null==v[e]&&(v[e]=[]);var n=v[e].length;v[e].push(t),To(t,{index:n,depth:e})};a.bfs({roots:t,directed:n.directed,visit:function(t,e,n,r,i){var o=t[0],a=o.id();m(o,i),y[a]=!0}});for(var b=[],E=0;E<o.length;E++){var C=o[E];y[C.id()]||b.push(C)}var w=function(t){for(var e=v[t],n=0;n<e.length;n++){var r=e[n];null!=r?To(r,{depth:t,index:n}):(e.splice(n,1),n--)}},T=function(){for(var t=0;t<v.length;t++)w(t)},D=function(t,e){for(var n=Lo(t),r=t.incomers().filter(function(t){return t.isNode()&&i.has(t)}),o=-1,a=t.id(),s=0;s<r.length;s++){var l=Lo(r[s]);o=Math.max(o,l.depth)}return n.depth<=o&&(e[a]?null:(function(t,e){var n=Lo(t);v[n.depth][n.index]=null,m(t,e)}(t,o+1),e[a]=!0,!0))};if(s&&l){var A=[],R={},N=function(t){return A.push(t)};for(o.forEach(function(t){return A.push(t)});A.length>0;){var P=A.shift(),I=D(P,R);if(I)P.outgoers().filter(function(t){return t.isNode()&&i.has(t)}).forEach(N);else if(null===I){gt("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}T();var S=0;if(n.avoidOverlap)for(var O=0;O<o.length;O++){var M=o[O].layoutDimensions(n);S=Math.max(S,M.w,M.h)}for(var k={},F=function(t){if(k[t.id()])return k[t.id()];for(var e=Lo(t).depth,n=t.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var l=Lo(s);if(null!=l){var u=l.index,c=l.depth;null!=u&&null!=c&&c<e&&(r+=u/v[c].length,i++)}}}return r/=i=Math.max(1,i),0===i&&(r=0),k[t.id()]=r,r},W=function(t,e){var n=F(t)-F(e);return 0===n?B(t.id(),e.id()):n},U=0;U<v.length;U++)v[U].sort(W),w(U);for(var G=[],H=0;H<b.length;H++)G.push(b[H]);v.unshift(G),T();for(var V=0,z=0;z<v.length;z++)V=Math.max(v[z].length,V);var j=u.x1+u.w/2,Y=u.x1+u.h/2,X=v.reduce(function(t,e){return Math.max(t,e.length)},0);return i.nodes().layoutPositions(this,n,function(t){var e=Lo(t),r=e.depth,i=e.index,o=v[r].length,a=Math.max(u.w/((n.grid?X:o)+1),S),s=Math.max(u.h/(v.length+1),S),l=Math.min(u.w/2/v.length,u.h/2/v.length);if(l=Math.max(l,S),n.circle){var c=l*r+l-(v.length>0&&v[0].length<=3?l/2:0),h=2*Math.PI/v[r].length*i;return 0===r&&1===v[0].length&&(c=1),{x:j+c*Math.cos(h),y:Y+c*Math.sin(h)}}return{x:j+(i+1-(o+1)/2)*a,y:(r+1)*s}}),this};var Ao={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ro(t){this.options=W({},Ao,t)}Ro.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a,s=ne(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),c=0,h=0;h<o.length;h++){var d=o[h].layoutDimensions(e);c=Math.max(c,d.w,d.h)}if(a=C(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-c,o.length>1&&e.avoidOverlap){c*=1.75;var p=Math.cos(u)-Math.cos(0),f=Math.sin(u)-Math.sin(0),g=Math.sqrt(c*c/(p*p+f*f));a=Math.max(g,a)}return r.nodes().layoutPositions(this,e,function(t,n){var r=e.startAngle+n*u*(i?1:-1),o=a*Math.cos(r),s=a*Math.sin(r);return{x:l.x+o,y:l.y+s}}),this};var No={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Po(t){this.options=W({},No,t)}Po.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=ne(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},l=[],u=0,c=0;c<o.length;c++){var h,d=o[c];h=e.concentric(d),l.push({value:h,node:d}),d._private.scratch.concentric=h}o.updateStyle();for(var p=0;p<o.length;p++){var f=o[p].layoutDimensions(e);u=Math.max(u,f.w,f.h)}l.sort(function(t,e){return e.value-t.value});for(var g=e.levelWidth(o),v=[[]],y=v[0],m=0;m<l.length;m++){var _=l[m];y.length>0&&Math.abs(y[0].value-_.value)>=g&&v.push(y=[]),y.push(_)}var b=u+e.minNodeSpacing;if(!e.avoidOverlap){var x=v.length>0&&v[0].length>1,E=Math.min(a.w,a.h)/2-b;b=Math.min(b,E/(v.length+x?1:0))}for(var C=0,w=0;w<v.length;w++){var L=v[w],T=void 0===e.sweep?2*Math.PI-2*Math.PI/L.length:e.sweep,D=L.dTheta=T/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var A=Math.cos(D)-Math.cos(0),R=Math.sin(D)-Math.sin(0),N=Math.sqrt(b*b/(A*A+R*R));C=Math.max(N,C)}L.r=C,C+=b}if(e.equidistant){for(var P=0,I=0,S=0;S<v.length;S++)P=Math.max(P,v[S].r-I);I=0;for(var O=0;O<v.length;O++){var M=v[O];0===O&&(I=M.r),M.r=I,I+=P}}for(var k={},F=0;F<v.length;F++)for(var B=v[F],W=B.dTheta,U=B.r,G=0;G<B.length;G++){var H=B[G],V=e.startAngle+(n?1:-1)*W*G,z={x:s.x+U*Math.cos(V),y:s.y+U*Math.sin(V)};k[H.node.id()]=z}return i.nodes().layoutPositions(this,e,function(t){var e=t.id();return k[e]}),this};var Io,So={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Oo(t){this.options=W({},So,t),this.options.layout=this}Oo.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,(!0===t.animate||!1===t.animate)&&n.emit({type:"layoutstart",layout:n}),Io=!0===t.debug;var r=Mo(e,n,t);Io&&(void 0)(r),t.randomize&&Bo(r);var i=X(),o=function(){Uo(r,e,t),!0===t.fit&&e.fit(t.padding)},a=function(e){return!(n.stopped||e>=t.numIter||(Go(r,t),r.temperature=r.temperature*t.coolingFactor,r.temperature<t.minTemp))},s=function(){if(!0===t.animate||!1===t.animate)o(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var e=t.eles.nodes(),i=Wo(r,t,e);e.layoutPositions(n,t,i)}},l=0,u=!0;if(!0===t.animate)!function e(){for(var n=0;u&&n<t.refresh;)u=a(l),l++,n++;u?(X()-i>=t.animationThreshold&&o(),Y(e)):(Zo(r,t),s())}();else{for(;u;)u=a(l),l++;Zo(r,t),s()}return this},Oo.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Oo.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Mo=function(t,e,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:ne(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},a=n.eles.components(),s={},l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++)s[u[c].id()]=l;for(l=0;l<o.nodeSize;l++){var h=(v=i[l]).layoutDimensions(n);(P={}).isLocked=v.locked(),P.id=v.data("id"),P.parentId=v.data("parent"),P.cmptId=s[v.id()],P.children=[],P.positionX=v.position("x"),P.positionY=v.position("y"),P.offsetX=0,P.offsetY=0,P.height=h.w,P.width=h.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(v.style("padding")),P.padRight=parseFloat(v.style("padding")),P.padTop=parseFloat(v.style("padding")),P.padBottom=parseFloat(v.style("padding")),P.nodeRepulsion=b(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(P),o.idToIndex[P.id]=l}var d=[],p=0,f=-1,g=[];for(l=0;l<o.nodeSize;l++){var v,y=(v=o.layoutNodes[l]).parentId;null!=y?o.layoutNodes[o.idToIndex[y]].children.push(v.id):(d[++f]=v.id,g.push(v.id))}for(o.graphSet.push(g);p<=f;){var m=d[p++],_=o.layoutNodes[o.idToIndex[m]].children;if(_.length>0)for(o.graphSet.push(_),l=0;l<_.length;l++)d[++f]=_[l]}for(l=0;l<o.graphSet.length;l++){var x=o.graphSet[l];for(c=0;c<x.length;c++)o.indexToGraph[o.idToIndex[x[c]]]=l}for(l=0;l<o.edgeSize;l++){var E=r[l],C={};C.id=E.data("id"),C.sourceId=E.data("source"),C.targetId=E.data("target");var w=b(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,L=b(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,T=o.idToIndex[C.sourceId],D=o.idToIndex[C.targetId];if(o.indexToGraph[T]!=o.indexToGraph[D]){for(var A=ko(C.sourceId,C.targetId,o),R=o.graphSet[A],N=0,P=o.layoutNodes[T];-1===R.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],N++;for(P=o.layoutNodes[D];-1===R.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],N++;w*=N*n.nestingFactor}C.idealLength=w,C.elasticity=L,o.layoutEdges.push(C)}return o},ko=function(t,e,n){var r=Fo(t,e,0,n);return 2>r.count?0:r.graph},Fo=function t(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=i.layoutNodes[i.idToIndex[o[s]]].children;if(0!==l.length){var u=t(e,n,i.indexToGraph[i.idToIndex[l[0]]],i);if(0!==u.count){if(1!==u.count)return u;if(2==++a)break}}}return{count:a,graph:r}},Bo=function(t,e){for(var n=t.clientWidth,r=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];0===o.children.length&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},Wo=function(t,e,n){var r=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(n.forEach(function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,o){var a=t.layoutNodes[t.idToIndex[n.data("id")]];return e.boundingBox?{x:r.x1+(a.positionX-i.x1)/i.w*r.w,y:r.y1+(a.positionY-i.y1)/i.h*r.h}:{x:a.positionX,y:a.positionY}}},Uo=function(t,e,n){var r=n.layout,i=n.eles.nodes(),o=Wo(t,n,i);i.positions(o),!0!==t.ready&&(t.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Go=function(t,e,n){Ho(t,e),Xo(t),qo(t,e),Ko(t),Jo(t)},Ho=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var r=t.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[r[o]]],s=o+1;s<i;s++)zo(a,t.layoutNodes[t.idToIndex[r[s]]],t,e)},Vo=function(t){return-t+2*t*Math.random()},zo=function(t,e,n,r){if(t.cmptId===e.cmptId||n.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;0===i&&0===o&&(i=Vo(1),o=Vo(1));var a=jo(t,e,i,o);if(a>0)var s=(u=r.nodeOverlap*a)*i/(g=Math.sqrt(i*i+o*o)),l=u*o/g;else{var u,c=Yo(t,i,o),h=Yo(e,-1*i,-1*o),d=h.x-c.x,p=h.y-c.y,f=d*d+p*p,g=Math.sqrt(f);s=(u=(t.nodeRepulsion+e.nodeRepulsion)/f)*d/g,l=u*p/g}t.isLocked||(t.offsetX-=s,t.offsetY-=l),e.isLocked||(e.offsetX+=s,e.offsetY+=l)}},jo=function(t,e,n,r){if(n>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(r>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Yo=function(t,e,n){var r=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=n/e,l=o/a,u={};return 0===e&&0<n||0===e&&0>n?(u.x=r,u.y=i+o/2,u):0<e&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/e,u):0>e&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/e,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*e/2/n,u.y=i+o/2,u):(0>n&&(s<=-1*l||s>=l)&&(u.x=r-o*e/2/n,u.y=i-o/2),u)},Xo=function(t,e){for(var n=0;n<t.edgeSize;n++){var r=t.layoutEdges[n],i=t.layoutNodes[t.idToIndex[r.sourceId]],o=t.layoutNodes[t.idToIndex[r.targetId]],a=o.positionX-i.positionX,s=o.positionY-i.positionY;if(0!==a||0!==s){var l=Yo(i,a,s),u=Yo(o,-1*a,-1*s),c=u.x-l.x,h=u.y-l.y,d=Math.sqrt(c*c+h*h),p=Math.pow(r.idealLength-d,2)/r.elasticity;if(0!==d)var f=p*c/d,g=p*h/d;else f=0,g=0;i.isLocked||(i.offsetX+=f,i.offsetY+=g),o.isLocked||(o.offsetX-=f,o.offsetY-=g)}}},qo=function(t,e){for(var n=0;n<t.graphSet.length;n++){var r=t.graphSet[n],i=r.length;if(0===n)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[t.layoutNodes[t.idToIndex[r[0]]].parentId]];o=s.positionX,a=s.positionY}for(var l=0;l<i;l++){var u=t.layoutNodes[t.idToIndex[r[l]]];if(!u.isLocked){var c=o-u.positionX,h=a-u.positionY,d=Math.sqrt(c*c+h*h);if(d>1){var p=e.gravity*h/d;u.offsetX+=e.gravity*c/d,u.offsetY+=p}}}}},Ko=function(t,e){var n=[],r=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;r<=i;){var o=n[r++],a=t.layoutNodes[t.idToIndex[o]],s=a.children;if(0<s.length&&!a.isLocked){for(var l=a.offsetX,u=a.offsetY,c=0;c<s.length;c++){var h=t.layoutNodes[t.idToIndex[s[c]]];h.offsetX+=l,h.offsetY+=u,n[++i]=s[c]}a.offsetX=0,a.offsetY=0}}},Jo=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(i=t.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(i=t.layoutNodes[n]).children.length||i.isLocked)){var r=Qo(i.offsetX,i.offsetY,t.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,$o(i,t)}for(n=0;n<t.nodeSize;n++){var i;0<(i=t.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Qo=function(t,e,n){var r=Math.sqrt(t*t+e*e);if(r>n)var i={x:n*t/r,y:n*e/r};else i={x:t,y:e};return i},$o=function t(e,n){var r=e.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;if((null==i.maxX||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(null==i.minX||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(null==i.maxY||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(null==i.minY||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return t(i,n)}},Zo=function(t,e){for(var n=t.layoutNodes,r=[],i=0;i<n.length;i++){var o=n[i],a=o.cmptId;(r[a]=r[a]||[]).push(o)}var s=0;for(i=0;i<r.length;i++)if(g=r[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var u=g[l];g.x1=Math.min(g.x1,u.positionX-u.width/2),g.x2=Math.max(g.x2,u.positionX+u.width/2),g.y1=Math.min(g.y1,u.positionY-u.height/2),g.y2=Math.max(g.y2,u.positionY+u.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}r.sort(function(t,e){return e.w*e.h-t.w*t.h});var c=0,h=0,d=0,p=0,f=Math.sqrt(s)*t.clientWidth/t.clientHeight;for(i=0;i<r.length;i++){var g;if(g=r[i]){for(l=0;l<g.length;l++)(u=g[l]).isLocked||(u.positionX+=c-g.x1,u.positionY+=h-g.y1);c+=g.w+e.componentSpacing,d+=g.w+e.componentSpacing,p=Math.max(p,g.h),d>f&&(h+=p+e.componentSpacing,c=0,d=0,p=0)}}},ta={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ea(t){this.options=W({},ta,t)}ea.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=ne(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)r.nodes().layoutPositions(this,e,function(t){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),l=Math.round(s),u=Math.round(o.w/o.h*s),c=function(t){if(null==t)return Math.min(l,u);Math.min(l,u)==l?l=t:u=t},h=function(t){if(null==t)return Math.max(l,u);Math.max(l,u)==l?l=t:u=t},d=e.rows,p=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=p)l=d,u=p;else if(null!=d&&null==p)l=d,u=Math.ceil(a/l);else if(null==d&&null!=p)u=p,l=Math.ceil(a/u);else if(u*l>a){var f=c(),g=h();(f-1)*g>=a?c(f-1):(g-1)*f>=a&&h(g-1)}else for(;u*l<a;){var v=c(),y=h();(y+1)*v>=a?h(y+1):c(v+1)}var m=o.w/u,_=o.h/l;if(e.condense&&(m=0,_=0),e.avoidOverlap)for(var b=0;b<i.length;b++){var x=i[b],E=x._private.position;(null==E.x||null==E.y)&&(E.x=0,E.y=0);var C=x.layoutDimensions(e),w=e.avoidOverlapPadding,L=C.h+w;m=Math.max(m,C.w+w),_=Math.max(_,L)}for(var T={},D=function(t,e){return!!T["c-"+t+"-"+e]},A=function(t,e){T["c-"+t+"-"+e]=!0},R=0,N=0,P=function(){++N>=u&&(N=0,R++)},I={},S=0;S<i.length;S++){var O=i[S],M=e.position(O);if(M&&(void 0!==M.row||void 0!==M.col)){var k={row:M.row,col:M.col};if(void 0===k.col)for(k.col=0;D(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;D(k.row,k.col);)k.row++;I[O.id()]=k,A(k.row,k.col)}}i.layoutPositions(this,e,function(t,e){var n,r;if(t.locked()||t.isParent())return!1;var i=I[t.id()];if(i)n=i.col*m+m/2+o.x1,r=i.row*_+_/2+o.y1;else{for(;D(R,N);)P();n=N*m+m/2+o.x1,r=R*_+_/2+o.y1,A(R,N),P()}return{x:n,y:r}})}return this};var na={ready:function(){},stop:function(){}};function ra(t){this.options=W({},na,t)}ra.prototype.run=function(){var t=this.options,e=t.eles,n=this;return n.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this},ra.prototype.stop=function(){return this};var ia={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function oa(t){this.options=W({},ia,t)}oa.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=b(t.positions);return e.layoutPositions(this,t,function(e,r){var i=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(n)return t.positions(e);var r=t.positions[e._private.data.id];return null==r?null:r}(e);return!e.locked()&&null!=i&&i}),this};var aa={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function sa(t){this.options=W({},aa,t)}sa.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=ne(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.nodes().layoutPositions(this,t,function(t,e){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var la=[{name:"breadthfirst",impl:Do},{name:"circle",impl:Ro},{name:"concentric",impl:Po},{name:"cose",impl:Oo},{name:"grid",impl:ea},{name:"null",impl:ra},{name:"preset",impl:oa},{name:"random",impl:sa}];function ua(t){this.options=t,this.notifications=0}var ca=function(){},ha=function(){throw new Error("A headless instance can not render images")};ua.prototype={recalculateRenderedStyle:ca,notify:function(){this.notifications++},init:ca,isHeadless:function(){return!0},png:ha,jpg:ha};var da={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,r,i,o,a){return i.x-n/2-a<=t&&t<=i.x+n/2+a&&i.y-n/2-a<=e&&e<=i.y+n/2+a},r=function(t,e,n,r,i){var o=t*Math.cos(r)-e*Math.sin(r),a=t*Math.sin(r)+e*Math.cos(r);return{x:o*n+i.x,y:a*n+i.y}},i=function(t,e,n,i){for(var o=[],a=0;a<t.length;a+=2)o.push(r(t[a],t[a+1],e,n,i));return o},o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y)}return e},a=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},s=function(r,s){_(s)&&(s=t[s]),t[r]=W({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,r,a,s){var l=o(i(this.points,n+2*s,r,a));return ye(t,e,l)},roughCollide:n,draw:function(t,n,r,o){var a=i(this.points,n,r,o);e.arrowShapeImpl("polygon")(t,a)},spacing:function(t){return 0},gap:a},s)};s("none",{collide:ct,roughCollide:ct,draw:dt,spacing:ht,gap:ht}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,o,a,s){var l=i(this.points,n,o,a),u=this.controlPoint,c=r(u[0],u[1],n,o,a);e.arrowShapeImpl(this.name)(t,l,c)},gap:function(t){return.8*a(t)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.pointsTee,n+2*l,r,a));return ye(t,e,u)||ye(t,e,c)},draw:function(t,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.pointsTee,n,r,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(t,e,n,r,a,s,l){var u=a,c=Math.pow(u.x-t,2)+Math.pow(u.y-e,2)<=Math.pow((n+2*l)*this.radius,2),h=o(i(this.points,n+2*l,r,a));return ye(t,e,h)||c},draw:function(t,n,r,o,a){var s=i(this.pointsTr,n,r,o);e.arrowShapeImpl(this.name)(t,s,o.x,o.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),r=e/t;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(t,e,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.crossLinePts(n,s),n+2*l,r,a));return ye(t,e,u)||ye(t,e,c)},draw:function(t,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.crossLinePts(n,a),n,r,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*a(t)}}),s("circle",{radius:.15,collide:function(t,e,n,r,i,o,a){var s=i;return Math.pow(s.x-t,2)+Math.pow(s.y-e,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(t,n,r,i,o){e.arrowShapeImpl(this.name)(t,i.x,i.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},pa={projectIntoViewport:function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=d.getComputedStyle(t),r=function(t){return parseFloat(n.getPropertyValue(t))},i=r("padding-left"),o=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),h=(r("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+i+l,e.top+a+c,h-(i+o),t.clientHeight-(a+s),e.width/(h+(l+u))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]},findNearestElements:function(t,e,n,r){var i,o,a=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),h=s.cy.hasCompoundNodes(),d=(r?24:8)/c,p=(r?8:2)/c,f=(r?8:2)/c,g=1/0;function v(t,e){if(t.isNode()){if(o)return;o=t,u.push(t)}if(t.isEdge()&&(null==e||e<g))if(i){if(i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=t,i=t,g=null!=e?e:g;break}}else u.push(t),i=t,g=null!=e?e:g}function y(n){var r=n.outerWidth()+2*p,i=n.outerHeight()+2*p,o=r/2,l=i/2,u=n.position();if(u.x-o<=t&&t<=u.x+o&&u.y-l<=e&&e<=u.y+l&&s.nodeShapes[a.getNodeShape(n)].checkPoint(t,e,0,r,i,u.x,u.y))return v(n,0),!0}function m(n){var r,i=n._private,o=i.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,g=2*p,m=i.source,_=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var b=o.allpts,x=0;x+3<b.length;x+=2)if(pe(t,e,b[x],b[x+1],b[x+2],b[x+3],g)&&f>(r=ve(t,e,b[x],b[x+1],b[x+2],b[x+3])))return v(n,r),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(b=o.allpts,x=0;x+5<o.allpts.length;x+=4)if(fe(t,e,b[x],b[x+1],b[x+2],b[x+3],b[x+4],b[x+5],g)&&f>(r=ge(t,e,b[x],b[x+1],b[x+2],b[x+3],b[x+4],b[x+5])))return v(n,r),!0;m=m||i.source,_=_||i.target;var E=a.getArrowWidth(l,c),C=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(x=0;x<C.length;x++){var w=C[x],L=s.arrowShapes[n.pstyle(w.name+"-arrow-shape").value],T=n.pstyle("width").pfValue;if(L.roughCollide(t,e,E,w.angle,{x:w.x,y:w.y},T,d)&&L.collide(t,e,E,w.angle,{x:w.x,y:w.y},T,d))return v(n),!0}h&&u.length>0&&(y(m),y(_))}function _(t,e,n){return Ct(t,e,n)}function b(n,r){var i,o=n._private,a=f;i=r?r+"-":"",n.boundingBox();var s=o.labelBounds[r||"main"],l=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var u=_(o.rscratch,"labelX",r),c=_(o.rscratch,"labelY",r),h=_(o.rscratch,"labelAngle",r),d=n.pstyle(i+"text-margin-x").pfValue,p=n.pstyle(i+"text-margin-y").pfValue,g=s.x1-a-d,y=s.x2+a-d,m=s.y1-a-p,b=s.y2+a-p;if(h){var x=Math.cos(h),E=Math.sin(h),C=function(t,e){return{x:(t-=u)*x-(e-=c)*E+u,y:t*E+e*x+c}},w=C(g,m),L=C(g,b),T=C(y,m),D=C(y,b);if(ye(t,e,[w.x+d,w.y+p,T.x+d,T.y+p,D.x+d,D.y+p,L.x+d,L.y+p]))return v(n),!0}else if(ue(s,t,e))return v(n),!0}}n&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var E=l[x];E.isNode()?y(E)||b(E):m(E)||b(E)||b(E,"source")||b(E,"target")}return u},getAllInBox:function(t,e,n,r){for(var i=this.getCachedZSortedEles().interactive,o=[],a=Math.min(t,n),s=Math.max(t,n),l=Math.min(e,r),u=Math.max(e,r),c=ne({x1:t=a,y1:e=l,x2:n=s,y2:r=u}),h=0;h<i.length;h++){var d=i[h];if(d.isNode()){var p=d,f=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});le(c,f)&&!he(f,c)&&o.push(p)}else{var g=d,v=g._private,y=v.rscratch;if(null!=y.startX&&null!=y.startY&&!ue(c,y.startX,y.startY)||null!=y.endX&&null!=y.endY&&!ue(c,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var m=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,_=!0,b=0;b<m.length;b++)if(!ce(c,m[b])){_=!1;break}_&&o.push(g)}else("haystack"===y.edgeType||"straight"===y.edgeType)&&o.push(g)}}return o}},fa={calculateArrowAngles:function(t){var e,n,r,i,o,a,s=t._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,h="segments"===s.edgeType,d="compound"===s.edgeType,p="self"===s.edgeType;l?(r=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),f=s.midX,g=s.midY,h?(e=r-s.segpts[0],n=i-s.segpts[1]):c||d||p||u?(e=r-Zt((T=s.allpts)[0],T[2],T[4],.1),n=i-Zt(T[1],T[3],T[5],.1)):(e=r-f,n=i-g),s.srcArrowAngle=Xt(e,n);var f=s.midX,g=s.midY;if(l&&(f=(r+o)/2,g=(i+a)/2),e=o-r,n=a-i,h)if((T=s.allpts).length/2%2==0)e=T[v=T.length/2]-T[y=v-2],n=T[v+1]-T[y+1];else{var v,y,m=2+(v=T.length/2-1);e=T[v]-T[y=v-2],n=T[v+1]-T[y+1]}else if(c||d||p){var _,b,x,E,C,w,L,T=s.allpts;s.ctrlpts.length/2%2==0?(_=Zt(T[w=T.length/2-1],T[C=w+2],T[L=C+2],0),b=Zt(T[w+1],T[C+1],T[L+1],0),x=Zt(T[w],T[C],T[L],1e-4),E=Zt(T[w+1],T[C+1],T[L+1],1e-4)):(_=Zt(T[w=(C=T.length/2-1)-2],T[C],T[L=C+2],.4999),b=Zt(T[w+1],T[C+1],T[L+1],.4999),x=Zt(T[w],T[C],T[L],.5),E=Zt(T[w+1],T[C+1],T[L+1],.5)),e=x-_,n=E-b}if(s.midtgtArrowAngle=Xt(e,n),s.midDispX=e,s.midDispY=n,e*=-1,n*=-1,h&&(T=s.allpts).length/2%2!=0&&(e=-(T[m=2+(v=T.length/2-1)]-T[v]),n=-(T[m+1]-T[v+1])),s.midsrcArrowAngle=Xt(e,n),h)e=o-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||d||p||u){var D=(T=s.allpts).length;e=o-Zt(T[D-6],T[D-4],T[D-2],.9),n=a-Zt(T[D-5],T[D-3],T[D-1],.9)}else e=o-f,n=a-g;s.tgtArrowAngle=Xt(e,n)}};fa.getArrowWidth=fa.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=r,r)};var ga={};function va(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2)e.push({x:t[n],y:t[n+1]});return e}}ga.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,l=a.position(),u=s.position(),c=a.width(),h=s.width(),d=a.height(),p=s.height(),f=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*f+l.x,i.source.y*d*f+l.y,i.target.x*h*f+u.x,i.target.y*p*f+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ga.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<u;c++){var h=s.pfValue[c],d=l.pfValue[c],p=1-h,f="node-position"===a?r:i,g={x:f.x1*p+f.x2*h,y:f.y1*p+f.y2*h};n.segpts.push(g.x+o.x*d,g.y+o.y*d)}},ga.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=n,p=h;r&&(d=0,p=l);var f=u-Math.PI/2,g=f-c/2,v=f+c/2,y=String(u+"_"+c);d=void 0===o[y]?o[y]=0:++o[y],i.ctrlpts=[a.x+1.4*Math.cos(g)*p*(d/3+1),a.y+1.4*Math.sin(g)*p*(d/3+1),a.x+1.4*Math.cos(v)*p*(d/3+1),a.y+1.4*Math.sin(v)*p*(d/3+1)]},ga.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=n,f=h;r&&(p=0,f=d?d.pfValue[0]:void 0);var g={x:o.x-s/2,y:o.y-l/2},v={x:a.x-u/2,y:a.y-c/2},y={x:Math.min(g.x,v.x),y:Math.min(g.y,v.y)},m=Math.max(.5,Math.log(.01*s)),_=Math.max(.5,Math.log(.01*u));i.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*m,y.x-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*_,y.y]},ga.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},ga.findBezierPoints=function(t,e,n,r,i){var o=t._private.rscratch,a=e.vectorNormInverse,s=e.posPts,l=e.intersectionPts,u=t.pstyle("edge-distances").value,c=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),p=h&&d?Math.min(h.value.length,d.value.length):1,f=h?h.pfValue[0]:void 0,g=d.value[0],v=r;o.edgeType=v?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<p;y++){var m,_=(.5-e.eles.length/2+n)*c*(i?-1:1),b=Kt(_);v&&(f=h?h.pfValue[y]:c,g=d.value[y]);var x=void 0!==(m=r?f:void 0!==f?b*f:void 0)?m:_,E=1-g,C="node-position"===u?s:l,w={x:C.x1*E+C.x2*g,y:C.y1*E+C.y2*g};o.ctrlpts.push(w.x+a.x*x,w.y+a.y*x)}},ga.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",o="leftward",a="rightward",s="downward",l="upward",u=e.posPts,c=e.srcW,h=e.srcH,d=e.tgtW,p=e.tgtH,f="node-position"!==t.pstyle("edge-distances").value,g=t.pstyle("taxi-direction").value,v=g,y=t.pstyle("taxi-turn"),m="%"===y.units,_=y.pfValue,b=_<0,x=t.pstyle("taxi-turn-min-distance").pfValue,E=f?(h+p)/2:0,C=u.x2-u.x1,w=u.y2-u.y1,L=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},T=L(C,f?(c+d)/2:0),D=L(w,E),A=!1;"auto"===v?g=Math.abs(T)>Math.abs(D)?i:r:v===l||v===s?(g=r,A=!0):(v===o||v===a)&&(g=i,A=!0);var R,N=g===r,P=N?D:T,I=N?w:C,S=Kt(I),O=!1;(!A||!m&&!b)&&(v===s&&I<0||v===l&&I>0||v===o&&I>0||v===a&&I<0)&&(P=(S*=-1)*Math.abs(P),O=!0);var M=function(t){return Math.abs(t)<x||Math.abs(t)>=Math.abs(P)},k=M(R=m?(_<0?1+_:_)*P:(_<0?P:0)+_*S),F=M(Math.abs(P)-Math.abs(R));if(!k&&!F||O)if(N){var B=u.y1+R+(f?h/2*S:0);n.segpts=[u.x1,B,u.x2,B]}else{var W=u.x1+R+(f?c/2*S:0);n.segpts=[W,u.y1,W,u.y2]}else if(N){var U=Math.abs(I)<=h/2,G=Math.abs(C)<=d/2;if(U){var H=(u.x1+u.x2)/2;n.segpts=[H,u.y1,H,u.y2]}else if(G){var V=(u.y1+u.y2)/2;n.segpts=[u.x1,V,u.x2,V]}else n.segpts=[u.x1,u.y2]}else{var z=Math.abs(I)<=c/2,j=Math.abs(w)<=p/2;if(z){var Y=(u.y1+u.y2)/2;n.segpts=[u.x1,Y,u.x2,Y]}else if(j){var X=(u.x1+u.x2)/2;n.segpts=[X,u.y1,X,u.y2]}else n.segpts=[u.x2,u.y1]}},ga.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if("bezier"===n.edgeType){var r=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,h=!C(n.startX)||!C(n.startY),d=!C(n.arrowStartX)||!C(n.arrowStartY),p=!C(n.endX)||!C(n.endY),f=!C(n.arrowEndX)||!C(n.arrowEndY),g=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,v=Jt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=v<g,m=Jt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),_=m<g,b=!1;if(h||d||y){b=!0;var x={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},E=Math.sqrt(x.x*x.x+x.y*x.y),w={x:x.x/E,y:x.y/E},L=Math.max(o,a),T={x:n.ctrlpts[0]+2*w.x*L,y:n.ctrlpts[1]+2*w.y*L},D=u.intersectLine(r.x,r.y,o,a,T.x,T.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+w.x*(g-v),n.ctrlpts[1]=n.ctrlpts[1]+w.y*(g-v)):(n.ctrlpts[0]=D[0]+w.x*g,n.ctrlpts[1]=D[1]+w.y*g)}if(p||f||_){b=!0;var A={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},R=Math.sqrt(A.x*A.x+A.y*A.y),N={x:A.x/R,y:A.y/R},P=Math.max(o,a),I={x:n.ctrlpts[0]+2*N.x*P,y:n.ctrlpts[1]+2*N.y*P},S=c.intersectLine(i.x,i.y,s,l,I.x,I.y,0);_?(n.ctrlpts[0]=n.ctrlpts[0]+N.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+N.y*(g-m)):(n.ctrlpts[0]=S[0]+N.x*g,n.ctrlpts[1]=S[1]+N.y*g)}b&&this.findEndpoints(t)}},ga.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);var r;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[r=e.allpts.length/2-1],e.midY=e.allpts[r+1]):(e.midX=Zt(e.allpts[r=e.allpts.length/2-3],e.allpts[r+2],e.allpts[r+4],.5),e.midY=Zt(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var a=e.segpts.length/2-1;e.midX=e.segpts[a],e.midY=e.segpts[a+1]}},ga.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||C(e.startX)&&C(e.startY)&&C(e.endX)&&C(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,gt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ga.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var n=this,r=n.cy.hasCompoundNodes(),i={map:new Lt,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var n=this.map.get(t[0]);null==n&&(n=new Lt,this.map.set(t[0],n)),n.set(t[1],e)}},o=[],a=[],s=0;s<t.length;s++){var l=t[s],u=l._private,c=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace()){if("haystack"===c){a.push(l);continue}var h="unbundled-bezier"===c||"segments"===c||"straight"===c||"taxi"===c,d="unbundled-bezier"===c||"bezier"===c,p=u.target,f=[u.source.poolIndex(),p.poolIndex()].sort(),g=i.get(f);null==g&&(i.set(f,g={eles:[]}),o.push(f)),g.eles.push(l),h&&(g.hasUnbundled=!0),d&&(g.hasBezier=!0)}}for(var v=function(t){var a=i.get(o[t]),s=void 0;if(!a.hasUnbundled){var l=a.eles[0].parallelEdges().filter(function(t){return t.isBundledBezier()});Et(a.eles),l.forEach(function(t){return a.eles.push(t)}),a.eles.sort(function(t,e){return t.poolIndex()-e.poolIndex()})}var u=a.eles[0],c=u.source(),h=u.target();if(c.poolIndex()>h.poolIndex()){var d=c;c=h,h=d}var p=a.srcPos=c.position(),f=a.tgtPos=h.position(),g=a.srcW=c.outerWidth(),v=a.srcH=c.outerHeight(),y=a.tgtW=h.outerWidth(),m=a.tgtH=h.outerHeight(),_=a.srcShape=n.nodeShapes[e.getNodeShape(c)],b=a.tgtShape=n.nodeShapes[e.getNodeShape(h)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var x=0;x<a.eles.length;x++){var E=a.eles[x],w=E[0]._private.rscratch,L=E.pstyle("curve-style").value,T="unbundled-bezier"===L||"segments"===L||"taxi"===L,D=!c.same(E.source());if(!a.calculatedIntersection&&c!==h&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var A=_.intersectLine(p.x,p.y,g,v,f.x,f.y,0),R=a.srcIntn=A,N=b.intersectLine(f.x,f.y,y,m,p.x,p.y,0),P=a.tgtIntn=N,I=a.intersectionPts={x1:A[0],x2:N[0],y1:A[1],y2:N[1]},S=a.posPts={x1:p.x,x2:f.x,y1:p.y,y2:f.y},O=N[1]-A[1],M=N[0]-A[0],k=Math.sqrt(M*M+O*O),F=a.vector={x:M,y:O},B=a.vectorNorm={x:F.x/k,y:F.y/k},W={x:-B.y,y:B.x};a.nodesOverlap=!C(k)||b.checkPoint(A[0],A[1],0,y,m,f.x,f.y)||_.checkPoint(N[0],N[1],0,g,v,p.x,p.y),a.vectorNormInverse=W,s={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:f,tgtPos:p,srcW:y,srcH:m,tgtW:g,tgtH:v,srcIntn:P,tgtIntn:R,srcShape:b,tgtShape:_,posPts:{x1:S.x2,y1:S.y2,x2:S.x1,y2:S.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-F.x,y:-F.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-W.x,y:-W.y}}}var U=D?s:a;w.nodesOverlap=U.nodesOverlap,w.srcIntn=U.srcIntn,w.tgtIntn=U.tgtIntn,r&&(c.isParent()||c.isChild()||h.isParent()||h.isChild())&&(c.parents().anySame(h)||h.parents().anySame(c)||c.same(h)&&c.isParent())?e.findCompoundLoopPoints(E,U,x,T):c===h?e.findLoopPoints(E,U,x,T):"segments"===L?e.findSegmentsPoints(E,U):"taxi"===L?e.findTaxiPoints(E,U):"straight"===L||!T&&a.eles.length%2==1&&x===Math.floor(a.eles.length/2)?e.findStraightEdgePoints(E):e.findBezierPoints(E,U,x,T,D),e.findEndpoints(E),e.tryToCorrectInvalidPoints(E,U),e.checkForInvalidEdgeWarning(E),e.storeAllpts(E),e.storeEdgeProjections(E),e.calculateArrowAngles(E),e.recalculateEdgeLabelProjections(E),e.calculateLabelAngles(E)}},y=0;y<o.length;y++)v(y);this.findHaystackPoints(a)}},ga.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),va(e.segpts)},ga.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(t),va(e.ctrlpts)},ga.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ya={manualEndptToPx:function(t,e){var n=t.position(),r=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*r),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=e.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(t){var e,n,r,i,o,a=this,s=t.source()[0],l=t.target()[0],u=s.position(),c=l.position(),h=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,v=t._private.rscratch,y=v.edgeType,m="self"===y||"compound"===y,_="bezier"===y||"multibezier"===y||m,b="bezier"!==y,x="straight"===y||"segments"===y,E="segments"===y,w=_||b||x,L=m||"taxi"===g,T=t.pstyle("source-endpoint"),D=L?"outside-to-node":T.value,A=t.pstyle("target-endpoint"),R=L?"outside-to-node":A.value;if(v.srcManEndpt=T,v.tgtManEndpt=A,_){var N=[v.ctrlpts[0],v.ctrlpts[1]];n=b?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:N,r=N}else if(x){var P=E?v.segpts.slice(0,2):[c.x,c.y];n=E?v.segpts.slice(v.segpts.length-2):[u.x,u.y],r=P}if("inside-to-node"===R)e=[c.x,c.y];else if(A.units)e=this.manualEndptToPx(l,A);else if("outside-to-line"===R)e=v.tgtIntn;else if("outside-to-node"===R||"outside-to-node-or-label"===R?i=n:("outside-to-line"===R||"outside-to-line-or-label"===R)&&(i=[u.x,u.y]),e=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===R||"outside-to-line-or-label"===R){var I=l._private.rscratch,S=I.labelX,O=I.labelY,M=I.labelWidth/2,k=I.labelHeight/2,F=l.pstyle("text-valign").value;"top"===F?O-=k:"bottom"===F&&(O+=k);var B=l.pstyle("text-halign").value;"left"===B?S-=M:"right"===B&&(S+=M);var W=Le(i[0],i[1],[S-M,O-k,S+M,O-k,S+M,O+k,S-M,O+k],c.x,c.y);if(W.length>0){var U=u,G=Qt(U,Yt(e)),H=Qt(U,Yt(W)),V=G;H<G&&(e=W,V=H),W.length>2&&Qt(U,{x:W[2],y:W[3]})<V&&(e=[W[2],W[3]])}}var z=Te(e,n,a.arrowShapes[h].spacing(t)+p),j=Te(e,n,a.arrowShapes[h].gap(t)+p);if(v.endX=j[0],v.endY=j[1],v.arrowEndX=z[0],v.arrowEndY=z[1],"inside-to-node"===D)e=[u.x,u.y];else if(T.units)e=this.manualEndptToPx(s,T);else if("outside-to-line"===D)e=v.srcIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?o=r:("outside-to-line"===D||"outside-to-line-or-label"===D)&&(o=[c.x,c.y]),e=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var Y=s._private.rscratch,X=Y.labelX,q=Y.labelY,K=Y.labelWidth/2,J=Y.labelHeight/2,Q=s.pstyle("text-valign").value;"top"===Q?q-=J:"bottom"===Q&&(q+=J);var $=s.pstyle("text-halign").value;"left"===$?X-=K:"right"===$&&(X+=K);var Z=Le(o[0],o[1],[X-K,q-J,X+K,q-J,X+K,q+J,X-K,q+J],u.x,u.y);if(Z.length>0){var tt=c,et=Qt(tt,Yt(e)),nt=Qt(tt,Yt(Z)),rt=et;nt<et&&(e=[Z[0],Z[1]],rt=nt),Z.length>2&&Qt(tt,{x:Z[2],y:Z[3]})<rt&&(e=[Z[2],Z[3]])}}var it=Te(e,r,a.arrowShapes[d].spacing(t)+f),ot=Te(e,r,a.arrowShapes[d].gap(t)+f);v.startX=ot[0],v.startY=ot[1],v.arrowStartX=it[0],v.arrowStartY=it[1],w&&(v.badLine=!(C(v.startX)&&C(v.startY)&&C(v.endX)&&C(v.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},ma={};function _a(t,e,n){for(var r=function(t,e,n,r){return Zt(t,e,n,r)},i=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var a=t.bezierProjPcts[o];i.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}ma.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)_a(this,t,n.allpts.slice(i,i+6))}else if("segments"===r){var o=e.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var a=n.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},ma.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var ba={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!N(e)){var n,r,i=t._private,o=t.width(),a=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(u){case"left":n=l.x-o/2-s;break;case"right":n=l.x+o/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-a/2-s;break;case"bottom":r=l.y+a/2+s;break;default:r=l.y}h.labelX=n,h.labelY=r,d.labelX=n,d.labelY=r,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},xa=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},Ea=function(t,e){return xa(e.x-t.x,e.y-t.y)};ba.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){var a=function(t,e,r){wt(n.rscratch,t,e,r),wt(n.rstyle,t,e,r)};a("labelX",null,(e={x:r.midX,y:r.midY}).x),a("labelY",null,e.y);var s=xa(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var l=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<r.allpts.length;o+=4)e.push({p0:{x:r.allpts[o],y:r.allpts[o+1]},p1:{x:r.allpts[o+2],y:r.allpts[o+3]},p2:{x:r.allpts[o+4],y:r.allpts[o+5]},startDist:0,length:0,segments:[]});var a=n.rstyle.bezierPts,s=i.bezierProjPcts.length;function l(t,e,n,r,i){var o=Jt(e,n),a=t.segments[t.segments.length-1];t.segments.push({p0:e,p1:n,t0:r,t1:i,startDist:a?a.startDist+a.length:0,length:o}),t.length+=o}for(var u=0;u<e.length;u++){var c=e[u],h=e[u-1];h&&(c.startDist=h.startDist+h.length),l(c,c.p0,a[u*s],0,i.bezierProjPcts[0]);for(var d=0;d<s-1;d++)l(c,a[u*s+d],a[u*s+d+1],i.bezierProjPcts[d],i.bezierProjPcts[d+1]);l(c,a[u*s+s-1],c.p2,i.bezierProjPcts[s-1],1)}return t.cache=e},u=function(n){var i,s="source"===n;if(o[n]){var u=t.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,h=l(),d=0,p=0,f=0;f<h.length;f++){for(var g=h[s?f:h.length-1-f],v=0;v<g.segments.length;v++){var y=g.segments[s?v:g.segments.length-1-v];if(d=p,(p+=y.length)>=u||f===h.length-1&&v===g.segments.length-1){c={cp:g,segment:y};break}}if(c)break}var m=c.cp,_=c.segment,b=(u-d)/_.length,x=_.t1-_.t0,E=s?_.t0+x*b:_.t1-x*b;E=ee(0,E,1),e=te(m.p0,m.p1,m.p2,E),i=function(t,e,n,r){var i=ee(0,r-.001,1),o=ee(0,r+.001,1),a=te(t,e,n,i),s=te(t,e,n,o);return Ea(a,s)}(m.p0,m.p1,m.p2,E);break;case"straight":case"segments":case"haystack":for(var C,w,L,T,D=0,A=r.allpts.length,R=0;R+3<A&&(s?(L={x:r.allpts[R],y:r.allpts[R+1]},T={x:r.allpts[R+2],y:r.allpts[R+3]}):(L={x:r.allpts[A-2-R],y:r.allpts[A-1-R]},T={x:r.allpts[A-4-R],y:r.allpts[A-3-R]}),w=D,!((D+=C=Jt(L,T))>=u));R+=2);var N=(u-w)/C;N=ee(0,N,1),e=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Jt(t,e);return n=null==n?0:n,{x:t.x+i/a*(r=null!=r?r:n*a),y:t.y+o/a*r}}(L,T,N),i=Ea(L,T)}a("labelX",n,e.x),a("labelY",n,e.y),a("labelAutoAngle",n,i)}};u("source"),u("target"),this.applyLabelDimensions(t)}},ba.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},ba.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=Ct(n.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==a?1:Math.max(s.length,1),u=i.height/l,c=u*o,h=i.width,d=i.height+(l-1)*(o-1)*u;wt(n.rstyle,"labelWidth",e,h),wt(n.rscratch,"labelWidth",e,h),wt(n.rstyle,"labelHeight",e,d),wt(n.rscratch,"labelHeight",e,d),wt(n.rscratch,"labelLineHeight",e,c)},ba.getLabelText=function(t,e){var n=t._private,r=t.pstyle((e?e+"-":"")+"label").strValue,i=t.pstyle("text-transform").value,o=function(t,r){return r?(wt(n.rscratch,t,e,r),r):Ct(n.rscratch,t,e)};if(!r)return"";"none"==i||("uppercase"==i?r=r.toUpperCase():"lowercase"==i&&(r=r.toLowerCase()));var a=t.pstyle("text-wrap").value;if("wrap"===a){var s=o("labelKey");if(null!=s&&o("labelWrapKey")===s)return o("labelWrapCachedText");for(var l=r.split("\n"),u=t.pstyle("text-max-width").pfValue,c="anywhere"===t.pstyle("text-overflow-wrap").value,h=[],d=/[\s\u200b]+/,p=c?"":" ",f=0;f<l.length;f++){var g=l[f],v=this.calculateLabelDimensions(t,g).width;if(c){var y=g.split("").join("\u200b");g=y}if(v>u){for(var m=g.split(d),_="",b=0;b<m.length;b++){var x=m[b];this.calculateLabelDimensions(t,0===_.length?x:_+p+x).width<=u?_+=x+p:(_&&h.push(_),_=x+p)}_.match(/^[\s\u200b]+$/)||h.push(_)}else h.push(g)}o("labelWrapCachedLines",h),r=o("labelWrapCachedText",h.join("\n")),o("labelWrapKey",s)}else if("ellipsis"===a){var E=t.pstyle("text-max-width").pfValue,C="",w=!1;if(this.calculateLabelDimensions(t,r).width<E)return r;for(var L=0;L<r.length&&!(this.calculateLabelDimensions(t,C+r[L]+"\u2026").width>E);L++)C+=r[L],L===r.length-1&&(w=!0);return w||(C+="\u2026"),C}return r},ba.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},ba.calculateLabelDimensions=function(t,e){var n=nt(e,t._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var o=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue,s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,u=this.labelCalcCanvas,c=this.labelCalcCanvasContext;if(!u){u=this.labelCalcCanvas=document.createElement("canvas"),c=this.labelCalcCanvasContext=u.getContext("2d");var h=u.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}c.font="".concat(o," ").concat(l," ").concat(a,"px ").concat(s);for(var d=0,p=0,f=e.split("\n"),g=0;g<f.length;g++){var v=c.measureText(f[g]),y=Math.ceil(v.width),m=a;d=Math.max(y,d),p+=m}return r[n]={width:d+=0,height:p+=0}},ba.calculateLabelAngle=function(t,e){var n=t._private.rscratch,r=t.isEdge(),i=t.pstyle((e?e+"-":"")+"text-rotation"),o=i.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:i.pfValue},ba.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private.rscratch;r.labelAngle=e.calculateLabelAngle(t),n&&(r.sourceLabelAngle=e.calculateLabelAngle(t,"source"),r.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ca={},wa=!1;Ca.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return wa||(gt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),wa=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"round-rectangle"===e||"cutrectangle"===e||"cut-rectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e};var La={};[pa,fa,ga,ya,ma,ba,Ca,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,r=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),n)for(var r=0;r<t.length;r++){var i=t[r],o=i._private,a=o.rstyle;a.clean=!1,a.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(t){r(t.target)}).on("style.* background.*",function(t){r(t.target,!1)});var i=function(i){if(i){var o=n.onUpdateEleCalcsFns;e.cleanStyle();for(var a=0;a<e.length;a++){var s=e[a],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(r(s.connectedEdges()),l.cleanConnected=!0)}if(o)for(var u=0;u<o.length;u++)(0,o[u])(i,e);n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=function(t){return t._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,l=s.rstyle;a.isEdge()&&(!n(a.source())||!n(a.target()))&&(l.clean=!1),!(e&&l.clean||a.removed())&&"none"!==a.pstyle("display").value&&("nodes"===s.group?i.push(a):r.push(a),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var f=r[p]._private,g=f.rstyle,v=f.rscratch;g.srcX=v.arrowStartX,g.srcY=v.arrowStartY,g.tgtX=v.arrowEndX,g.tgtY=v.arrowEndY,g.midX=v.midX,g.midY=v.midY,g.labelAngle=v.labelAngle,g.sourceLabelAngle=v.sourceLabelAngle,g.targetLabelAngle=v.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=(i=t[n])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):r.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(n=0;n<e.length;n++){var i;t.drag.push(i=e[n])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(gi),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach(function(t){W(La,t)});var Ta={getCachedImage:function(t,e,n){var r=this.imageCache=this.imageCache||{},i=r[t];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[t]=r[t]||{}).image=new Image;o.addEventListener("load",n),o.addEventListener("error",function(){o.error=!0});var a="data:";return t.substring(0,a.length).toLowerCase()===a||(o.crossOrigin=e),o.src=t,o}},Da={registerBinding:function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}(t);if(null==e.supportsPassiveEvents){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});window.addEventListener("test",null,i)}catch(a){}e.supportsPassiveEvents=r}var o=function(r,i,o){var a=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:a}),(t.addEventListener||t.on).apply(t,a),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()}};Da.load=function(){var t=this,e=function(t){return t.selected()},n=function(e,n,r,i){null==e&&(e=t.cy);for(var o=0;o<n.length;o++)e.emit({originalEvent:r,type:n[o],position:i})},r=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},o=function(e,n){var r=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var i=0;n&&i<n.length;i++)if((e=n[i]).isNode()&&e.isParent()&&!e.pannable()){r=!1;break}}else r=!0;return r},a=function(t){t[0]._private.rscratch.inDragLayer=!0},s=function(t){t[0]._private.rscratch.isGrabTarget=!0},l=function(t,e){var n=e.addToList;n.has(t)||(n.merge(t),function(t){t[0]._private.grabbed=!0}(t))},u=function(e,n){n=n||{};var r=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(a),e.neighborhood().stdFilter(function(t){return!r||t.isEdge()}).forEach(a)),n.addToList&&e.forEach(function(t){l(t,n)}),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),e.addToList&&e.addToList.unmerge(n)}}(e,n),d(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},c=u,h=function(e){!e||(t.getCachedZSortedEles().forEach(function(t){(function(t){t[0]._private.grabbed=!1})(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)}),t.updateCachedGrabbedEles())},d=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var r=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),i=r.connectedEdges();e.inDragLayer&&(i.forEach(a),r.forEach(a)),e.addToList&&r.forEach(function(t){l(t,e)})}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;f?(t.removeObserver=new MutationObserver(function(e){for(var n=0;n<e.length;n++){var r=e[n].removedNodes;if(r)for(var i=0;i<r.length;i++)if(r[i]===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(e){t.destroy()});var v=i(function(){t.cy.resize()},100);f&&(t.styleObserver=new MutationObserver(v),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",v),g&&(t.resizeObserver=new ResizeObserver(v),t.resizeObserver.observe(t.container));var y=function(){t.invalidateContainerClientCoordsCache()};(function(e,n){for(;null!=e;)t.registerBinding(r=e,"transitionend",y),t.registerBinding(r,"animationend",y),t.registerBinding(r,"scroll",y),e=e.parentNode;var r})(t.container),t.registerBinding(t.container,"contextmenu",function(t){t.preventDefault()});var m=function(e){for(var n=t.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=e.touches?e.touches:[e],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var h=t.container,d=e.target.parentNode,p=!1;d;){if(d===h){p=!0;break}d=d.parentNode}return!!p};t.registerBinding(t.container,"mousedown",function(e){if(m(e)){e.preventDefault(),p(),t.hoverData.capture=!0,t.hoverData.which=e.which;var r=t.cy,i=[e.clientX,e.clientY],o=t.projectIntoViewport(i[0],i[1]),a=t.selection,l=t.findNearestElements(o[0],o[1],!0,!1),h=l[0],d=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=o,t.hoverData.mdownGPos=i,3==e.which){t.hoverData.cxtStarted=!0;var f={originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}};h?(h.activate(),h.emit(f),t.hoverData.down=h):r.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(h&&h.activate(),null!=h&&t.nodeIsGrabbable(h)){var g=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};if(s(h),h.selected()){d=t.dragData.possibleDragElements=r.collection();var v=r.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)});u(v,{addToList:d}),h.emit(g("grabon")),v.forEach(function(t){t.emit(g("grab"))})}else d=t.dragData.possibleDragElements=r.collection(),c(h,{addToList:d}),h.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=h,t.hoverData.downs=l,t.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==h?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):h.pannable()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}})}},t.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},!1),t.registerBinding(window,"mousemove",function(e){var i;if(t.hoverData.capture||m(e)){var a=!1,s=t.cy,l=s.zoom(),c=[e.clientX,e.clientY],d=t.projectIntoViewport(c[0],c[1]),p=t.hoverData.mdownPos,f=t.hoverData.mdownGPos,g=t.selection,v=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(v=t.findNearestElement(d[0],d[1],!0,!1));var y,_=t.hoverData.last,b=t.hoverData.down,x=[d[0]-g[2],d[1]-g[3]],E=t.dragData.possibleDragElements;if(f){var w=c[0]-f[0],L=c[1]-f[1];t.hoverData.isOverThresholdDrag=y=w*w+L*L>=t.desktopTapThreshold2}var T=r(e);y&&(t.hoverData.tapholdCancelled=!0),a=!0,n(v,["mousemove","vmousemove","tapdrag"],e,{x:d[0],y:d[1]});var D=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:d[0],y:d[1]}}),g[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(y){var A={originalEvent:e,type:"cxtdrag",position:{x:d[0],y:d[1]}};b?b.emit(A):s.emit(A),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||v!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:d[0],y:d[1]}}),t.hoverData.cxtOver=v,v&&v.emit({originalEvent:e,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(t.hoverData.dragging){if(a=!0,s.panningEnabled()&&s.userPanningEnabled()){var R;if(t.hoverData.justStartedPan){var N=t.hoverData.mdownPos;R={x:(d[0]-N[0])*l,y:(d[1]-N[1])*l},t.hoverData.justStartedPan=!1}else R={x:x[0]*l,y:x[1]*l};s.panBy(R),s.emit("dragpan"),t.hoverData.dragged=!0}d=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=g[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),(!b||!b.grabbed())&&v!=_&&(_&&n(_,["mouseout","tapdragout"],e,{x:d[0],y:d[1]}),v&&n(v,["mouseover","tapdragover"],e,{x:d[0],y:d[1]}),t.hoverData.last=v),b)if(y){if(s.boxSelectionEnabled()&&T)b&&b.grabbed()&&(h(E),b.emit("freeon"),E.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),E.emit("dragfree"))),D();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var P=!t.dragData.didDrag;P&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var I=s.collection();t.hoverData.draggingEles||u(E,{inDragLayer:!0});var S={x:0,y:0};if(C(x[0])&&C(x[1])&&(S.x+=x[0],S.y+=x[1],P)){var O=t.hoverData.dragDelta;O&&C(O[0])&&C(O[1])&&(S.x+=O[0],S.y+=O[1])}for(var M=0;M<E.length;M++){var k=E[M];t.nodeIsDraggable(k)&&k.grabbed()&&I.push(k)}t.hoverData.draggingEles=!0,I.silentShift(S).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else 0===(i=t.hoverData.dragDelta=t.hoverData.dragDelta||[]).length?(i.push(x[0]),i.push(x[1])):(i[0]+=x[0],i[1]+=x[1]);a=!0}else y&&(t.hoverData.dragging||!s.boxSelectionEnabled()||!T&&s.panningEnabled()&&s.userPanningEnabled()?!t.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&o(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,g[4]=0,t.data.bgActivePosistion=Yt(p),t.redrawHint("select",!0),t.redraw()):D(),b&&b.pannable()&&b.active()&&b.unactivate());if(g[2]=d[0],g[3]=d[1],a)return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}},!1),t.registerBinding(window,"mouseup",function(i){if(t.hoverData.capture){t.hoverData.capture=!1;var o=t.cy,a=t.projectIntoViewport(i.clientX,i.clientY),s=t.selection,l=t.findNearestElement(a[0],a[1],!0,!1),u=t.dragData.possibleDragElements,c=t.hoverData.down,d=r(i);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,c&&c.unactivate(),3===t.hoverData.which){var p={originalEvent:i,type:"cxttapend",position:{x:a[0],y:a[1]}};if(c?c.emit(p):o.emit(p),!t.hoverData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:a[0],y:a[1]}};c?c.emit(f):o.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],i,{x:a[0],y:a[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&n(c,["click","tap","vclick"],i,{x:a[0],y:a[1]}),null==c&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!r(i)&&(o.$(e).unselect(["tapunselect"]),u.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=u=o.collection()),l==c&&!t.dragData.didDrag&&!t.hoverData.selecting&&null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(o.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=o.collection(t.getAllInBox(s[0],s[1],s[2],s[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:i,position:{x:a[0],y:a[1]}}),"additive"===o.selectionType()||d||o.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(function(t){return t.selectable()&&!t.selected()}).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!s[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var v=c&&c.grabbed();h(u),v&&(c.emit("freeon"),u.emit("free"),t.dragData.didDrag&&(c.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var _=function(e){if(!t.scrollingPage){var n=t.cy,r=n.zoom(),i=n.pan(),o=t.projectIntoViewport(e.clientX,e.clientY),a=[o[0]*r+i.x,o[1]*r+i.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4])return void e.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var s;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),s=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,s*=t.wheelSensitivity,1===e.deltaMode&&(s*=33);var l=n.zoom()*Math.pow(10,s);"gesturechange"===e.type&&(l=t.gestureStartZoom*e.scale),n.zoom({level:l,renderedPosition:{x:a[0],y:a[1]}}),n.emit("gesturechange"===e.type?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",_,!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(e){t.hasTouchStarted||_(e)},!0),t.registerBinding(t.container,"mouseout",function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),t.registerBinding(t.container,"mouseover",function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var b,x,E,w,L,T,D,A,R,N,P,I,S,O,M,k,F,B=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},W=function(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)};if(t.registerBinding(t.container,"touchstart",O=function(e){if(t.hasTouchStarted=!0,m(e)){p(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var r=t.cy,i=t.touchData.now,o=t.touchData.earlier;if(e.touches[0]){var a=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(e.touches[1]&&(a=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),i[2]=a[0],i[3]=a[1]),e.touches[2]&&(a=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),i[4]=a[0],i[5]=a[1]),e.touches[1]){t.touchData.singleTouchMoved=!0,h(t.dragData.touchDragEles);var l=t.findContainerClientCoords();P=l[2],I=l[3],x=e.touches[0].clientY-(N=l[1]),E=e.touches[1].clientX-(R=l[0]),w=e.touches[1].clientY-N,S=0<=(b=e.touches[0].clientX-R)&&b<=P&&0<=E&&E<=P&&0<=x&&x<=I&&0<=w&&w<=I;var d=r.pan(),f=r.zoom();if(L=B(b,x,E,w),T=W(b,x,E,w),A=[((D=[(b+E)/2,(x+w)/2])[0]-d.x)/f,(D[1]-d.y)/f],T<4e4&&!e.touches[2]){var g=t.findNearestElement(i[0],i[1],!0,!0),v=t.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=v):r.emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])r.boxSelectionEnabled()&&e.preventDefault();else if(!e.touches[1]&&e.touches[0]){var y=t.findNearestElements(i[0],i[1],!0,!0),_=y[0];if(null!=_&&(_.activate(),t.touchData.start=_,t.touchData.starts=y,t.nodeIsGrabbable(_))){var C=t.dragData.touchDragEles=r.collection(),O=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),_.selected()?(O=r.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),u(O,{addToList:C})):c(_,{addToList:C}),s(_);var M=function(t){return{originalEvent:e,type:t,position:{x:i[0],y:i[1]}}};_.emit(M("grabon")),O?O.forEach(function(t){t.emit(M("grab"))}):_.emit(M("grab"))}n(_,["touchstart","tapstart","vmousedown"],e,{x:i[0],y:i[1]}),null==_&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1===t.touchData.singleTouchMoved&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],e,{x:i[0],y:i[1]})},t.tapholdDuration)}if(e.touches.length>=1){for(var k=t.touchData.startPosition=[],F=0;F<i.length;F++)k[F]=o[F]=i[F];var U=e.touches[0];t.touchData.startGPosition=[U.clientX,U.clientY]}}},!1),t.registerBinding(window,"touchmove",M=function(e){var r=t.touchData.capture;if(r||m(e)){var i=t.selection,a=t.cy,s=t.touchData.now,l=t.touchData.earlier,c=a.zoom();if(e.touches[0]){var d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);s[0]=d[0],s[1]=d[1]}e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),s[2]=d[0],s[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),s[4]=d[0],s[5]=d[1]);var p,f=t.touchData.startGPosition;if(r&&e.touches[0]&&f){for(var g=[],v=0;v<s.length;v++)g[v]=s[v]-l[v];var y=e.touches[0].clientX-f[0],_=e.touches[0].clientY-f[1];p=y*y+_*_>=t.touchTapThreshold2}if(r&&t.touchData.cxt){e.preventDefault();var D=W(k=e.touches[0].clientX-R,F=e.touches[0].clientY-N,U=e.touches[1].clientX-R,G=e.touches[1].clientY-N);if(D/T>=2.25||D>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var P={originalEvent:e,type:"cxttapend",position:{x:s[0],y:s[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(P),t.touchData.start=null):a.emit(P)}}if(r&&t.touchData.cxt){P={originalEvent:e,type:"cxtdrag",position:{x:s[0],y:s[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(P):a.emit(P),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var I=t.findNearestElement(s[0],s[1],!0,!0);(!t.touchData.cxtOver||I!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:s[0],y:s[1]}}),t.touchData.cxtOver=I,I&&I.emit({originalEvent:e,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&e.touches[2]&&a.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:s[0],y:s[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(r&&e.touches[1]&&!t.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),et=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var O=0;O<et.length;O++){var M=et[O]._private;M.grabbed=!1,M.rscratch.inDragLayer=!1}}var k,F,U,G,H=t.touchData.start,V=B(k=e.touches[0].clientX-R,F=e.touches[0].clientY-N,U=e.touches[1].clientX-R,G=e.touches[1].clientY-N),z=V/L;if(S){var j=(k-b+(U-E))/2,Y=(F-x+(G-w))/2,X=a.zoom(),q=X*z,K=a.pan(),J=A[0]*X+K.x,Q=A[1]*X+K.y,$={x:-q/X*(J-K.x-j)+J,y:-q/X*(Q-K.y-Y)+Q};H&&H.active()&&(h(et=t.dragData.touchDragEles),t.redrawHint("drag",!0),t.redrawHint("eles",!0),H.unactivate().emit("freeon"),et.emit("free"),t.dragData.didDrag&&(H.emit("dragfreeon"),et.emit("dragfree"))),a.viewport({zoom:q,pan:$,cancelOnFailedZoom:!0}),a.emit("pinchzoom"),L=V,b=k,x=F,E=U,w=G,t.pinching=!0}e.touches[0]&&(d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),s[0]=d[0],s[1]=d[1]),e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),s[2]=d[0],s[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),s[4]=d[0],s[5]=d[1])}else if(e.touches[0]&&!t.touchData.didSelect){var Z=t.touchData.start,tt=t.touchData.last;if(!t.hoverData.draggingEles&&!t.swipePanning&&(I=t.findNearestElement(s[0],s[1],!0,!0)),r&&null!=Z&&e.preventDefault(),r&&null!=Z&&t.nodeIsDraggable(Z))if(p){var et=t.dragData.touchDragEles,nt=!t.dragData.didDrag;nt&&u(et,{inDragLayer:!0}),t.dragData.didDrag=!0;var rt={x:0,y:0};C(g[0])&&C(g[1])&&(rt.x+=g[0],rt.y+=g[1],nt)&&(t.redrawHint("eles",!0),(it=t.touchData.dragDelta)&&C(it[0])&&C(it[1])&&(rt.x+=it[0],rt.y+=it[1])),t.hoverData.draggingEles=!0,et.silentShift(rt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&t.redrawHint("eles",!0),t.redraw()}else{var it;0===(it=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(it.push(g[0]),it.push(g[1])):(it[0]+=g[0],it[1]+=g[1])}if(n(Z||I,["touchmove","tapdrag","vmousemove"],e,{x:s[0],y:s[1]}),(!Z||!Z.grabbed())&&I!=tt&&(tt&&tt.emit({originalEvent:e,type:"tapdragout",position:{x:s[0],y:s[1]}}),I&&I.emit({originalEvent:e,type:"tapdragover",position:{x:s[0],y:s[1]}})),t.touchData.last=I,r)for(O=0;O<s.length;O++)s[O]&&t.touchData.startPosition[O]&&p&&(t.touchData.singleTouchMoved=!0);r&&(null==Z||Z.pannable())&&a.panningEnabled()&&a.userPanningEnabled()&&(o(Z,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Yt(t.touchData.startPosition)),t.swipePanning?(a.panBy({x:g[0]*c,y:g[1]*c}),a.emit("dragpan")):p&&(t.swipePanning=!0,a.panBy({x:y*c,y:_*c}),a.emit("dragpan"),Z&&(Z.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),s[0]=d[0],s[1]=d[1])}for(v=0;v<s.length;v++)l[v]=s[v];r&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",k=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",F=function(r){var i=t.touchData.start;if(t.touchData.capture){0===r.touches.length&&(t.touchData.capture=!1),r.preventDefault();var o=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var a,s=t.cy,l=s.zoom(),u=t.touchData.now,c=t.touchData.earlier;if(r.touches[0]){var d=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(r.touches[1]&&(d=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY),u[2]=d[0],u[3]=d[1]),r.touches[2]&&(d=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY),u[4]=d[0],u[5]=d[1]),i&&i.unactivate(),t.touchData.cxt){if(a={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}},i?i.emit(a):s.emit(a),!t.touchData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:u[0],y:u[1]}};i?i.emit(p):s.emit(p)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=s.collection(t.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,t.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:u[0],y:u[1]}}),f.emit("box").stdFilter(function(t){return t.selectable()&&!t.selected()}).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=i&&i.unactivate(),r.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!r.touches[1]&&!r.touches[0]&&!r.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=i){var v=i._private.grabbed;h(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),v&&(i.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]}),i.unactivate(),t.touchData.start=null}else{var y=t.findNearestElement(u[0],u[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]})}var m=t.touchData.startPosition[0]-u[0],_=t.touchData.startPosition[1]-u[1],b=(m*m+_*_)*l*l;t.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:u[0],y:u[1]})),null!=i&&!t.dragData.didDrag&&i._private.selectable&&b<t.touchTapThreshold2&&!t.pinching&&("single"===s.selectionType()?(s.$(e).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<u.length;x++)c[x]=u[x];t.dragData.didDrag=!1,0===r.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(t.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var U=[],G=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},H=function(t){for(var e=0;e<U.length;e++)if(U[e].event.pointerId===t.pointerId)return void U.splice(e,1)},V=function(t){t.touches=U.map(function(t){return t.touch})},z=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",function(t){z(t)||(t.preventDefault(),U.push(function(t){return{event:t,touch:G(t)}}(t)),V(t),O(t))}),t.registerBinding(t.container,"pointerup",function(t){z(t)||(H(t),V(t),F(t))}),t.registerBinding(t.container,"pointercancel",function(t){z(t)||(H(t),V(t),k())}),t.registerBinding(t.container,"pointermove",function(t){var e,n;z(t)||(t.preventDefault(),e=t,(n=U.filter(function(t){return t.event.pointerId===e.pointerId})[0]).event=e,n.touch=G(e),V(t),M(t))})}};var Aa={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,r,i,o,a){return Le(i,o,this.points,t,e,n/2,r/2,a)},checkPoint:function(t,e,n,r,i,o,a){return me(t,e,this.points,o,a,r,i,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o){var a=n-t,s=r-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-t)*c+t,(r-e)*c+e]}(i,o,t,e,n/2+a,r/2+a)},checkPoint:function(t,e,n,r,i,o,a){return xe(t,e,r,i,o,a,n)}}},generateRoundPolygon:function(t,e){for(var n=new Array(2*e.length),r=0;r<e.length/2;r++){var i,o=2*r;i=r<e.length/2-1?2*(r+1):0,n[4*r]=e[o],n[4*r+1]=e[o+1];var a=e[i]-e[o],s=e[i+1]-e[o+1],l=Math.sqrt(a*a+s*s);n[4*r+2]=a/l,n[4*r+3]=s/l}return this.nodeShapes[t]={renderer:this,name:t,points:n,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("round-polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o,a,s){for(var l,u=[],c=new Array(n.length),h=o/2,d=a/2,p=Pe(o,a),f=0;f<n.length/4;f++){var g,v;v=0===f?n.length-2:4*f-2,g=4*f+2;var y=r+h*n[4*f],m=i+d*n[4*f+1],_=p/Math.tan(Math.acos(-n[v]*n[g]-n[v+1]*n[g+1])/2),b=y-_*n[v],x=m-_*n[v+1],E=y+_*n[g],C=m+_*n[g+1];0===f?(c[n.length-2]=b,c[n.length-1]=x):(c[4*f-2]=b,c[4*f-1]=x),c[4*f]=E,c[4*f+1]=C;var w=n[v+1],L=-n[v];w*n[g]+L*n[g+1]<0&&(w*=-1,L*=-1),0!==(l=Ee(t,e,r,i,b+w*p,x+L*p,p)).length&&u.push(l[0],l[1])}for(var T=0;T<c.length/4;T++)0!==(l=we(t,e,r,i,c[4*T],c[4*T+1],c[4*T+2],c[4*T+3],!1)).length&&u.push(l[0],l[1]);if(u.length>2){for(var D=[u[0],u[1]],A=Math.pow(D[0]-t,2)+Math.pow(D[1]-e,2),R=1;R<u.length/2;R++){var N=Math.pow(u[2*R]-t,2)+Math.pow(u[2*R+1]-e,2);N<=A&&(D[0]=u[2*R],D[1]=u[2*R+1],A=N)}return D}return u}(i,o,this.points,t,e,n,r)},checkPoint:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o,a){for(var s=new Array(n.length),l=o/2,u=a/2,c=Pe(o,a),h=c*c,d=0;d<n.length/4;d++){var p,f;f=0===d?n.length-2:4*d-2,p=4*d+2;var g=r+l*n[4*d],v=i+u*n[4*d+1],y=c/Math.tan(Math.acos(-n[f]*n[p]-n[f+1]*n[p+1])/2),m=g-y*n[f],_=v-y*n[f+1],b=g+y*n[p],x=v+y*n[p+1];s[4*d]=m,s[4*d+1]=_,s[4*d+2]=b,s[4*d+3]=x;var E=n[f+1],C=-n[f];E*n[p]+C*n[p+1]<0&&(E*=-1,C*=-1);var w=_+C*c;if(Math.pow(m+E*c-t,2)+Math.pow(w-e,2)<=h)return!0}return ye(t,e,s)}(t,e,this.points,o,a,r,i)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:De(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){return de(i,o,t,e,n,r,a)},checkPoint:function(t,e,n,r,i,o,a){var s=Ne(r,i),l=2*s;return!!(me(t,e,this.points,o,a,r,i-l,[0,-1],n)||me(t,e,this.points,o,a,r-l,i,[0,-1],n)||xe(t,e,l,l,o-r/2+s,a-i/2+s,n)||xe(t,e,l,l,o+r/2-s,a-i/2+s,n)||xe(t,e,l,l,o+r/2-s,a+i/2-s,n)||xe(t,e,l,l,o-r/2+s,a+i/2-s,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:De(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},generateCutTrianglePts:function(t,e,n,r){var i=this.cornerLength,o=e/2,a=t/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(t,e,n,r,i,o,a){var s=this.generateCutTrianglePts(n+2*a,r+2*a,t,e),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Le(i,o,l,t,e)},checkPoint:function(t,e,n,r,i,o,a){if(me(t,e,this.points,o,a,r,i-2*this.cornerLength,[0,-1],n)||me(t,e,this.points,o,a,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,o,a);return ye(t,e,s.topLeft)||ye(t,e,s.topRight)||ye(t,e,s.bottomRight)||ye(t,e,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:De(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,t,e),l=function(t){var e=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),r=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,r.x,r.y,t[4],t[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Le(i,o,u,t,e)},generateBarrelBezierPts:function(t,e,n,r){var i=e/2,o=t/2,a=n-o,s=n+o,l=r-i,u=r+i,c=Ie(t,e),h=c.heightOffset,d=c.widthOffset,p=c.ctrlPtOffsetPct*t,f={topLeft:[a,l+h,a+p,l,a+d,l],topRight:[s-d,l,s-p,l,s,l+h],bottomRight:[s,u-h,s-p,u,s-d,u],bottomLeft:[a+d,u,a+p,u,a,u-h]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,n,r,i,o,a){var s=Ie(r,i),l=s.widthOffset;if(me(t,e,this.points,o,a,r,i-2*s.heightOffset,[0,-1],n)||me(t,e,this.points,o,a,r-2*l,i,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(r,i,o,a),c=function(t,e,n){var r=n[4],i=n[2],o=n[0],a=n[5],s=n[1],l=Math.min(r,o),u=Math.max(r,o),c=Math.min(a,s),h=Math.max(a,s);if(l<=t&&t<=u&&c<=e&&e<=h){var d=function(t,e,n){return[t-2*e+n,2*(e-t),t]}(r,i,o),p=function(t,e,n,r){var i=e*e-4*t*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*t;return[(-e+o)/a,(-e-o)/a]}(d[0],d[1],d[2],t).filter(function(t){return 0<=t&&t<=1});if(p.length>0)return p[0]}return null},h=Object.keys(u),d=0;d<h.length;d++){var p=u[h[d]],f=c(t,e,p);if(null!=f){var g=Zt(p[5],p[3],p[1],f);if(p.isTop&&g<=e||p.isBottom&&e<=g)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:De(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){var s=e-(r/2+a),l=we(i,o,t,e,t-(n/2+a),s,t+(n/2+a),s,!1);return l.length>0?l:de(i,o,t,e,n,r,a)},checkPoint:function(t,e,n,r,i,o,a){var s=Ne(r,i),l=2*s;if(me(t,e,this.points,o,a,r,i-l,[0,-1],n)||me(t,e,this.points,o,a,r-l,i,[0,-1],n))return!0;var u=r/2+2*n,c=i/2+2*n;return!!(ye(t,e,[o-u,a-c,o-u,a,o+u,a,o+u,a-c])||xe(t,e,l,l,o+r/2-s,a+i/2-s,n)||xe(t,e,l,l,o-r/2+s,a+i/2-s,n))}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",De(3,0)),this.generateRoundPolygon("round-triangle",De(3,0)),this.generatePolygon("rectangle",De(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",De(5,0)),this.generateRoundPolygon("round-pentagon",De(5,0)),this.generatePolygon("hexagon",De(6,0)),this.generateRoundPolygon("round-hexagon",De(6,0)),this.generatePolygon("heptagon",De(7,0)),this.generateRoundPolygon("round-heptagon",De(7,0)),this.generatePolygon("octagon",De(8,0)),this.generateRoundPolygon("round-octagon",De(8,0));var r=new Array(20),i=Re(5,0),o=Re(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)r[4*s]=i[2*s],r[4*s+1]=i[2*s+1],r[4*s+2]=o[2*s],r[4*s+3]=o[2*s+1];r=Ae(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),t.makePolygon=function(t){var n,r="polygon-"+t.join("$");return(n=this[r])?n:e.generatePolygon(r,t)}}},Ra={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||_t();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&pt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(t,e){return e.priority-t.priority})}}},Na=function(t,e,n){for(var r=t.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(e,n)};Ra.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,Y(function n(r){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Na(t,!0,r);var i=X();t.render(t.renderOptions);var o=t.lastDrawTime=X();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var a=o-i;t.redrawTotalTime+=a,t.lastRedrawTime=a,t.averageRedrawTime=t.averageRedrawTime/2+a/2,t.requestedFrame=!1}else Na(t,!1,r);t.skipFrame=!1,Y(n)}}))};var Pa=function(t){this.init(t)},Ia=Pa.prototype;Ia.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ia.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(d){var r=d.document,i=r.head,o="__________cytoscape_stylesheet",a="__________cytoscape_container",s=null!=r.getElementById(o);if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!s){var l=r.createElement("style");l.id=o,l.innerHTML="."+a+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===d.getComputedStyle(n).getPropertyValue("position")&&gt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=C(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Ia.notify=function(t,e){var n=this,r=n.cy;if(!this.destroyed){if("init"===t)return void n.load();if("destroy"===t)return void n.destroy();("add"===t||"remove"===t||"move"===t&&r.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&n.invalidateCachedZSortedEles(),"viewport"===t&&n.redrawHint("select",!0),("load"===t||"resize"===t||"mount"===t)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Ia.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(i){}},Ia.isHeadless=function(){return!1},[da,La,Ta,Da,Aa,Ra].forEach(function(t){W(Ia,t)});var Sa=1e3/60,Oa=function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var r=i(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},t.deqRedrawThreshold);n.beforeRender(function(i,o){var a=X(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),h=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var d=X(),p=d-a,f=d-o;if(l<Sa){if(f>=t.deqFastCost*(Sa-(i?s:0)))break}else if(i){if(p>=t.deqCost*l||p>=t.deqAvgCost*s)break}else if(f>=t.deqNoDrawCost*Sa)break;var g=t.deq(e,h,c);if(!(g.length>0))break;for(var v=0;v<g.length;v++)u.push(g[v])}u.length>0&&(t.onDeqd(e,u),!i&&t.shouldRedraw(e,u,h,c)&&r())},(t.priority||dt)(e))}}},Ma=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct;s(this,t),this.idsByKey=new Lt,this.keyForId=new Lt,this.cachesByLvl=new Lt,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return u(t,[{key:"getIdsFor",value:function(t){null==t&&pt("Can not get id list for null key");var e=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new Dt,e.set(t,n)),n}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e),r=this.getKey(t);this.deleteIdForKey(n,e),this.addIdForKey(r,e),this.keyForId.set(e,r)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteIdForKey(n,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,n=this.lvls,r=e.get(t);return r||(r=new Lt,e.set(t,r),n.push(t)),r}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var n=this.getKey(t),r=this.getCache(n,e);return null!=r&&this.updateKeyMappingFor(t),r}},{key:"getForCachedKey",value:function(t,e){var n=this.keyForId.get(t.id());return this.getCache(n,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var n=this.getKey(t);return this.hasCache(n,e)}},{key:"setCache",value:function(t,e,n){n.key=t,this.getCachesAt(e).set(t,n)}},{key:"set",value:function(t,e,n){var r=this.getKey(t);this.setCache(r,e,n),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var n=this.getKey(t);this.deleteCache(n,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(n){return e.deleteCache(t,n)})}},{key:"invalidate",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteKeyMappingFor(t);var r=this.doesEleInvalidateKey(t);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),t}(),ka={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Fa=bt({getKey:null,doesEleInvalidateKey:ct,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ut,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ba=function(t,e){var n=this;n.renderer=t,n.onDequeues=[];var r=Fa(e);W(n,r),n.lookup=new Ma(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Wa=Ba.prototype;Wa.reasons=ka,Wa.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Wa.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Wa.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o(function(t,e){return e.reqs-t.reqs})},Wa.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Wa.getElement=function(t,e,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(!e||0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(null==r&&(r=Math.ceil(qt(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var u=Math.pow(2,r),c=e.h*u,h=e.w*u,d=a.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var p,f=l.get(t,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||h>1024)return null;var g=o.getTextureQueue(p),v=g[g.length-2],y=function(){return o.recycleTexture(p,h)||o.addTexture(p,h)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<h&&(v=y());for(var m,_=function(t){return t&&t.scaledLabelShown===d},b=i&&i===ka.dequeue,x=i&&i===ka.highQuality,E=i&&i===ka.downscale,C=r+1;C<=3;C++){var w=l.get(t,C);if(w){m=w;break}}var L=m&&m.level===r+1?m:null,T=function(){v.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,v.usedWidth,0,h,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,h,p),_(L))T();else if(_(m)){if(!x)return o.queueElement(t,m.level-1),m;for(var D=m.level;D>r;D--)L=o.getElement(t,e,n,D,ka.downscale);T()}else{var A;if(!b&&!x&&!E)for(var R=r-1;R>=-4;R--){var N=l.get(t,R);if(N){A=N;break}}if(_(A))return o.queueElement(t,r),A;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,t,e,d,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return f={x:v.usedWidth,texture:v,level:r,scale:u,width:h,height:c,scaledLabelShown:d},v.usedWidth+=Math.ceil(h+8),v.eleCaches.push(f),l.set(t,r,f),o.checkTextureFullness(v),f},Wa.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Wa.invalidateElement=function(t){var e=this,n=e.lookup,r=[];if(n.isInvalid(t)){for(var i=-4;i<=3;i++){var o=n.getForCachedKey(t,i);o&&r.push(o)}if(n.invalidate(t))for(var a=0;a<r.length;a++){var s=r[a],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,e.checkTextureUtility(l)}e.removeFromQueue(t)}},Wa.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Wa.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?xt(e,t):t.fullnessChecks++},Wa.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e),r=this.lookup;xt(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var a=i[o];r.deleteCache(a.key,a.level)}Et(i),this.getRetiredTextureQueue(e).push(t)},Wa.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Wa.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),r=this.getRetiredTextureQueue(t),i=0;i<r.length;i++){var o=r[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Et(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),xt(r,o),n.push(o),o}},Wa.queueElement=function(t,e){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(t),o=r[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(a),r[i]=a}},Wa.dequeue=function(t){for(var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<1&&n.size()>0;a++){var s=n.pop(),l=s.key,u=s.eles[0],c=o.hasCache(u,s.level);if(r[l]=null,!c){i.push(s);var h=e.getBoundingBox(u);e.getElement(u,h,t,s.level,ka.dequeue)}}return i},Wa.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(t),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=lt,e.updateItem(i),e.pop(),n[r]=null):i.eles.unmerge(t))},Wa.onDequeue=function(t){this.onDequeues.push(t)},Wa.offDequeue=function(t){xt(this.onDequeues,t)},Wa.setupDequeueing=Oa({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,r){for(var i=0;i<e.length;i++)for(var o=e[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(le(s,r))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Ua=function(t){var e=this,n=e.renderer=t,r=n.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=X()-500,e.skipping=!1,e.eleTxrDeqs=r.collection(),e.scheduleElementRefinement=i(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},50),n.beforeRender(function(t,n){e.skipping=n-e.lastInvalidationTime<=250},n.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new o(function(t,e){return e.reqs-t.reqs}),e.setupDequeueing()},Ga=Ua.prototype,Ha=0,Va=Math.pow(2,53)-1;Ga.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:Ha=++Ha%Va,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},Ga.getLayers=function(t,e,n){var r=this,i=r.renderer.cy.zoom(),o=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(qt(i*e)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,t);var a,s,l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(r.levelIsComplete(n,t))return c;!function(){var e=function(e){if(r.validateLayersElesOrdering(e,t),r.levelIsComplete(e,t))return s=l[e],!0},i=function(t){if(!s)for(var r=n+t;-4<=r&&r<=2&&!e(r);r+=t);};i(1),i(-1);for(var o=c.length-1;o>=0;o--){var a=c[o];a.invalid&&xt(c,a)}}();var h=function(e){var i=(e=e||{}).after;if(function(){if(!a){a=ne();for(var e=0;e<t.length;e++)re(a,t[e].boundingBox())}}(),a.w*u*(a.h*u)>16e6)return null;var o=r.makeLayer(a,n);if(null!=i){var s=c.indexOf(i)+1;c.splice(s,0,o)}else(void 0===e.insert||e.insert)&&c.unshift(o);return o};if(r.skipping&&!o)return null;for(var d=null,p=t.length/1,f=!o,g=0;g<t.length;g++){var v=t[g],y=v._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},_=m[n];if(_)d=_;else{if((!d||d.eles.length>=p||!he(d.bb,v.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;s||f?r.queueLayer(d,v):r.drawEleInLayer(d,v,n,e),d.eles.push(v),m[n]=d}}return s||(f?null:c)},Ga.getEleLevelForLayerLevel=function(t,e){return t},Ga.drawEleInLayer=function(t,e,n,r){var i=this.renderer,o=t.context,a=e.boundingBox();0===a.w||0===a.h||!e.visible()||(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,n,!0),i.setImgSmoothing(o,!0))},Ga.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;r+=o.eles.length}return r===e.length},Ga.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},Ga.updateElementsInLayers=function(t,e){for(var n=T(t[0]),r=0;r<t.length;r++)for(var i=n?null:t[r],o=n?t[r]:t[r].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];!u||i&&this.getEleLevelForLayerLevel(u.level)!==i.level||e(u,o,i)}},Ga.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},Ga.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=X(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(t,n,r){e.invalidateLayer(t)}))},Ga.invalidateLayer=function(t){if(this.lastInvalidationTime=X(),!t.invalid){var e=t.level,n=t.eles;xt(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var r=0;r<n.length;r++){var i=n[r]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}},Ga.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(t,n,r){var i=t.replacement;if(i||((i=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,i.eles=t.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])})},Ga.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Ga.queueLayer=function(t,e){var n=this.layersQueue,r=t.elesQueue,i=r.hasId=r.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;r.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},Ga.dequeue=function(t){for(var e=this,n=e.layersQueue,r=[],i=0;i<1&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),0===r.length&&r.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}}return r},Ga.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,r=e.indexOf(n);if(!(r<0||n.invalid)){e[r]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},Ga.requestRedraw=i(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),Ga.setupDequeueing=Oa({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:dt,shouldRedraw:ut,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var za,ja={};function Ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function Xa(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];0===i&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function qa(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++)t.lineTo((s=r[i]).x,s.y);var o=n,a=n[0];for(t.moveTo(a.x,a.y),i=1;i<o.length;i++){var s;t.lineTo((s=o[i]).x,s.y)}t.closePath&&t.closePath()}function Ka(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var l=o[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function Ja(t,e,n,r){t.arc(e,n,r,0,2*Math.PI,!1)}ja.arrowShapeImpl=function(t){return(za||(za={polygon:Ya,"triangle-backcurve":Xa,"triangle-tee":qa,"circle-triangle":Ka,"triangle-cross":qa,circle:Ja}))[t]};var Qa={drawElement:function(t,e,n,r,i,o){e.isNode()?this.drawNode(t,e,n,r,i,o):this.drawEdge(t,e,n,r,i,o)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,n,r,i,o,a,s){var l=this,u=n.getBoundingBox(e);if(0!==u.w&&0!==u.h){var c=n.getElement(e,u,r,i,o);if(null!=c){var h=s(l,e);if(0===h)return;var d,p,f,g,v,y,m=a(l,e),_=u.x1,b=u.y1,x=u.w,E=u.h;if(0!==m){var C=n.getRotationPoint(e);t.translate(f=C.x,g=C.y),t.rotate(m),(v=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var w=n.getRotationOffset(e);d=w.x,p=w.y}else d=_,p=b;1!==h&&(t.globalAlpha=(y=t.globalAlpha)*h),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,d,p,x,E),1!==h&&(t.globalAlpha=y),0!==m&&(t.rotate(-m),t.translate(-f,-g),v||l.setImgSmoothing(t,!1))}else n.drawElement(t,e)}}},$a=function(){return 0},Za=function(t,e){return t.getTextAngle(e,null)},ts=function(t,e){return t.getTextAngle(e,"source")},es=function(t,e){return t.getTextAngle(e,"target")},ns=function(t,e){return e.effectiveOpacity()},rs=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Qa.drawCachedElement=function(t,e,n,r,i,o){var a=this,s=a.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,d=e.boundingBox(),p=!0===o?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&e.visible()&&(!r||le(d,r))){var f=e.isEdge(),g=e.element()._private.rscratch.badLine;a.drawCachedElementPortion(t,e,l,n,i,p,$a,ns),(!f||!g)&&a.drawCachedElementPortion(t,e,u,n,i,p,Za,rs),f&&!g&&(a.drawCachedElementPortion(t,e,c,n,i,p,ts,rs),a.drawCachedElementPortion(t,e,h,n,i,p,es,rs)),a.drawElementOverlay(t,e)}},Qa.drawElements=function(t,e){for(var n=0;n<e.length;n++)this.drawElement(t,e[n])},Qa.drawCachedElements=function(t,e,n,r){for(var i=0;i<e.length;i++)this.drawCachedElement(t,e[i],n,r)},Qa.drawCachedNodes=function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];!o.isNode()||this.drawCachedElement(t,o,n,r)}},Qa.drawLayeredElements=function(t,e,n,r){var i=this.data.lyrTxrCache.getLayers(e,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0===s.w||0===s.h||t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,n,r)};var is={drawEdge:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=e._private.rscratch;if((!o||e.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&t.translate(-(l=n).x1,-l.y1);var u=o?e.pstyle("opacity").value:1,c=o?e.pstyle("line-opacity").value:1,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,f=u*c,g=u*c,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;t.lineWidth=d,t.lineCap=p,a.eleStrokeStyle(t,e,n),a.drawEdgePath(e,t,s.allpts,h),t.lineCap="butt"},y=function(){!i||a.drawEdgeOverlay(t,e)},m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;a.drawArrowheads(t,e,n)},_=function(){a.drawElementText(t,e,null,r)};t.lineJoin="round";var b="yes"===e.pstyle("ghost").value;if(b){var x=e.pstyle("ghost-offset-x").pfValue,E=e.pstyle("ghost-offset-y").pfValue,C=e.pstyle("ghost-opacity").value,w=f*C;t.translate(x,E),v(w),m(w),t.translate(-x,-E)}v(),m(),y(),_(),n&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var n=e.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),o=e._private.rscratch,a=2*e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-color").value;t.lineWidth=a,t.lineCap="self"!==o.edgeType||i?"round":"butt",r.colorStrokeStyle(t,s[0],s[1],s[2],n),r.drawEdgePath(e,t,o.allpts,"solid")}}},drawEdgePath:function(t,e,n,r){var i,o=t._private.rscratch,a=e,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var h=n.join("$");o.pathCacheKey&&o.pathCacheKey===h?(i=e=o.pathCache,s=!0):(i=e=new Path2D,o.pathCacheKey=h,o.pathCache=i)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)e.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)e.lineTo(n[p],n[p+1])}e=a,l?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,n){var r=e._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(t,e,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=this,l=e.pstyle(n+"-arrow-shape").value;if("none"!==l){var u="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",c=e.pstyle(n+"-arrow-fill").value,h=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;void 0===a&&(a=d);var p=t.globalCompositeOperation;(1!==a||"hollow"===c)&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,h,l,r,i,o),t.globalCompositeOperation=p);var f=e.pstyle(n+"-arrow-color").value;s.colorFillStyle(t,f[0],f[1],f[2],a),s.colorStrokeStyle(t,f[0],f[1],f[2],a),s.drawArrowShape(e,t,c,h,l,r,i,o)}}},drawArrowShape:function(t,e,n,r,i,o,a,s){var l,u=this,c=this.usePaths()&&"triangle-cross"!==i,h=!1,d=e,p={x:o,y:a},f=t.pstyle("arrow-scale").value,g=this.getArrowWidth(r,f),v=u.arrowShapes[i];if(c){var y=u.arrowPathCache=u.arrowPathCache||[],m=nt(i),_=y[m];null!=_?(l=e=_,h=!0):(l=e=new Path2D,y[m]=l)}h||(e.beginPath&&e.beginPath(),c?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,g,s,p,r),e.closePath&&e.closePath()),e=d,c&&(e.translate(o,a),e.rotate(s),e.scale(g,g)),("filled"===n||"both"===n)&&(c?e.fill(l):e.fill()),("hollow"===n||"both"===n)&&(e.lineWidth=(v.matchEdgeWidth?r:1)/(c?g:1),e.lineJoin="miter",c?e.stroke(l):e.stroke()),c&&(e.scale(1/g,1/g),e.rotate(-s),e.translate(-o,-a))}},os={safeDrawImage:function(t,e,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||t.drawImage(e,n,r,i,o,a,s,l,u)},drawInscribedImage:function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),h=c(n,"background-fit","value",r),d=c(n,"background-repeat","value",r),p=n.width(),f=n.height(),g=2*n.padding(),v=p+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=f+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,_="node"===c(n,"background-clip","value",r),b=c(n,"background-image-opacity","value",r)*i,x=c(n,"background-image-smoothing","value",r),E=e.width||e.cachedW,C=e.height||e.cachedH;(null==E||null==C)&&(document.body.appendChild(e),E=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var w=E,L=C;if("auto"!==c(n,"background-width","value",r)&&(w="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(L="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==w&&0!==L){if("contain"===h)w*=T=Math.min(v/w,y/L),L*=T;else if("cover"===h){var T;w*=T=Math.max(v/w,y/L),L*=T}var D=s-v/2,A=c(n,"background-position-x","units",r),R=c(n,"background-position-x","pfValue",r);D+="%"===A?(v-w)*R:R;var N=c(n,"background-offset-x","units",r),P=c(n,"background-offset-x","pfValue",r);D+="%"===N?(v-w)*P:P;var I=l-y/2,S=c(n,"background-position-y","units",r),O=c(n,"background-position-y","pfValue",r);I+="%"===S?(y-L)*O:O;var M=c(n,"background-offset-y","units",r),k=c(n,"background-offset-y","pfValue",r);I+="%"===M?(y-L)*k:k,m.pathCache&&(D-=s,I-=l,s=0,l=0);var F=t.globalAlpha;t.globalAlpha=b;var B=o.getImgSmoothing(t),W=!1;if("no"===x&&B?(o.setImgSmoothing(t,!1),W=!0):"yes"===x&&!B&&(o.setImgSmoothing(t,!0),W=!0),"no-repeat"===d)_&&(t.save(),m.pathCache?t.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.clip())),o.safeDrawImage(t,e,0,0,E,C,D,I,w,L),_&&t.restore();else{var U=t.createPattern(e,d);t.fillStyle=U,o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.translate(D,I),t.fill(),t.translate(-D,-I)}t.globalAlpha=F,W&&o.setImgSmoothing(t,B)}}},as={};function ss(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()}as.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(qt(n*r));e=Math.pow(2,i)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},as.drawElementText=function(t,e,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(o&&!a.eleTextBiggerThanMin(e))return}else if(!1===r)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),h=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p,f=!n;n&&t.translate(-(p=n).x1,-p.y1),null==i?(a.drawText(t,e,null,f,o),e.isEdge()&&(a.drawText(t,e,"source",f,o),a.drawText(t,e,"target",f,o))):a.drawText(t,e,i,f,o),n&&t.translate(p.x1,p.y1)},as.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return this.fontCaches.push(e={context:t}),e},as.setupTextStyle=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=r+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)},as.getTextAngle=function(t,e){var n=t._private.rscratch,r=t.pstyle((e?e+"-":"")+"text-rotation"),i=Ct(n,"labelAngle",e);return"autorotate"===r.strValue?t.isEdge()?i:0:"none"===r.strValue?0:r.pfValue},as.drawText=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!i||0!==s&&0!==e.pstyle("text-opacity").value){"main"===n&&(n=null);var l,u,c=Ct(a,"labelX",n),h=Ct(a,"labelY",n),d=this.getLabelText(e,n);if(null!=d&&""!==d&&!isNaN(c)&&!isNaN(h)){this.setupTextStyle(t,e,i);var p,f=n?n+"-":"",g=Ct(a,"labelWidth",n),v=Ct(a,"labelHeight",n),y=e.pstyle(f+"text-margin-x").pfValue,m=e.pstyle(f+"text-margin-y").pfValue,_=e.isEdge(),b=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;switch(_&&(b="center",x="center"),c+=y,h+=m,0!==(p=r?this.getTextAngle(e,n):0)&&(t.translate(l=c,u=h),t.rotate(p),c=0,h=0),x){case"top":break;case"center":h+=v/2;break;case"bottom":h+=v}var E=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,w=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue;if(E>0||w>0&&C>0){var T=c-L;switch(b){case"left":T-=g;break;case"center":T-=g/2}var D=h-v-L,A=g+2*L,R=v+2*L;if(E>0){var N=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+E*s+")";var I=e.pstyle("text-background-shape").strValue;0===I.indexOf("round")?ss(t,T,D,A,R,2):t.fillRect(T,D,A,R),t.fillStyle=N}if(w>0&&C>0){var S=t.strokeStyle,O=t.lineWidth,M=e.pstyle("text-border-color").value,k=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+C*s+")",t.lineWidth=w,t.setLineDash)switch(k){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=w/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(T,D,A,R),"double"===k){var F=w/2;t.strokeRect(T+F,D+F,A-2*F,R-2*F)}t.setLineDash&&t.setLineDash([]),t.lineWidth=O,t.strokeStyle=S}}var B=2*e.pstyle("text-outline-width").pfValue;if(B>0&&(t.lineWidth=B),"wrap"===e.pstyle("text-wrap").value){var W=Ct(a,"labelWrapCachedLines",n),U=Ct(a,"labelLineHeight",n),G=g/2,H=this.getLabelJustification(e);switch("auto"===H||("left"===b?"left"===H?c+=-g:"center"===H&&(c+=-G):"center"===b?"left"===H?c+=-G:"right"===H&&(c+=G):"right"===b&&("center"===H?c+=G:"right"===H&&(c+=g))),x){case"top":h-=(W.length-1)*U;break;case"center":case"bottom":h-=(W.length-1)*U}for(var V=0;V<W.length;V++)B>0&&t.strokeText(W[V],c,h),t.fillText(W[V],c,h),h+=U}else B>0&&t.strokeText(d,c,h),t.fillText(d,c,h);0!==p&&(t.rotate(-p),t.translate(-l,-u))}}};for(var ls={drawNode:function(t,e,n){var r,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=e._private,c=u.rscratch,h=e.position();if(C(h.x)&&C(h.y)&&(!s||e.visible())){var d,p,f=s?e.effectiveOpacity():1,g=l.usePaths(),v=!1,y=e.padding();r=e.width()+2*y,i=e.height()+2*y,n&&t.translate(-(p=n).x1,-p.y1);for(var m=e.pstyle("background-image"),_=m.value,b=new Array(_.length),x=new Array(_.length),E=0,w=0;w<_.length;w++){var L=_[w],T=b[w]=null!=L&&"none"!==L;if(T){var D=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",w);E++,x[w]=l.getCachedImage(L,D,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,R=e.pstyle("border-width").pfValue,N=e.pstyle("background-opacity").value*f,P=e.pstyle("border-color").value,I=e.pstyle("border-style").value,S=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;l.eleFillStyle(t,e,n)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;l.colorStrokeStyle(t,P[0],P[1],P[2],e)},k=e.pstyle("shape").strValue,F=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(h.x,h.y);var B=l.nodePathCache=l.nodePathCache||[],W=rt("polygon"===k?k+","+F.join(","):k,""+i,""+r),U=B[W];null!=U?(v=!0,c.pathCache=d=U):(d=new Path2D,B[W]=c.pathCache=d)}var G=function(){if(!v){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(d||t,n.x,n.y,r,i)}g?t.fill(d):t.fill()},H=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=u.backgrounding,o=0,a=0;a<x.length;a++){var s=e.cy().style().getIndexedStyle(e,"background-image-containment","value",a);r&&"over"===s||!r&&"inside"===s?o++:b[a]&&x[a].complete&&!x[a].error&&(o++,l.drawInscribedImage(t,x[a],e,a,n))}u.backgrounding=o!==E,i!==u.backgrounding&&e.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,o),n&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,h.x,h.y,r,i)))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(A>0?A:-A)*e,r=A>0?0:255;0!==A&&(l.colorFillStyle(t,r,r,r,n),g?t.fill(d):t.fill())},j=function(){if(R>0){if(t.lineWidth=R,t.lineCap="butt",t.setLineDash)switch(I){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(d):t.stroke(),"double"===I){t.lineWidth=R/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(d):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},Y=function(){a&&l.drawNodeOverlay(t,e,h,r,i)},X=function(){l.drawElementText(t,e,null,o)},q="yes"===e.pstyle("ghost").value;if(q){var K=e.pstyle("ghost-offset-x").pfValue,J=e.pstyle("ghost-offset-y").pfValue,Q=e.pstyle("ghost-opacity").value,$=Q*f;t.translate(K,J),O(Q*N),G(),H($,!0),M(Q*S),j(),V(0!==A||0!==R),H($,!1),z($),t.translate(-K,-J)}O(),G(),H(f,!0),M(),j(),V(0!==A||0!==R),H(f,!1),z(),g&&t.translate(-h.x,-h.y),X(),Y(),n&&t.translate(p.x1,p.y1)}},drawNodeOverlay:function(t,e,n,r,i){if(e.visible()){var o=e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-opacity").value,s=e.pstyle("overlay-color").value;if(a>0){if(n=n||e.position(),null==r||null==i){var l=e.padding();r=e.width()+2*l,i=e.height()+2*l}this.colorFillStyle(t,s[0],s[1],s[2],a),this.nodeShapes.roundrectangle.draw(t,n.x,n.y,r+2*o,i+2*o),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=r.x,s=r.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var p=e.pstyle("pie-"+d+"-background-size").value,f=e.pstyle("pie-"+d+"-background-color").value,g=e.pstyle("pie-"+d+"-background-opacity").value*n,v=p/100;v+h>1&&(v=1-h);var y=1.5*Math.PI+2*Math.PI*h,m=y+2*Math.PI*v;0===p||h>=1||h+v>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,c,y,m),t.closePath(),this.colorFillStyle(t,f[0],f[1],f[2],g),t.fill(),h+=v)}}},us={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var e,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((e=n[i]).context===t){r=!1;break}return r&&n.push(e={context:t}),e},createGradientStyleFor:function(t,e,n,r,i){var o,a=this.usePaths(),s=n.pstyle(e+"-gradient-stop-colors").value,l=n.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),h=n.midpoint(),d=Jt(u,h),p=Jt(c,h);o=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var f=a?{x:0,y:0}:n.position(),g=n.paddedWidth(),v=n.paddedHeight();o=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();o=t.createLinearGradient(y.x,y.y,m.x,m.y)}else{var _=a?{x:0,y:0}:n.position(),b=n.paddedWidth()/2,x=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(_.x,_.y-x,_.x,_.y+x);break;case"to-top":o=t.createLinearGradient(_.x,_.y+x,_.x,_.y-x);break;case"to-left":o=t.createLinearGradient(_.x+b,_.y,_.x-b,_.y);break;case"to-right":o=t.createLinearGradient(_.x-b,_.y,_.x+b,_.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(_.x-b,_.y-x,_.x+b,_.y+x);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(_.x-b,_.y+x,_.x+b,_.y-x);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(_.x+b,_.y-x,_.x-b,_.y+x);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(_.x+b,_.y+x,_.x-b,_.y-x)}}if(!o)return null;for(var E=l.length===s.length,C=s.length,w=0;w<C;w++)o.addColorStop(E?l[w]:w/(C-1),"rgba("+s[w][0]+","+s[w][1]+","+s[w][2]+","+i+")");return o},gradientFillStyle:function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i},colorFillStyle:function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"},eleFillStyle:function(t,e,n){var r=e.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}},gradientStrokeStyle:function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i},colorStrokeStyle:function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"},eleStrokeStyle:function(t,e,n){var r=e.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}},matchCanvasSize:function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio();(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=e.motionBlurPxRatio);var s,l=i*a,u=o*a;if(l!==e.canvasWidth||u!==e.canvasHeight){e.fontCaches=null;var c=n.canvasContainer;c.style.width=i+"px",c.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)(s=n.canvases[h]).width=l,s.height=u,s.style.width=i+"px",s.style.height=o+"px";for(h=0;h<e.BUFFER_COUNT;h++)(s=n.bufferCanvases[h]).width=l,s.height=u,s.style.width=i+"px",s.style.height=o+"px";e.textureMult=1,a<=1&&(s=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,s.width=l*e.textureMult,s.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}},renderTo:function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},render:function(t){var e=(t=t||_t()).forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=a.cy,u=a.data,c=u.canvasNeedsRedraw,h=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),d=void 0!==t.motionBlur?t.motionBlur:a.motionBlur,p=a.motionBlurPxRatio,f=l.hasCompoundNodes(),g=a.hoverData.draggingEles,v=d=d&&!e&&a.motionBlurEnabled&&!(a.hoverData.selecting||a.touchData.selecting);e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),d&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(v=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!h&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var y=l.style(),m=l.zoom(),_=void 0!==i?i:m,b=l.pan(),x={x:b.x,y:b.y},E={zoom:m,pan:{x:b.x,y:b.y}},C=a.prevViewport;!(void 0===C||E.zoom!==C.zoom||E.pan.x!==C.pan.x||E.pan.y!==C.pan.y)&&!(g&&!f)&&(a.motionBlurPxRatio=1),o&&(x=o),_*=s,x.x*=s,x.y*=s;var w=a.getCachedZSortedEles();function L(t,e,n,r,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",a.colorFillStyle(t,255,255,255,a.motionBlurTransparency),t.fillRect(e,n,r,i),t.globalCompositeOperation=o}function T(t,r){var s,l,c,h;a.clearingMotionBlur||t!==u.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&t!==u.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=x,l=_,c=a.canvasWidth,h=a.canvasHeight):(s={x:b.x*p,y:b.y*p},l=m*p,c=a.canvasWidth*p,h=a.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===r?L(t,0,0,c,h):!e&&(void 0===r||r)&&t.clearRect(0,0,c,h),n||(t.translate(s.x,s.y),t.scale(l,l)),o&&t.translate(o.x,o.y),i&&t.scale(i,i)}if(h||(a.textureDrawLastFrame=!1),h){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var D=a.data.bufferContexts[a.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(E=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var A=a.textureCache.texture;E=a.textureCache.viewport,(k=u.contexts[a.NODE]).setTransform(1,0,0,1,0,0),d?L(k,0,0,E.width,E.height):k.clearRect(0,0,E.width,E.height);var R=y.core("outside-texture-bg-color").value,N=y.core("outside-texture-bg-opacity").value;a.colorFillStyle(k,R[0],R[1],R[2],N),k.fillRect(0,0,E.width,E.height),m=l.zoom(),T(k,!1),k.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s),k.drawImage(A,E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var P=l.extent(),I=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),S=a.hideEdgesOnViewport&&I,O=[];if(O[a.NODE]=!c[a.NODE]&&d&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,O[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),O[a.DRAG]=!c[a.DRAG]&&d&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,O[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||r||O[a.NODE]){var M=d&&!O[a.NODE]&&1!==p;T(k=e||(M?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:u.contexts[a.NODE]),d&&!M?"motionBlur":void 0),S?a.drawCachedNodes(k,w.nondrag,s,P):a.drawLayeredElements(k,w.nondrag,s,P),a.debug&&a.drawDebugPoints(k,w.nondrag),!n&&!d&&(c[a.NODE]=!1)}if(!r&&(c[a.DRAG]||n||O[a.DRAG])&&(M=d&&!O[a.DRAG]&&1!==p,T(k=e||(M?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:u.contexts[a.DRAG]),d&&!M?"motionBlur":void 0),S?a.drawCachedNodes(k,w.drag,s,P):a.drawCachedElements(k,w.drag,s,P),a.debug&&a.drawDebugPoints(k,w.drag),!n&&!d&&(c[a.DRAG]=!1)),a.showFps||!r&&c[a.SELECT_BOX]&&!n){var k;if(T(k=e||u.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){m=a.cy.zoom();var F=y.core("selection-box-border-width").value/m;k.lineWidth=F,k.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",k.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),F>0&&(k.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",k.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(u.bgActivePosistion&&!a.hoverData.selecting){m=a.cy.zoom();var B=u.bgActivePosistion;k.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",k.beginPath(),k.arc(B.x,B.y,y.core("active-bg-size").pfValue/m,0,2*Math.PI),k.fill()}var W=a.lastRedrawTime;if(a.showFps&&W){W=Math.round(W);var U=Math.round(1e3/W);k.setTransform(1,0,0,1,0,0),k.fillStyle="rgba(255, 0, 0, 0.75)",k.strokeStyle="rgba(255, 0, 0, 0.75)",k.lineWidth=1,k.fillText("1 frame = "+W+" ms = "+U+" fps",0,20),k.strokeRect(0,30,250,20),k.fillRect(0,30,250*Math.min(U/60,1),20)}n||(c[a.SELECT_BOX]=!1)}if(d&&1!==p){var G=u.contexts[a.DRAG],H=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],V=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!v?t.clearRect(0,0,a.canvasWidth,a.canvasHeight):L(t,0,0,a.canvasWidth,a.canvasHeight),t.drawImage(e,0,0,a.canvasWidth*p,a.canvasHeight*p,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||O[a.NODE])&&(V(u.contexts[a.NODE],a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],O[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||O[a.DRAG])&&(V(G,H,O[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=E,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),d&&(a.motionBlurTimeout=setTimeout(function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!h,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()},100)),e||l.emit("render")}},cs={drawPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},drawRoundPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2,l=Pe(r,i);t.beginPath&&t.beginPath();for(var u=0;u<o.length/4;u++){var c,h;h=0===u?o.length-2:4*u-2,c=4*u+2;var d=e+a*o[4*u],p=n+s*o[4*u+1],f=l/Math.tan(Math.acos(-o[h]*o[c]-o[h+1]*o[c+1])/2),g=d-f*o[h],v=p-f*o[h+1],y=d+f*o[c],m=p+f*o[c+1];0===u?t.moveTo(g,v):t.lineTo(g,v),t.arcTo(d,p,y,m,l)}t.closePath()},drawRoundRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2,s=Ne(r,i);t.beginPath&&t.beginPath(),t.moveTo(e,n-a),t.arcTo(e+o,n-a,e+o,n,s),t.arcTo(e+o,n+a,e,n+a,s),t.arcTo(e-o,n+a,e-o,n,s),t.arcTo(e-o,n-a,e,n-a,s),t.lineTo(e,n-a),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2,s=Ne(r,i);t.beginPath&&t.beginPath(),t.moveTo(e,n-a),t.lineTo(e+o,n-a),t.lineTo(e+o,n),t.arcTo(e+o,n+a,e,n+a,s),t.arcTo(e-o,n+a,e-o,n,s),t.lineTo(e-o,n-a),t.lineTo(e,n-a),t.closePath()},drawCutRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2;t.beginPath&&t.beginPath(),t.moveTo(e-o+8,n-a),t.lineTo(e+o-8,n-a),t.lineTo(e+o,n-a+8),t.lineTo(e+o,n+a-8),t.lineTo(e+o-8,n+a),t.lineTo(e-o+8,n+a),t.lineTo(e-o,n+a-8),t.lineTo(e-o,n-a+8),t.closePath()},drawBarrelPath:function(t,e,n,r,i){var o=r/2,a=i/2,s=e-o,l=e+o,u=n-a,c=n+a,h=Ie(r,i),d=h.widthOffset,p=h.heightOffset,f=h.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(s,u+p),t.lineTo(s,c-p),t.quadraticCurveTo(s+f,c,s+d,c),t.lineTo(l-d,c),t.quadraticCurveTo(l-f,c,l,c-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-f,u,l-d,u),t.lineTo(s+d,u),t.quadraticCurveTo(s+f,u,s,u+p),t.closePath()}},hs=Math.sin(0),ds=Math.cos(0),ps={},fs={},gs=Math.PI/40,vs=0*Math.PI;vs<2*Math.PI;vs+=gs)ps[vs]=Math.sin(vs),fs[vs]=Math.cos(vs);cs.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=gs)o=e-s*ps[u]*hs+s*fs[u]*ds,a=n+l*fs[u]*hs+l*ps[u]*ds,0===u?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var ys={};function ms(t){var e=t.indexOf(",");return t.substr(e+1)}function _s(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new jn(function(r,i){try{e.toBlob(function(t){null!=t?r(t):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(o){i(o)}});case"blob":return function(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}(ms(r()),n);case"base64":return ms(r());case"base64uri":default:return r()}}ys.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},ys.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):r[2],o=t.full?Math.ceil(n.h):r[3],a=C(t.maxWidth)||C(t.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==t.scale)i*=t.scale,o*=t.scale,l=t.scale;else if(a){var u=1/0,c=1/0;C(t.maxWidth)&&(u=l*t.maxWidth/i),C(t.maxHeight)&&(c=l*t.maxHeight/o),i*=l=Math.min(u,c),o*=l}a||(i*=s,o*=s,l*=s);var h=document.createElement("canvas");h.width=i,h.height=o,h.style.width=i+"px",h.style.height=o+"px";var d=h.getContext("2d");if(i>0&&o>0){d.clearRect(0,0,i,o),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=e.pan(),g={x:f.x*l,y:f.y*l};l*=e.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,i,o),d.fill())}return h},ys.png=function(t){return _s(t,this.bufferCanvasImage(t),"image/png")},ys.jpg=function(t){return _s(t,this.bufferCanvasImage(t),"image/jpeg")};var bs=Es,xs=Es.prototype;function Es(t){var e=this;e.data={canvases:new Array(xs.CANVAS_LAYERS),contexts:new Array(xs.CANVAS_LAYERS),canvasNeedsRedraw:new Array(xs.CANVAS_LAYERS),bufferCanvases:new Array(xs.BUFFER_COUNT),bufferContexts:new Array(xs.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=r,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[n]=r;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};p&&p.userAgent.match(/msie|trident|edge/i)&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<xs.CANVAS_LAYERS;s++){var l=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=l.getContext("2d"),Object.keys(a).forEach(function(t){l.style[t]=a[t]}),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(xs.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(l),e.data.canvasNeedsRedraw[s]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[xs.NODE].setAttribute("data-id","layer"+xs.NODE+"-node"),e.data.canvases[xs.SELECT_BOX].setAttribute("data-id","layer"+xs.SELECT_BOX+"-selectbox"),e.data.canvases[xs.DRAG].setAttribute("data-id","layer"+xs.DRAG+"-drag"),s=0;s<xs.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var u=ne(),c=function(t){return{x:-t.w/2,y:-t.h/2}},h=function(t){return t.boundingBox(),t[0]._private.bodyBounds},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||u},f=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||u},g=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||u},v=function(t,e){return e},y=function(t,e,n){var r=t?t+"-":"";return{x:e.x+n.pstyle(r+"text-margin-x").pfValue,y:e.y+n.pstyle(r+"text-margin-y").pfValue}},m=function(t,e,n){var r=t[0]._private.rscratch;return{x:r[e],y:r[n]}},_=e.data.eleTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,n,r,i,o){return e.drawElement(t,n,r,!1,!1,o)},getBoundingBox:h,getRotationPoint:function(t){return function(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}(h(t))},getRotationOffset:function(t){return c(h(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=e.data.lblTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"main",o)},getBoundingBox:d,getRotationPoint:function(t){return y("",m(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=d(t),n=c(d(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":n.x=-e.w;break;case"right":n.x=0}switch(t.pstyle("text-valign").value){case"top":n.y=-e.h;break;case"bottom":n.y=0}}return n},isVisible:v}),x=e.data.slbTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"source",o)},getBoundingBox:f,getRotationPoint:function(t){return y("source",m(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return c(f(t))},isVisible:v}),E=e.data.tlbTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"target",o)},getBoundingBox:g,getRotationPoint:function(t){return y("target",m(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return c(g(t))},isVisible:v}),C=e.data.lyrTxrCache=new Ua(e);e.onUpdateEleCalcs(function(t,e){_.invalidateElements(e),b.invalidateElements(e),x.invalidateElements(e),E.invalidateElements(e),C.invalidateElements(e);for(var n=0;n<e.length;n++){var r=e[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var w=function(t){for(var e=0;e<t.length;e++)C.enqueueElementRefinement(t[e].ele)};_.onDequeue(w),b.onDequeue(w),x.onDequeue(w),E.onDequeue(w)}xs.CANVAS_LAYERS=3,xs.SELECT_BOX=0,xs.DRAG=1,xs.NODE=2,xs.BUFFER_COUNT=3,xs.TEXTURE_BUFFER=0,xs.MOTIONBLUR_BUFFER_NODE=1,xs.MOTIONBLUR_BUFFER_DRAG=2,xs.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[xs.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[xs.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[xs.SELECT_BOX]=e}};var Cs="undefined"!=typeof Path2D;xs.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},xs.usePaths=function(){return Cs&&this.pathsEnabled},xs.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},xs.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},xs.makeOffscreenCanvas=function(t,e){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":a(OffscreenCanvas))?n=new OffscreenCanvas(t,e):((n=document.createElement("canvas")).width=t,n.height=e),n},[ja,Qa,is,os,as,ls,us,cs,ys,{nodeShapeImpl:function(t,e,n,r,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}}}].forEach(function(t){W(xs,t)});var ws=[{type:"layout",extensions:la},{type:"renderer",extensions:[{name:"null",impl:ua},{name:"base",impl:Pa},{name:"canvas",impl:bs}]}],Ls={},Ts={};function Ds(t,e,n){var r=n,i=function(n){gt("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(Eo.prototype[e])return i(e);Eo.prototype[e]=n}else if("collection"===t){if(Wi.prototype[e])return i(e);Wi.prototype[e]=n}else if("layout"===t){for(var o=function(t){this.options=t,n.call(this,t),E(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var h=function(t){return t._private.cy},d={addEventFields:function(t,e){e.layout=t,e.cy=h(t),e.target=t},bubble:function(){return!0},parent:function(t){return h(t)}};W(a,{createEmitter:function(){return this._private.emitter=new oi(d,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),qn.eventAliasesOn(a),r=o}else if("renderer"===t&&"null"!==e&&"base"!==e){var p=As("renderer","base"),f=p.prototype,g=n,v=n.prototype,y=function(){p.apply(this,arguments),g.apply(this,arguments)},m=y.prototype;for(var _ in f){var b=f[_];if(null!=v[_])return i(_);m[_]=b}for(var x in v)m[x]=v[x];f.clientFunctions.forEach(function(t){m[t]=m[t]||function(){pt("Renderer does not implement `renderer."+t+"()` on its prototype")}}),r=y}return G({map:Ls,keys:[t,e],value:r})}function As(t,e){return H({map:Ls,keys:[t,e]})}function Rs(t,e,n,r,i){return G({map:Ts,keys:[t,e,n,r],value:i})}function Ns(t,e,n,r){return H({map:Ts,keys:[t,e,n,r]})}var Ps=function(){return 2===arguments.length?As.apply(null,arguments):3===arguments.length?Ds.apply(null,arguments):4===arguments.length?Ns.apply(null,arguments):5===arguments.length?Rs.apply(null,arguments):void pt("Invalid extension access syntax")};Eo.prototype.extension=Ps,ws.forEach(function(t){t.extensions.forEach(function(e){Ds(t.type,e.name,e.impl)})});var Is=function t(){if(!(this instanceof t))return new t;this.length=0},Ss=Is.prototype;Ss.instanceString=function(){return"stylesheet"},Ss.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ss.css=function(t,e){var n=this.length-1;if(_(t))this[n].properties.push({name:t,value:e});else if(E(t))for(var r=t,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(null!=s){var l=yo.properties[a]||yo.properties[O(a)];null!=l&&this[n].properties.push({name:l.name,value:s})}}return this},Ss.style=Ss.css,Ss.generateStyle=function(t){var e=new yo(t);return this.appendToStyle(e)},Ss.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.properties;t.selector(n.selector);for(var i=0;i<r.length;i++){var o=r[i];t.css(o.name,o.value)}}return t};var Os=function(t){return void 0===t&&(t={}),E(t)?new Eo(t):_(t)?Ps.apply(Ps,arguments):void 0};Os.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Os),t.apply(null,e),this},Os.warnings=function(t){return ft(t)},Os.version="3.19.1",Os.stylesheet=Os.Stylesheet=Is,t.exports=Os},9519:function(t,e,n){t.exports=n(3135)},3135:function(t,e){var n,r,i;(function(){var o,a,s,l,u,c,h,d,p,f,g,v,y,m,_;s=Math.floor,f=Math.min,a=function(t,e){return t<e?-1:t>e?1:0},p=function(t,e,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);n<r;)i(e,t[o=s((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(t,[n,n-n].concat(e)),e},c=function(t,e,n){return null==n&&(n=a),t.push(e),m(t,0,t.length-1,n)},u=function(t,e){var n,r;return null==e&&(e=a),n=t.pop(),t.length?(r=t[0],t[0]=n,_(t,0,e)):r=n,r},d=function(t,e,n){var r;return null==n&&(n=a),r=t[0],t[0]=e,_(t,0,n),r},h=function(t,e,n){var r;return null==n&&(n=a),t.length&&n(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],_(t,0,n)),e},l=function(t,e){var n,r,i,o,l;for(null==e&&(e=a),o=[],n=0,r=(i=(function(){l=[];for(var e=0,n=s(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)l.push(e);return l}).apply(this).reverse()).length;n<r;n++)o.push(_(t,i[n],e));return o},y=function(t,e,n){var r;if(null==n&&(n=a),-1!==(r=t.indexOf(e)))return m(t,0,r,n),_(t,r,n)},g=function(t,e,n){var r,i,o,s;if(null==n&&(n=a),!(r=t.slice(0,e)).length)return r;for(l(r,n),i=0,o=(s=t.slice(e)).length;i<o;i++)h(r,s[i],n);return r.sort(n).reverse()},v=function(t,e,n){var r,i,o,s,c,h,d,g,v;if(null==n&&(n=a),10*e<=t.length){if(!(o=t.slice(0,e).sort(n)).length)return o;for(i=o[o.length-1],s=0,h=(d=t.slice(e)).length;s<h;s++)n(r=d[s],i)<0&&(p(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(l(t,n),v=[],c=0,g=f(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(u(t,n));return v},m=function(t,e,n,r){var i,o,s;for(null==r&&(r=a),i=t[n];n>e&&r(i,o=t[s=n-1>>1])<0;)t[n]=o,n=s;return t[n]=i},_=function(t,e,n){var r,i,o,s,l;for(null==n&&(n=a),i=t.length,l=e,o=t[e],r=2*e+1;r<i;)(s=r+1)<i&&!(n(t[r],t[s])<0)&&(r=s),t[e]=t[r],r=2*(e=r)+1;return t[e]=o,m(t,l,e,n)},o=function(){function t(t){this.cmp=null!=t?t:a,this.nodes=[]}return t.push=c,t.pop=u,t.replace=d,t.pushpop=h,t.heapify=l,t.updateItem=y,t.nlargest=g,t.nsmallest=v,t.prototype.push=function(t){return c(this.nodes,t,this.cmp)},t.prototype.pop=function(){return u(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return d(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return h(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return l(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return y(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),r=[],void 0===(i="function"==typeof(n=function(){return o})?n.apply(e,r):n)||(t.exports=i)}).call(this)},9716:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_HALF_SIZE=(r.SIMPLE_NODE_SIZE=40)/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.INITIAL_WORLD_BOUNDARY=(r.WORLD_BOUNDARY=1e6)/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(9);function a(t,e,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=t,this.target=e}for(var s in a.prototype=Object.create(r.prototype),r)a[s]=r[s];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(t,e){for(var n=this.getOtherEnd(t),r=e.getGraphManager().getRoot();;){if(n.getOwner()==e)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},a.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=a},function(t,e,n){"use strict";t.exports=function(t){this.vGraphObject=t}},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(13),a=n(0),s=n(16),l=n(5);function u(t,e,n,a){null==n&&null==a&&(a=e),r.call(this,a),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=t,this.rect=null!=n&&null!=e?new o(e.x,e.y,n.width,n.height):new o}for(var c in u.prototype=Object.create(r.prototype),r)u[c]=r[c];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(t){this.rect.width=t},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(t){this.rect.height=t},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},u.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},u.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},u.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},u.prototype.getEdgeListToNode=function(t){var e=[],n=this;return n.edges.forEach(function(r){if(r.target==t){if(r.source!=n)throw"Incorrect edge source!";e.push(r)}}),e},u.prototype.getEdgesBetween=function(t){var e=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";(r.target==t||r.source==t)&&e.push(r)}),e},u.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach(function(n){if(n.source==e)t.add(n.target);else{if(n.target!=e)throw"Incorrect incidency!";t.add(n.source)}}),t},u.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),n=0;n<e.length;n++)e[n].withChildren().forEach(function(e){t.add(e)});return t},u.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),n=0;n<e.length;n++)t+=e[n].getNoOfChildren();return 0==t&&(t=1),t},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var t,e,n=-a.INITIAL_WORLD_BOUNDARY,r=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_X+s.nextDouble()*(r-n)+n;var i=-a.INITIAL_WORLD_BOUNDARY,o=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_Y+s.nextDouble()*(o-i)+i,this.rect.x=t,this.rect.y=e},u.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),n=t.getBottom()-t.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(e+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>e?(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(e+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(n+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>n?(this.rect.y-=(this.labelHeight-n)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(n+this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(t){var e=this.rect.x;e>a.WORLD_BOUNDARY?e=a.WORLD_BOUNDARY:e<-a.WORLD_BOUNDARY&&(e=-a.WORLD_BOUNDARY);var n=this.rect.y;n>a.WORLD_BOUNDARY?n=a.WORLD_BOUNDARY:n<-a.WORLD_BOUNDARY&&(n=-a.WORLD_BOUNDARY);var r=new l(e,n),i=t.inverseTransformPoint(r);this.setLocation(i.x,i.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=u},function(t,e,n){"use strict";var r=n(0);function i(){}for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT=3*(i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=i},function(t,e,n){"use strict";function r(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(t){this.x=t},r.prototype.setY=function(t){this.y=t},r.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=r},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(0),a=n(7),s=n(3),l=n(1),u=n(13),c=n(12),h=n(11);function d(t,e,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof a?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var p in d.prototype=Object.create(r.prototype),r)d[p]=r[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(t,e,n){if(null==e&&null==n){var r=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(e.owner!=n.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=n.owner?null:(i.source=e,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),e.edges.push(i),n!=e&&n.edges.push(i),i)},d.prototype.remove=function(t){var e=t;if(t instanceof s){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=e.edges.slice(),r=n.length,i=0;i<r;i++)(o=n[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(a=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(t instanceof l){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var a,u=o.source.edges.indexOf(o),c=o.target.edges.indexOf(o);if(!(u>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(u,1),o.target!=o.source&&o.target.edges.splice(c,1),-1==(a=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(a,1)}},d.prototype.updateLeftTop=function(){for(var t,e,n,r=i.MAX_VALUE,o=i.MAX_VALUE,a=this.getNodes(),s=a.length,l=0;l<s;l++){var u=a[l];r>(t=u.getTop())&&(r=t),o>(e=u.getLeft())&&(o=e)}return r==i.MAX_VALUE?null:(n=null!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=r-n,new c(this.left,this.top))},d.prototype.updateBounds=function(t){for(var e,n,r,o,a,s=i.MAX_VALUE,l=-i.MAX_VALUE,c=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];t&&null!=g.child&&g.updateBounds(),s>(e=g.getLeft())&&(s=e),l<(n=g.getRight())&&(l=n),c>(r=g.getTop())&&(c=r),h<(o=g.getBottom())&&(h=o)}var v=new u(s,c,l-s,h-c);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},d.calculateBounds=function(t){for(var e,n,r,o,a=i.MAX_VALUE,s=-i.MAX_VALUE,l=i.MAX_VALUE,c=-i.MAX_VALUE,h=t.length,d=0;d<h;d++){var p=t[d];a>(e=p.getLeft())&&(a=e),s<(n=p.getRight())&&(s=n),l>(r=p.getTop())&&(l=r),c<(o=p.getBottom())&&(c=o)}return new u(a,l,s-a,c-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,n=e.length,r=0;r<n;r++)t+=e[r].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,n,r=new h,i=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(t){r.push(t),i.add(t)});0!==r.length;)for(var a=(e=(o=r.shift()).getEdges()).length,s=0;s<a;s++)null==(n=e[s].getOtherEndInGraph(o,this))||i.has(n)||n.withChildren().forEach(function(t){r.push(t),i.add(t)});if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach(function(e){e.owner==t&&l++}),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=d},function(t,e,n){"use strict";var r,i=n(1);function o(t){r=n(6),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),n=this.add(t,e);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(t,e,n,r,i){if(null==n&&null==r&&null==i){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}i=n,n=t;var o=(r=e).getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(t){if(t instanceof r){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],a=(o=o.concat(e.getEdges())).length,s=0;s<a;s++)e.remove(n=o[s]);var l=[];for(a=(l=l.concat(e.getNodes())).length,s=0;s<a;s++)e.remove(l[s]);e==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(e);this.graphs.splice(u,1),e.parent=null}else if(t instanceof i){if(null==(n=t))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),n=e.length,r=0;r<n;r++)t=t.concat(e[r].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),n=0;n<e.length;n++)t=t.concat(e[n].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var n,r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}for(r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,n,r,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=(t=o[s]).source,n=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=n,e!=n){for(r=e.getOwner();null==t.lca;){for(t.targetInLca=n,i=n.getOwner();null==t.lca;){if(i==r){t.lca=i;break}if(i==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=i.getParent(),i=t.targetInLca.getOwner()}if(r==this.rootGraph)break;null==t.lca&&(t.sourceInLca=r.getParent(),r=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var n=t.getOwner();null!=n;){for(var r=e.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(t,e){null==t&&null==e&&(t=this.rootGraph,e=1);for(var n,r=t.getNodes(),i=r.length,o=0;o<i;o++)(n=r[o]).inclusionTreeDepth=e,null!=n.child&&this.calcInclusionTreeDepths(n.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=[],n=this.edges.length,r=0;r<n;r++)this.isOneAncestorOfOther((t=this.edges[r]).source,t.target)&&e.push(t);for(r=0;r<e.length;r++)this.remove(e[r]);return!1},t.exports=o},function(t,e,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(t,e,n,r){if(!t.intersects(e))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,i),n[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),n[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var a=o*n[0],s=n[1]/o;n[0]<s?s=n[0]:a=n[1],n[0]=-1*i[0]*(s/2+r),n[1]=-1*i[1]*(a/2+r)},i.decideDirectionsForOverlappingNodes=function(t,e,n){n[0]=t.getCenterX()<e.getCenterX()?-1:1,n[1]=t.getCenterY()<e.getCenterY()?-1:1},i.getIntersection2=function(t,e,n){var r=t.getCenterX(),i=t.getCenterY(),o=e.getCenterX(),a=e.getCenterY();if(t.intersects(e))return n[0]=r,n[1]=i,n[2]=o,n[3]=a,!0;var s=t.getX(),l=t.getY(),u=t.getRight(),c=t.getX(),h=t.getBottom(),d=t.getRight(),p=t.getWidthHalf(),f=t.getHeightHalf(),g=e.getX(),v=e.getY(),y=e.getRight(),m=e.getX(),_=e.getBottom(),b=e.getRight(),x=e.getWidthHalf(),E=e.getHeightHalf(),C=!1,w=!1;if(r===o){if(i>a)return n[0]=r,n[1]=l,n[2]=o,n[3]=_,!1;if(i<a)return n[0]=r,n[1]=h,n[2]=o,n[3]=v,!1}else if(i===a){if(r>o)return n[0]=s,n[1]=i,n[2]=y,n[3]=a,!1;if(r<o)return n[0]=u,n[1]=i,n[2]=g,n[3]=a,!1}else{var L=t.height/t.width,T=e.height/e.width,D=(a-i)/(o-r),A=void 0,R=void 0,N=void 0,P=void 0;if(-L===D?r>o?(n[0]=c,n[1]=h,C=!0):(n[0]=u,n[1]=l,C=!0):L===D&&(r>o?(n[0]=s,n[1]=l,C=!0):(n[0]=d,n[1]=h,C=!0)),-T===D?o>r?(n[2]=m,n[3]=_,w=!0):(n[2]=y,n[3]=v,w=!0):T===D&&(o>r?(n[2]=g,n[3]=v,w=!0):(n[2]=b,n[3]=_,w=!0)),C&&w)return!1;if(r>o?i>a?(A=this.getCardinalDirection(L,D,4),R=this.getCardinalDirection(T,D,2)):(A=this.getCardinalDirection(-L,D,3),R=this.getCardinalDirection(-T,D,1)):i>a?(A=this.getCardinalDirection(-L,D,1),R=this.getCardinalDirection(-T,D,3)):(A=this.getCardinalDirection(L,D,2),R=this.getCardinalDirection(T,D,4)),!C)switch(A){case 1:N=l,n[0]=r+-f/D,n[1]=N;break;case 2:N=i+p*D,n[0]=d,n[1]=N;break;case 3:N=h,n[0]=r+f/D,n[1]=N;break;case 4:N=i+-p*D,n[0]=c,n[1]=N}if(!w)switch(R){case 1:P=v,n[2]=o+-E/D,n[3]=P;break;case 2:P=a+x*D,n[2]=b,n[3]=P;break;case 3:P=_,n[2]=o+E/D,n[3]=P;break;case 4:P=a+-x*D,n[2]=m,n[3]=P}}return!1},i.getCardinalDirection=function(t,e,n){return t>e?n:1+n%4},i.getIntersection=function(t,e,n,i){if(null==i)return this.getIntersection2(t,e,n);var o,a,s,l,u,c,h,d=t.x,p=t.y,f=e.x,g=e.y,v=n.x,y=n.y,m=i.x,_=i.y;return u=f*p-d*g,c=m*y-v*_,0==(h=(o=g-p)*(l=v-m)-(a=_-y)*(s=d-f))?null:new r((s*c-l*u)/h,(a*u-o*c)/h)},i.angleOfVector=function(t,e,n,r){var i=void 0;return t!==n?(i=Math.atan((r-e)/(n-t)),n<t?i+=Math.PI:r<e&&(i+=this.TWO_PI)):i=r<e?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(t,e,n,r){var i=t.x,o=t.y,a=e.x,s=e.y,l=n.x,u=n.y,c=r.x,h=r.y,d=(a-i)*(h-u)-(c-l)*(s-o);if(0===d)return!1;var p=((h-u)*(c-i)+(l-c)*(h-o))/d,f=((o-s)*(c-i)+(a-i)*(h-o))/d;return 0<p&&p<1&&0<f&&f<1},i.findCircleLineIntersections=function(t,e,n,r,i,o,a){var s=(n-t)*(n-t)+(r-e)*(r-e),l=2*((t-i)*(n-t)+(e-o)*(r-e)),u=(t-i)*(t-i)+(e-o)*(e-o)-a*a;if(l*l-4*s*u>=0){var c=(-l+Math.sqrt(l*l-4*s*u))/(2*s),h=(-l-Math.sqrt(l*l-4*s*u))/(2*s);return c>=0&&c<=1?[c]:h>=0&&h<=1?[h]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,t.exports=i},function(t,e,n){"use strict";function r(){}r.sign=function(t){return t>0?1:t<0?-1:0},r.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},r.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=r},function(t,e,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,t.exports=r},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(t){return{value:t,next:null,prev:null}},o=function(t,e,n,r){return null!==t?t.next=e:r.head=e,null!==n?n.prev=e:r.tail=e,e.prev=t,e.next=n,r.length++,e},a=function(t,e){var n=t.prev,r=t.next;return null!==n?n.next=r:e.head=r,null!==r?r.prev=n:e.tail=n,t.prev=t.next=null,e.length--,t},s=function(){function t(e){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(t){return n.push(t)})}return r(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return o(e.prev,i(t),e,this)}},{key:"insertAfter",value:function(t,e){return o(e,i(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return o(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return o(e,t,e.next,this)}},{key:"push",value:function(t){return o(this.tail,i(t),null,this)}},{key:"unshift",value:function(t){return o(null,i(t),this.head,this)}},{key:"remove",value:function(t){return a(t,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,n=this.head;e<t;)n=n.next,e++;return n.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var n=1,r=this.head;n<t;)r=r.next,n++;r.value=e}}}]),t}();t.exports=s},function(t,e,n){"use strict";function r(t,e,n){this.x=null,this.y=null,null==t&&null==e&&null==n?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==n?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==n&&(this.x=(n=t).x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(t,e,n){"Point"==t.constructor.name&&null==e&&null==n?this.setLocation((n=t).x,n.y):"number"==typeof t&&"number"==typeof e&&null==n&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},r.prototype.move=function(t,e){this.x=t,this.y=e},r.prototype.translate=function(t,e){this.x+=t,this.y+=e},r.prototype.equals=function(t){return"Point"==t.constructor.name?this.x==t.x&&this.y==t.y:this==t},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=n&&null!=r&&(this.x=t,this.y=e,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(t){this.x=t},r.prototype.getY=function(){return this.y},r.prototype.setY=function(t){this.y=t},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(t){this.width=t},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(t){this.height=t},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(){}i.lastID=0,i.createID=function(t){return i.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=i.getString(),i.lastID++),t.uniqueID)},i.getString=function(t){return null==t&&(t=i.lastID),"Object#"+t},i.isPrimitive=function(t){var e=void 0===t?"undefined":r(t);return null==t||"object"!=e&&"function"!=e},t.exports=i},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(0),o=n(7),a=n(3),s=n(1),l=n(6),u=n(5),c=n(17),h=n(29);function d(t){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}d.RANDOM_SEED=1,(d.prototype=Object.create(h.prototype)).getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},d.prototype.newGraph=function(t){return new l(null,this.graphManager,t)},d.prototype.newNode=function(t){return new a(this.graphManager,t)},d.prototype.newEdge=function(t){return new s(null,null,t)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++);var n=this.graphManager.getRoot().getNodes();for(e=0;e<n.length;e++);this.update(this.graphManager.getRoot())}},d.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof a){var e=t;if(null!=e.getChild())for(var n=e.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else t instanceof s?null!=t.vGraphObject&&t.vGraphObject.update(t):t instanceof l&&null!=t.vGraphObject&&t.vGraphObject.update(t)},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(t){if(null==t)this.transform(new u(0,0));else{var e=new c,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(n.x),e.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(e)}}},d.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,n,r=t.getNodes(),i=0;i<r.length;i++)null==(n=(e=r[i]).getChild())||0==n.getNodes().length?e.scatter():(this.positionNodesRandomly(n),e.updateBounds())},d.prototype.getFlatForest=function(){for(var t=[],e=!0,n=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(i=!1);if(!i)return t;var a=new Set,s=[],l=new Map,u=[];for(u=u.concat(n);u.length>0&&e;){for(s.push(u[0]);s.length>0&&e;){var c=s[0];s.splice(0,1),a.add(c);var h=c.getEdges();for(o=0;o<h.length;o++){var d=h[o].getOtherEnd(c);if(l.get(c)!=d){if(a.has(d)){e=!1;break}s.push(d),l.set(d,c)}}}if(e){var p=[].concat(r(a));for(t.push(p),o=0;o<p.length;o++){var f=u.indexOf(p[o]);f>-1&&u.splice(f,1)}a=new Set,l=new Map}else t=[]}return t},d.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],n=t.source,r=this.graphManager.calcLowestCommonAncestor(t.source,t.target),i=0;i<t.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),e.add(o),n=o}return a=this.newEdge(null),this.graphManager.add(a,n,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):r.remove(t),e},d.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(r(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var n=t[e];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),o=0;o<i.length;o++){var a=i[o],s=new u(a.getCenterX(),a.getCenterY()),l=n.bendpoints.get(o);l.x=s.x,l.y=s.y,a.getOwner().remove(a)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(t,e,n,r){if(null!=n&&null!=r){var i=e;return t<=50?i-=(e-e/n)/50*(50-t):i+=(e*r-e)/50*(t-50),i}var o,a;return t<=50?(o=9*e/500,a=e/10):(o=9*e/50,a=-8*e),o*t+a},d.findCenterOfTree=function(t){var e=[];e=e.concat(t);var n=[],r=new Map,i=!1,o=null;(1==e.length||2==e.length)&&(i=!0,o=e[0]);for(var a=0;a<e.length;a++){var s=(c=e[a]).getNeighborsList().size;r.set(c,c.getNeighborsList().size),1==s&&n.push(c)}var l=[];for(l=l.concat(n);!i;){var u=[];for(u=u.concat(l),l=[],a=0;a<e.length;a++){var c,h=e.indexOf(c=e[a]);h>=0&&e.splice(h,1),c.getNeighborsList().forEach(function(t){if(n.indexOf(t)<0){var e=r.get(t)-1;1==e&&l.push(t),r.set(t,e)}})}n=n.concat(l),(1==e.length||2==e.length)&&(i=!0,o=e[0])}return o},d.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=d},function(t,e,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return(r.x=1e4*Math.sin(r.seed++))-Math.floor(r.x)},t.exports=r},function(t,e,n){"use strict";var r=n(5);function i(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(t){this.lworldExtX=t},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(t){this.lworldExtY=t},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},i.prototype.transformX=function(t){var e=0,n=this.lworldExtX;return 0!=n&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/n),e},i.prototype.transformY=function(t){var e=0,n=this.lworldExtY;return 0!=n&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/n),e},i.prototype.inverseTransformX=function(t){var e=0,n=this.ldeviceExtX;return 0!=n&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/n),e},i.prototype.inverseTransformY=function(t){var e=0,n=this.ldeviceExtY;return 0!=n&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/n),e},i.prototype.inverseTransformPoint=function(t){return new r(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=i},function(t,e,n){"use strict";var r=n(15),i=n(4),o=n(0),a=n(8),s=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var u in l.prototype=Object.create(r.prototype),r)l[u]=r[u];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var t,e,n,r,a,s,l,u=this.getGraphManager().getAllEdges(),c=0;c<u.length;c++)e=(t=u[c]).idealLength,t.isInterGraph&&(r=t.getSource(),a=t.getTarget(),s=t.getSourceInLca().getEstimatedSize(),l=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=s+l-2*o.SIMPLE_NODE_SIZE),n=t.getLca().getInclusionTreeDepth(),t.idealLength+=e*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+a.getInclusionTreeDepth()-2*n))},l.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=t>i.ADAPTATION_LOWER_NODE_LIMIT?Math.max(i.COOLING_ADAPTATION_FACTOR,1-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),n=0;n<e.length;n++)this.calcSpringForce(t=e[n],t.idealLength)},l.prototype.calcRepulsionForces=function(){var t,e,n,r,o,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),o=new Set,t=0;t<l.length;t++)this.calculateRepulsionForceOfANode(n=l[t],o,a,s),o.add(n);else for(t=0;t<l.length;t++)for(n=l[t],e=t+1;e<l.length;e++)r=l[e],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},l.prototype.calcGravitationalForces=function(){for(var t=this.getAllNodesToApplyGravitation(),e=0;e<t.length;e++)this.calcGravitationalForce(t[e])},l.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},l.prototype.calcSpringForce=function(t,e){var n,r,i,o,a=t.getSource(),s=t.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(n=t.getLength())&&(o=(r=t.edgeElasticity*(n-e))*(t.lengthY/n),a.springForceX+=i=r*(t.lengthX/n),a.springForceY+=o,s.springForceX-=i,s.springForceY-=o)},l.prototype.calcRepulsionForce=function(t,e){var n,r,o,l,u,c,h,d=t.getRect(),p=e.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){a.calcSeparationAmount(d,p,f,i.DEFAULT_EDGE_LENGTH/2),h=2*f[1];var v=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=v*(c=2*f[0]),t.repulsionForceY-=v*h,e.repulsionForceX+=v*c,e.repulsionForceY+=v*h}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(n=p.getCenterX()-d.getCenterX(),r=p.getCenterY()-d.getCenterY()):(a.getIntersection(d,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),o=n*n+r*r,l=Math.sqrt(o),h=(u=(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/o)*r/l,t.repulsionForceX-=c=u*n/l,t.repulsionForceY-=h,e.repulsionForceX+=c,e.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(t){var e,n,r,i,o,a,s,l;n=((e=t.getOwner()).getRight()+e.getLeft())/2,r=(e.getTop()+e.getBottom())/2,i=t.getCenterX()-n,o=t.getCenterY()-r,a=Math.abs(i)+t.getWidth()/2,s=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(a>(l=e.getEstimatedSize()*this.gravityRangeFactor)||s>l)&&(t.gravitationForceX=-this.gravityConstant*i,t.gravitationForceY=-this.gravityConstant*o):(a>(l=e.getEstimatedSize()*this.compoundGravityRangeFactor)||s>l)&&(t.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},l.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),n=0;n<e.length;n++)(t=e[n]).noOfChildren=t.getNoOfChildren()},l.prototype.calcGrid=function(t){var e,n;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var r=new Array(e),i=0;i<e;i++)r[i]=new Array(n);for(i=0;i<e;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},l.prototype.addNodeToGrid=function(t,e,n){var r,i,o,a;r=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),i=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((t.getRect().height+t.getRect().y-n)/this.repulsionRange));for(var s=r;s<=i;s++)for(var l=o;l<=a;l++)this.grid[s][l].push(t),t.setGridCoordinates(r,i,o,a)},l.prototype.updateGrid=function(){var t,e=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<e.length;t++)this.addNodeToGrid(e[t],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(t,e,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var o=new Set;t.surrounding=new Array;for(var a,s=this.grid,l=t.startX-1;l<t.finishX+2;l++)for(var u=t.startY-1;u<t.finishY+2;u++)if(!(l<0||u<0||l>=s.length||u>=s[0].length))for(var c=0;c<s[l][u].length;c++)if(a=s[l][u][c],t.getOwner()==a.getOwner()&&t!=a&&!e.has(a)&&!o.has(a)){var h=Math.abs(t.getCenterX()-a.getCenterX())-(t.getWidth()/2+a.getWidth()/2),d=Math.abs(t.getCenterY()-a.getCenterY())-(t.getHeight()/2+a.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&o.add(a)}t.surrounding=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o))}for(l=0;l<t.surrounding.length;l++)this.calcRepulsionForce(t,t.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},t.exports=l},function(t,e,n){"use strict";var r=n(1),i=n(4);function o(t,e,n){r.call(this,t,e,n),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];t.exports=o},function(t,e,n){"use strict";var r=n(3),i=n(4);function o(t,e,n,o){r.call(this,t,e,n,o),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];o.prototype.setGridCoordinates=function(t,e,n,r){this.startX=t,this.finishX=e,this.startY=n,this.finishY=r},t.exports=o},function(t,e,n){"use strict";function r(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(t){this.width=t},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(t){this.height=t},t.exports=r},function(t,e,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(t,e){var n=r.createID(t);this.contains(n)||(this.map[n]=e,this.keys.push(t))},i.prototype.contains=function(t){return r.createID(t),null!=this.map[t]},i.prototype.get=function(t){var e=r.createID(t);return this.map[e]},i.prototype.keySet=function(){return this.keys},t.exports=i},function(t,e,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(t){var e=r.createID(t);this.contains(e)||(this.set[e]=t)},i.prototype.remove=function(t){delete this.set[r.createID(t)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(t){return this.set[r.createID(t)]==t},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),n=e.length,r=0;r<n;r++)t.push(this.set[e[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(t){for(var e=t.length,n=0;n<e;n++)this.add(t[n])},t.exports=i},function(t,e,n){"use strict";function r(){}r.multMat=function(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<e[0].length;i++){n[r][i]=0;for(var o=0;o<t[0].length;o++)n[r][i]+=t[r][o]*e[o][i]}}return n},r.transpose=function(t){for(var e=[],n=0;n<t[0].length;n++){e[n]=[];for(var r=0;r<t.length;r++)e[n][r]=t[r][n]}return e},r.multCons=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]*e;return n},r.minusOp=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]-e[r];return n},r.dotProduct=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n},r.mag=function(t){return Math.sqrt(this.dotProduct(t,t))},r.normalize=function(t){for(var e=[],n=this.mag(t),r=0;r<t.length;r++)e[r]=t[r]/n;return e},r.multGamma=function(t){for(var e=[],n=0,r=0;r<t.length;r++)n+=t[r];n*=-1/t.length;for(var i=0;i<t.length;i++)e[i]=n+t[i];return e},r.multL=function(t,e,n){for(var r=[],i=[],o=[],a=0;a<e[0].length;a++){for(var s=0,l=0;l<e.length;l++)s+=-.5*e[l][a]*t[l];i[a]=s}for(var u=0;u<n.length;u++){for(var c=0,h=0;h<n.length;h++)c+=n[u][h]*i[h];o[u]=c}for(var d=0;d<e.length;d++){for(var p=0,f=0;f<e[0].length;f++)p+=e[d][f]*o[f];r[d]=p}return r},t.exports=r},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(11),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),(null!==n||void 0!==n)&&(this.compareFunction=this._defaultCompareFunction);var r;r=e instanceof i?e.size():e.length,this._quicksort(e,0,r-1)}return r(t,[{key:"_quicksort",value:function(t,e,n){if(e<n){var r=this._partition(t,e,n);this._quicksort(t,e,r),this._quicksort(t,r+1,n)}}},{key:"_partition",value:function(t,e,n){for(var r=this._get(t,e),i=e,o=n;;){for(;this.compareFunction(r,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,i),r);)i++;if(!(i<o))return o;this._swap(t,i,o),i++,o--}}},{key:"_get",value:function(t,e){return t instanceof i?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,n){t instanceof i?t.set_object_at(e,n):t[e]=n}},{key:"_swap",value:function(t,e,n){var r=this._get(t,e);this._set(t,e,this._get(t,n)),this._set(t,n,r)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=o},function(t,e,n){"use strict";function r(){}r.svd=function(t){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=t.length,this.n=t[0].length;var e=Math.min(this.m,this.n);this.s=function(t){for(var e=[];t-- >0;)e.push(0);return e}(Math.min(this.m+1,this.n)),this.U=function t(e){if(0==e.length)return 0;for(var n=[],r=0;r<e[0];r++)n.push(t(e.slice(1)));return n}([this.m,e]),this.V=function t(e){if(0==e.length)return 0;for(var n=[],r=0;r<e[0];r++)n.push(t(e.slice(1)));return n}([this.n,this.n]);for(var n=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.n),i=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.m),o=!0,a=Math.min(this.m-1,this.n),s=Math.max(0,Math.min(this.n-2,this.m)),l=0;l<Math.max(a,s);l++){if(l<a){this.s[l]=0;for(var u=l;u<this.m;u++)this.s[l]=r.hypot(this.s[l],t[u][l]);if(0!==this.s[l]){t[l][l]<0&&(this.s[l]=-this.s[l]);for(var c=l;c<this.m;c++)t[c][l]/=this.s[l];t[l][l]+=1}this.s[l]=-this.s[l]}for(var h=l+1;h<this.n;h++){if(function(t,e){return t&&e}(l<a,0!==this.s[l])){for(var d=0,p=l;p<this.m;p++)d+=t[p][l]*t[p][h];d=-d/t[l][l];for(var f=l;f<this.m;f++)t[f][h]+=d*t[f][l]}n[h]=t[l][h]}if(l<a)for(var g=l;g<this.m;g++)this.U[g][l]=t[g][l];if(l<s){n[l]=0;for(var v=l+1;v<this.n;v++)n[l]=r.hypot(n[l],n[v]);if(0!==n[l]){n[l+1]<0&&(n[l]=-n[l]);for(var y=l+1;y<this.n;y++)n[y]/=n[l];n[l+1]+=1}if(n[l]=-n[l],function(t,e){return t&&e}(l+1<this.m,0!==n[l])){for(var m=l+1;m<this.m;m++)i[m]=0;for(var _=l+1;_<this.n;_++)for(var b=l+1;b<this.m;b++)i[b]+=n[_]*t[b][_];for(var x=l+1;x<this.n;x++)for(var E=-n[x]/n[l+1],C=l+1;C<this.m;C++)t[C][x]+=E*i[C]}for(var w=l+1;w<this.n;w++)this.V[w][l]=n[w]}}var L=Math.min(this.n,this.m+1);a<this.n&&(this.s[a]=t[a][a]),this.m<L&&(this.s[L-1]=0),s+1<L&&(n[s]=t[s][L-1]),n[L-1]=0;for(var T=a;T<e;T++){for(var D=0;D<this.m;D++)this.U[D][T]=0;this.U[T][T]=1}for(var A=a-1;A>=0;A--)if(0!==this.s[A]){for(var R=A+1;R<e;R++){for(var N=0,P=A;P<this.m;P++)N+=this.U[P][A]*this.U[P][R];N=-N/this.U[A][A];for(var I=A;I<this.m;I++)this.U[I][R]+=N*this.U[I][A]}for(var S=A;S<this.m;S++)this.U[S][A]=-this.U[S][A];this.U[A][A]=1+this.U[A][A];for(var O=0;O<A-1;O++)this.U[O][A]=0}else{for(var M=0;M<this.m;M++)this.U[M][A]=0;this.U[A][A]=1}for(var k=this.n-1;k>=0;k--){if(function(t,e){return t&&e}(k<s,0!==n[k]))for(var F=k+1;F<e;F++){for(var B=0,W=k+1;W<this.n;W++)B+=this.V[W][k]*this.V[W][F];B=-B/this.V[k+1][k];for(var U=k+1;U<this.n;U++)this.V[U][F]+=B*this.V[U][k]}for(var G=0;G<this.n;G++)this.V[G][k]=0;this.V[k][k]=1}for(var H=L-1,V=Math.pow(2,-52),z=Math.pow(2,-966);L>0;){var j=void 0,Y=void 0;for(j=L-2;j>=-1&&-1!==j;j--)if(Math.abs(n[j])<=z+V*(Math.abs(this.s[j])+Math.abs(this.s[j+1]))){n[j]=0;break}if(j===L-2)Y=4;else{var X=void 0;for(X=L-1;X>=j&&X!==j;X--){var q=(X!==L?Math.abs(n[X]):0)+(X!==j+1?Math.abs(n[X-1]):0);if(Math.abs(this.s[X])<=z+V*q){this.s[X]=0;break}}X===j?Y=3:X===L-1?Y=1:(Y=2,j=X)}switch(j++,Y){case 1:var K=n[L-2];n[L-2]=0;for(var J=L-2;J>=j;J--){var Q=r.hypot(this.s[J],K),$=this.s[J]/Q,Z=K/Q;this.s[J]=Q,J!==j&&(K=-Z*n[J-1],n[J-1]=$*n[J-1]);for(var tt=0;tt<this.n;tt++)Q=$*this.V[tt][J]+Z*this.V[tt][L-1],this.V[tt][L-1]=-Z*this.V[tt][J]+$*this.V[tt][L-1],this.V[tt][J]=Q}break;case 2:var et=n[j-1];n[j-1]=0;for(var nt=j;nt<L;nt++){var rt=r.hypot(this.s[nt],et),it=this.s[nt]/rt,ot=et/rt;this.s[nt]=rt,et=-ot*n[nt],n[nt]=it*n[nt];for(var at=0;at<this.m;at++)rt=it*this.U[at][nt]+ot*this.U[at][j-1],this.U[at][j-1]=-ot*this.U[at][nt]+it*this.U[at][j-1],this.U[at][nt]=rt}break;case 3:var st=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[L-1]),Math.abs(this.s[L-2])),Math.abs(n[L-2])),Math.abs(this.s[j])),Math.abs(n[j])),lt=this.s[L-1]/st,ut=this.s[L-2]/st,ct=n[L-2]/st,ht=this.s[j]/st,dt=n[j]/st,pt=((ut+lt)*(ut-lt)+ct*ct)/2,ft=lt*ct*(lt*ct),gt=0;(function(t,e){return t||e})(0!==pt,0!==ft)&&(gt=Math.sqrt(pt*pt+ft),pt<0&&(gt=-gt),gt=ft/(pt+gt));for(var vt=(ht+lt)*(ht-lt)+gt,yt=ht*dt,mt=j;mt<L-1;mt++){var _t=r.hypot(vt,yt),bt=vt/_t,xt=yt/_t;mt!==j&&(n[mt-1]=_t),vt=bt*this.s[mt]+xt*n[mt],n[mt]=bt*n[mt]-xt*this.s[mt],yt=xt*this.s[mt+1],this.s[mt+1]=bt*this.s[mt+1];for(var Et=0;Et<this.n;Et++)_t=bt*this.V[Et][mt]+xt*this.V[Et][mt+1],this.V[Et][mt+1]=-xt*this.V[Et][mt]+bt*this.V[Et][mt+1],this.V[Et][mt]=_t;if(bt=vt/(_t=r.hypot(vt,yt)),xt=yt/_t,this.s[mt]=_t,vt=bt*n[mt]+xt*this.s[mt+1],this.s[mt+1]=-xt*n[mt]+bt*this.s[mt+1],yt=xt*n[mt+1],n[mt+1]=bt*n[mt+1],mt<this.m-1)for(var Ct=0;Ct<this.m;Ct++)_t=bt*this.U[Ct][mt]+xt*this.U[Ct][mt+1],this.U[Ct][mt+1]=-xt*this.U[Ct][mt]+bt*this.U[Ct][mt+1],this.U[Ct][mt]=_t}n[L-2]=vt;break;case 4:if(this.s[j]<=0&&(this.s[j]=this.s[j]<0?-this.s[j]:0,o))for(var wt=0;wt<=H;wt++)this.V[wt][j]=-this.V[wt][j];for(;j<H&&!(this.s[j]>=this.s[j+1]);){var Lt=this.s[j];if(this.s[j]=this.s[j+1],this.s[j+1]=Lt,j<this.n-1)for(var Tt=0;Tt<this.n;Tt++)Lt=this.V[Tt][j+1],this.V[Tt][j+1]=this.V[Tt][j],this.V[Tt][j]=Lt;if(j<this.m-1)for(var Dt=0;Dt<this.m;Dt++)Lt=this.U[Dt][j+1],this.U[Dt][j+1]=this.U[Dt][j],this.U[Dt][j]=Lt;j++}L--}}return{U:this.U,V:this.V,S:this.s}},r.hypot=function(t,e){var n=void 0;return Math.abs(t)>Math.abs(e)?(n=e/t,n=Math.abs(t)*Math.sqrt(1+n*n)):0!=e?(n=t/e,n=Math.abs(e)*Math.sqrt(1+n*n)):n=0,n},t.exports=r},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,t),this.sequence1=e,this.sequence2=n,this.match_score=r,this.mismatch_penalty=o,this.gap_penalty=a,this.iMax=e.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[s][l]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[u][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[o[0]],this.tracebackGrid[n][r]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],n=this.tracebackGrid[e.pos[0]][e.pos[1]];n[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),n[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),n[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var n=[],r=-1;-1!==(r=t.indexOf(e,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=o},function(t,e,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(4),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(5),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(25),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(6),r.LEdge=n(1),r.LGraphManager=n(7),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(27),r.Matrix=n(24),r.SVD=n(26),t.exports=r},function(t,e,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(t,e){this.listeners.push({event:t,callback:e})},i.removeListener=function(t,e){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===t&&r.callback===e&&this.listeners.splice(n,1)}},i.emit=function(t,e){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];t===r.event&&r.callback(e)}},t.exports=r}])},6906:function(t){var e=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")(),u=Object.prototype.toString,c=Math.max,h=Math.min,d=function(){return l.Date.now()};function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function f(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(p(t)){var a="function"==typeof t.valueOf?t.valueOf():t;t=p(a)?a+"":a}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(e,"");var s=r.test(t);return s||i.test(t)?o(t.slice(2),s?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,l,u=0,g=!1,v=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function _(t){return u=t,s=setTimeout(x,e),g?m(t):a}function b(t){var n=t-l;return void 0===l||n>=e||n<0||v&&t-u>=o}function x(){var t=d();if(b(t))return E(t);s=setTimeout(x,function(t){var n=e-(t-l);return v?h(n,o-(t-u)):n}(t))}function E(t){return s=void 0,y&&r?m(t):(r=i=void 0,a)}function C(){var t=d(),n=b(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return _(l);if(v)return s=setTimeout(x,e),m(l)}return void 0===s&&(s=setTimeout(x,e)),a}return e=f(e)||0,p(n)&&(g=!!n.leading,o=(v="maxWait"in n)?c(f(n.maxWait)||0,e):o,y="trailing"in n?!!n.trailing:y),C.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},C.flush=function(){return void 0===s?a:E(d())},C}},6703:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(46)),r(n(9755)),r(n(9737)),r(n(5872)),r(n(6573)),r(n(8833)),r(n(8640)),r(n(9739)),r(n(1468)),r(n(5245)),r(n(9516)),r(n(3294)),r(n(7262)),r(n(5259)),r(n(3535)),r(n(8344))},46:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8640),a=function(t){function e(e){var n=t.call(this)||this,r=e;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=o.Layout.dragStart,n.dragend=n.dragEnd=o.Layout.dragEnd,n}return i(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(o.Layout);e.LayoutAdaptor=a,e.adaptor=function(t){return new a(t)}},8344:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8640),i=n(6573);e.gridify=function(t,e,n,r){return t.cola.start(0,0,0,10,!1),function(t,e,n,r){t.forEach(function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}}),e.forEach(function(e){e.routerNode={bounds:e.bounds.inflate(-r),children:(void 0!==e.groups?e.groups.map(function(e){return t.length+e.id}):[]).concat(void 0!==e.leaves?e.leaves.map(function(t){return t.index}):[])}});var o=t.concat(e).map(function(t,e){return t.routerNode.id=e,t.routerNode});return new i.GridRouter(o,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-r)}(t.cola.nodes(),t.cola.groups(),n,r).routeEdges(t.powerGraph.powerEdges,e,function(t){return t.source.routerNode.id},function(t){return t.target.routerNode.id})},e.powerGraphGridLayout=function(t,e,n){var i;t.nodes.forEach(function(t,e){return t.index=e}),(new r.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(t){(i=t).groups.forEach(function(t){return t.padding=n})});var o=t.nodes.length,a=[],s=t.nodes.slice(0);return s.forEach(function(t,e){return t.index=e}),i.groups.forEach(function(t){var e=t.index=t.id+o;s.push(t),void 0!==t.leaves&&t.leaves.forEach(function(t){return a.push({source:e,target:t.index})}),void 0!==t.groups&&t.groups.forEach(function(t){return a.push({source:e,target:t.id+o})})}),i.powerEdges.forEach(function(t){a.push({source:t.source.index,target:t.target.index})}),(new r.Layout).size(e).nodes(s).links(a).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new r.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(t){(i=t).groups.forEach(function(t){t.padding=n})}).start(50,0,100,0,!1),powerGraph:i}}},9755:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8965),i=n(3987);e.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new r.D3StyleLayoutAdaptor:new i.D3StyleLayoutAdaptor(t)}},8965:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8640),a=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(o.Layout.dragOrigin).on("dragstart.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,d3.event),n.resume()}).on("dragend.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return i(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer(function(){return t.prototype.tick.call(e)})},e.prototype.on=function(t,e){return this.event.on("string"==typeof t?t:o.EventType[t],e),this},e}(o.Layout);e.D3StyleLayoutAdaptor=a,e.d3adaptor=function(){return new a}},3987:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8640),a=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var r=n;return n.drag=function(){if(!t)var t=e.drag().subject(o.Layout.dragOrigin).on("start.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,e.event),r.resume()}).on("end.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return i(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer(function(){return t.prototype.tick.call(e)&&n.stop()})},e.prototype.on=function(t,e){return this.event.on("string"==typeof t?t:o.EventType[t],e),this},e}(o.Layout);e.D3StyleLayoutAdaptor=a},9737:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();e.Locks=n;var r=function(){function t(t,e,r){void 0===r&&(r=null),this.D=e,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var a,s=o;s--;)for(a=o;--a>s;){var l=e[s][a];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(o),this.H[s]=new Array(o),a=o;a--;)this.H[s][a]=new Array(o);this.Hd[s]=new Array(o),this.a[s]=new Array(o),this.b[s]=new Array(o),this.c[s]=new Array(o),this.d[s]=new Array(o),this.e[s]=new Array(o),this.ia[s]=new Array(o),this.ib[s]=new Array(o),this.xtmp[s]=new Array(o)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),r=0;r<t;++r){n[r]=new Array(t);for(var i=0;i<t;++i)n[r][i]=e(r,i)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,r=0;r<this.k;++r){var i=e[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),e.map(function(e){return e*(t.minD/n)})},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),o=new Array(this.k),a=new Array(this.k),s=0,l=0;l<n;++l){for(r=0;r<this.k;++r)a[r]=this.g[r][l]=0;for(var u=0;u<n;++u)if(l!==u){for(var c=n;c--;){var h=0;for(r=0;r<this.k;++r){var d=i[r]=t[r][l]-t[r][u];h+=o[r]=d*d}if(h>1e-9)break;var p=this.offsetDir();for(r=0;r<this.k;++r)t[r][u]+=p[r]}var f=Math.sqrt(h),g=this.D[l][u],v=null!=this.G?this.G[l][u]:1;if(v>1&&f>g||!isFinite(g)){for(r=0;r<this.k;++r)this.H[r][l][u]=0;continue}v>1&&(v=1);var y=g*g,m=2*v*(f-g)/(y*f),_=f*f*f,b=2*-v/(y*_);for(isFinite(m)||console.log(m),r=0;r<this.k;++r)this.g[r][l]+=i[r]*m,a[r]-=this.H[r][l][u]=b*(_+g*(o[r]-h)+f*h)}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][l][l]=a[r])}var x=this.snapGridSize/2,E=this.snapGridSize,C=this.snapStrength/(x*x),w=this.numGridSnapNodes;for(l=0;l<w;++l)for(r=0;r<this.k;++r){var L=this.x[r][l],T=L/E,D=T%1,A=T-D;-x<(d=Math.abs(D)<=.5?L-A*E:L>0?L-(A+1)*E:L-(A-1)*E)&&d<=x&&(this.scaleSnapByMaxH?(this.g[r][l]+=s*C*d,this.H[r][l][l]+=s*C):(this.g[r][l]+=C*d,this.H[r][l][l]+=C))}this.locks.isEmpty()||this.locks.apply(function(n,i){for(r=0;r<e.k;++r)e.H[r][n][n]+=s,e.g[r][n]-=s*(i[r]-t[r][n])})}},t.dotProd=function(t,e){for(var n=0,r=t.length;r--;)n+=t[r]*e[r];return n},t.rightMultiply=function(e,n,r){for(var i=e.length;i--;)r[i]=t.dotProd(e[i],n)},t.prototype.computeStepSize=function(e){for(var n=0,r=0,i=0;i<this.k;++i)n+=t.dotProd(this.g[i],e[i]),t.rightMultiply(this.H[i],e[i],this.Hd[i]),r+=t.dotProd(e[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,r=e[0].length,i=0;i<n;++i)for(var o=0;o<r;++o)e[i][o]=t[i][o]},t.prototype.stepAndProject=function(e,n,r,i){t.copy(e,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],r[o],i)},t.mApply=function(t,e,n){for(var r=t;r-- >0;)for(var i=e;i-- >0;)n(r,i)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var r=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,r),this.project){this.matrixApply(function(r,i){return n.e[r][i]=t[r][i]-e[r][i]});var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(t,e,this.e,i)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var r=this.rungeKutta();n=Math.abs(e/r-1)<this.threshold,e=r}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply(function(t,r){var i=(e.a[t][r]+2*e.b[t][r]+2*e.c[t][r]+e.d[t][r])/6,o=e.x[t][r]-i;n+=o*o,e.x[t][r]=i}),n},t.mid=function(e,n,r){t.mApply(e.length,e[0].length,function(t,i){return r[t][i]=e[t][i]+(n[t][i]-e[t][i])/2})},t.prototype.takeDescentStep=function(t,e,n){for(var r=0;r<this.n;++r)t[r]=t[r]-n*e[r]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var r=e+1,i=this.n;r<i;++r){for(var o=0,a=0;a<this.k;++a){var s=this.x[a][e]-this.x[a][r];o+=s*s}o=Math.sqrt(o);var l=this.D[e][r];if(isFinite(l)){var u=l-o;t+=u*u/(l*l)}}return t},t.zeroDistance=1e-10,t}();e.Descent=r;var i=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();e.PseudoRandom=i},5872:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(7262),a=function(){};e.Point=a;var s=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r};e.LineSegment=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(a);function u(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function c(t,e,n){return u(t,e,n)>0}function h(t,e,n){return u(t,e,n)<0}function d(t,e){var n=e.slice(0);return n.push(e[0]),{rtan:p(t,n),ltan:f(t,n)}}function p(t,e){var n,r,i,o,a=e.length-1;if(h(t,e[1],e[0])&&!c(t,e[a-1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return c(t,e[n],e[r])?n:r;if((o=h(t,e[(i=Math.floor((n+r)/2))+1],e[i]))&&!c(t,e[i-1],e[i]))return i;c(t,e[n+1],e[n])?o||c(t,e[n],e[i])?r=i:n=i:o&&h(t,e[n],e[i])?r=i:n=i}}function f(t,e){var n,r,i,o,a=e.length-1;if(c(t,e[a-1],e[0])&&!h(t,e[1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return h(t,e[n],e[r])?n:r;if(o=h(t,e[(i=Math.floor((n+r)/2))+1],e[i]),c(t,e[i-1],e[i])&&!o)return i;h(t,e[n+1],e[n])?o?h(t,e[n],e[i])?r=i:n=i:r=i:o?n=i:c(t,e[n],e[i])?r=i:n=i}}function g(t,e,n,r,i,o){var a,s;s=r(t[a=n(e[0],t)],e);for(var l=!1;!l;){for(l=!0;a===t.length-1&&(a=0),!i(e[s],t[a],t[a+1]);)++a;for(;0===s&&(s=e.length-1),!o(t[a],e[s],e[s-1]);)--s,l=!1}return{t1:a,t2:s}}function v(t,e){return g(t,e,p,f,c,h)}e.PolyPoint=l,e.isLeft=u,e.ConvexHull=function(t){var e,n=t.slice(0).sort(function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y}),r=t.length,i=n[0].x;for(e=1;e<r&&n[e].x===i;++e);var o=e-1,a=[];if(a.push(n[0]),o===r-1)n[o].y!==n[0].y&&a.push(n[o]);else{var s,l=r-1,c=n[r-1].x;for(e=r-2;e>=0&&n[e].x===c;e--);for(s=e+1,e=o;++e<=s;)if(!(u(n[0],n[s],n[e])>=0&&e<s)){for(;a.length>1&&!(u(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}l!=s&&a.push(n[l]);var h=a.length;for(e=s;--e>=o;)if(!(u(n[l],n[o],n[e])>=0&&e>o)){for(;a.length>h&&!(u(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}}return a},e.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort(function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)}).forEach(n)},e.tangent_PolyPolyC=g,e.LRtangent_PolyPolyC=function(t,e){var n=v(e,t);return{t1:n.t2,t2:n.t1}},e.RLtangent_PolyPolyC=v,e.LLtangent_PolyPolyC=function(t,e){return g(t,e,f,f,h,h)},e.RRtangent_PolyPolyC=function(t,e){return g(t,e,p,p,c,c)};var y=function(t,e){this.t1=t,this.t2=e};e.BiTangent=y;var m=function(){};e.BiTangents=m;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(a);e.TVGPoint=_;var b=function(t,e,n,r){this.id=t,this.polyid=e,this.polyvertid=n,this.p=r,r.vv=this};e.VisibilityVertex=b;var x=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();e.VisibilityEdge=x;var E=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,r=0;r<n;r++){for(var i=t[r],o=0;o<i.length;++o){var a=new b(this.V.length,r,o,i[o]);this.V.push(a),o>0&&this.E.push(new x(i[o-1].vv,a))}i.length>1&&this.E.push(new x(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var s=t[r];for(o=r+1;o<n;o++){var l=t[o],u=w(s,l);for(var c in u){var h=u[c];this.addEdgeIfVisible(s[h.t1],l[h.t2],r,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,r){this.intersectsPolys(new s(t.x,t.y,e.x,e.y),n,r)||this.E.push(new x(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n=this.P.length;this.V.push(new b(this.V.length,n,0,t));for(var r=0;r<n;++r)if(r!==e){var i=this.P[r],o=d(t,i);this.addEdgeIfVisible(t,i[o.ltan],e,r),this.addEdgeIfVisible(t,i[o.rtan],e,r)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=e&&r!=n&&C(t,this.P[r]).length>0)return!0;return!1},t}();function C(t,e){for(var n=[],r=1,i=e.length;r<i;++r){var a=o.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[r-1].x,e[r-1].y,e[r].x,e[r].y);a&&n.push(a)}return n}function w(t,e){for(var n=t.length-1,r=e.length-1,i=new m,o=0;o<n;++o)for(var a=0;a<r;++a){var s=t[0==o?n-1:o-1],l=t[o],c=t[o+1],h=e[0==a?r-1:a-1],d=e[a],p=e[a+1],f=u(s,l,d),g=u(l,h,d),v=u(l,d,p),_=u(h,d,l),b=u(d,s,l),x=u(d,l,c);f>=0&&g>=0&&v<0&&_>=0&&b>=0&&x<0?i.ll=new y(o,a):f<=0&&g<=0&&v>0&&_<=0&&b<=0&&x>0?i.rr=new y(o,a):f<=0&&g>0&&v<=0&&_>=0&&b<0&&x>=0?i.rl=new y(o,a):f>=0&&g<0&&v>=0&&_<=0&&b>0&&x<=0&&(i.lr=new y(o,a))}return i}function L(t,e){return!t.every(function(t){return!function(t,e){for(var n=1,r=e.length;n<r;++n)if(h(e[n-1],e[n],t))return!1;return!0}(t,e)})}e.TangentVisibilityGraph=E,e.tangents=w,e.polysOverlap=function(t,e){if(L(t,e)||L(e,t))return!0;for(var n=1,r=t.length;n<r;++n){var i=t[n],o=t[n-1];if(C(new s(o.x,o.y,i.x,i.y),e).length>0)return!0}return!1}},6573:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7262),i=n(3535),o=n(5259),a=function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length};e.NodeWrapper=a;var s=function(t,e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=t,this.x=e,this.y=n,this.node=r,this.line=i};e.Vert=s;var l=function(){function t(e,n){this.s=e,this.t=n;var r=t.findMatch(e,n),i=n.slice(0).reverse(),o=t.findMatch(e,i);r.length>=o.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,r=e.length,i={length:0,si:-1,ti:-1},o=new Array(n),a=0;a<n;a++){o[a]=new Array(r);for(var s=0;s<r;s++)if(t[a]===e[s]){var l=o[a][s]=0===a||0===s?1:o[a-1][s-1]+1;l>i.length&&(i.length=l,i.si=a-l+1,i.ti=s-l+1)}else o[a][s]=0}return i},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();e.LongestCommonSubsequence=l;var u=function(){function t(t,e,n){var i=this;void 0===n&&(n=12),this.originalnodes=t,this.groupPadding=n,this.leaves=null,this.nodes=t.map(function(t,n){return new a(n,e.getBounds(t),e.getChildren(t))}),this.leaves=this.nodes.filter(function(t){return t.leaf}),this.groups=this.nodes.filter(function(t){return!t.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(t){return t.children.forEach(function(e){return i.nodes[e].parent=t})}),this.root={children:[]},this.nodes.forEach(function(t){void 0===t.parent&&(t.parent=i.root,i.root.children.push(t.id)),t.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(t,e){return i.getDepth(t)-i.getDepth(e)}),this.backToFront.slice(0).reverse().filter(function(t){return!t.leaf}).forEach(function(t){var e=r.Rectangle.empty();t.children.forEach(function(t){return e=e.union(i.nodes[t].rect)}),t.rect=e.inflate(i.groupPadding)});var o=this.midPoints(this.cols.map(function(t){return t.pos})),l=this.midPoints(this.rows.map(function(t){return t.pos})),u=o[0],c=o[o.length-1],h=l[0],d=l[l.length-1],p=this.rows.map(function(t){return{x1:u,x2:c,y1:t.pos,y2:t.pos}}).concat(l.map(function(t){return{x1:u,x2:c,y1:t,y2:t}})),f=this.cols.map(function(t){return{x1:t.pos,x2:t.pos,y1:h,y2:d}}).concat(o.map(function(t){return{x1:t,x2:t,y1:h,y2:d}})),g=p.concat(f);g.forEach(function(t){return t.verts=[]}),this.verts=[],this.edges=[],p.forEach(function(t){return f.forEach(function(e){var n=new s(i.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),i.verts.push(n);for(var r=i.backToFront.length;r-- >0;){var o=i.backToFront[r],a=o.rect,l=Math.abs(n.x-a.cx()),u=Math.abs(n.y-a.cy());if(l<a.width()/2&&u<a.height()/2){n.node=o;break}}})}),g.forEach(function(t,e){i.nodes.forEach(function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach(function(n,r){var o=new s(i.verts.length,n.x,n.y,e,t);i.verts.push(o),t.verts.push(o),e.ports.push(o)})});var n=Math.abs(t.y1-t.y2)<.1,r=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(r);for(var o=1;o<t.verts.length;o++){var a=t.verts[o-1],l=t.verts[o];a.node&&a.node===l.node&&a.node.leaf||i.edges.push({source:a.id,target:l.id,length:Math.abs(r(a,l))})}})}return t.prototype.avg=function(t){return t.reduce(function(t,e){return t+e})/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter(function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)}),i={nodes:r,pos:this.avg(r.map(function(e){return e.rect["c"+t]()}))};e.push(i),i.nodes.forEach(function(t){return n.splice(n.indexOf(t),1)})}return e.sort(function(t,e){return t.pos-e.pos}),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],r=1;r<t.length;r++)n.push((t[r]+t[r-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{e.push(t=t.parent)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),r=this.findLineage(e),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},t.prototype.siblingObstacles=function(t,e){var n=this,r=this.findAncestorPathBetween(t,e),i={};r.lineages.forEach(function(t){return i[t.id]={}});var o=r.commonAncestor.children.filter(function(t){return!(t in i)});return r.lineages.filter(function(t){return t.parent!==r.commonAncestor}).forEach(function(t){return o=o.concat(t.parent.children.filter(function(e){return e!==t.id}))}),o.map(function(t){return n.nodes[t]})},t.getSegmentSets=function(t,e,n){for(var r=[],i=0;i<t.length;i++)for(var o=t[i],a=0;a<o.length;a++)(c=o[a]).edgeid=i,c.i=a,Math.abs(c[1][e]-c[0][e])<.1&&r.push(c);r.sort(function(t,n){return t[0][e]-n[0][e]});for(var s=[],l=null,u=0;u<r.length;u++){var c=r[u];(!l||Math.abs(c[0][e]-l.pos)>.1)&&s.push(l={pos:c[0][e],segments:[]}),l.segments.push(c)}return s},t.nudgeSegs=function(t,e,n,r,o,a){var s=r.length;if(!(s<=1)){for(var l=r.map(function(e){return new i.Variable(e[0][t])}),u=[],c=0;c<s;c++)for(var h=0;h<s;h++)if(c!==h){var d=r[c],p=d.edgeid,f=r[h].edgeid,g=-1,v=-1;"x"==t?o(p,f)&&(d[0][e]<d[1][e]?(g=h,v=c):(g=c,v=h)):o(p,f)&&(d[0][e]<d[1][e]?(g=c,v=h):(g=h,v=c)),g>=0&&u.push(new i.Constraint(l[g],l[v],a))}new i.Solver(l,u).solve(),l.forEach(function(e,i){var o=r[i],a=e.position();o[0][t]=o[1][t]=a;var s=n[o.edgeid];o.i>0&&(s[o.i-1][1][t]=a),o.i<s.length-1&&(s[o.i+1][0][t]=a)})}},t.nudgeSegments=function(e,n,r,i,o){for(var a=t.getSegmentSets(e,n,r),s=0;s<a.length;s++){for(var l=a[s],u=[],c=0;c<l.segments.length;c++){var h=l.segments[c];u.push({type:0,s:h,pos:Math.min(h[0][r],h[1][r])}),u.push({type:1,s:h,pos:Math.max(h[0][r],h[1][r])})}u.sort(function(t,e){return t.pos-e.pos+t.type-e.type});var d=[],p=0;u.forEach(function(a){0===a.type?(d.push(a.s),p++):p--,0==p&&(t.nudgeSegs(n,r,e,d,i,o),d=[])})}},t.prototype.routeEdges=function(e,n,r,i){var o=this,a=e.map(function(t){return o.route(r(t),i(t))}),s=t.orderEdges(a),l=a.map(function(e){return t.makeSegments(e)});return t.nudgeSegments(l,"x","y",s,n),t.nudgeSegments(l,"y","x",s,n),t.unreverseEdges(l,a),l},t.unreverseEdges=function(t,e){t.forEach(function(t,n){e[n].reversed&&(t.reverse(),t.forEach(function(t){t.reverse()}))})},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),r=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];void 0===e[r.l]&&(e[r.l]={}),e[r.l][r.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],r=0;r<e.length-1;r++)for(var i=r+1;i<e.length;i++){var o,a,s,u=e[r],c=e[i],h=new l(u,c);if(0!==h.length){if(h.reversed&&(c.reverse(),c.reversed=!0,h=new l(u,c)),(h.si<=0||h.ti<=0)&&(h.si+h.length>=u.length||h.ti+h.length>=c.length)){n.push({l:r,r:i});continue}h.si+h.length>=u.length||h.ti+h.length>=c.length?(o=u[h.si+1],s=u[h.si-1],a=c[h.ti-1]):(o=u[h.si+h.length-2],a=u[h.si+h.length],s=c[h.ti+h.length]),t.isLeft(o,a,s)?n.push({l:i,r}):n.push({l:r,r:i})}}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=[],r=e(t[0]),i=1;i<t.length;i++){var o=e(t[i]),a=i<t.length-1?t[i+1]:null;(!a||(s=r,l=o,u=a,!(Math.abs((l.x-s.x)*(u.y-s.y)-(l.y-s.y)*(u.x-s.x))<.001)))&&(n.push([r,o]),r=o)}var s,l,u;return n},t.prototype.route=function(t,e){var n=this,r=this.nodes[t],i=this.nodes[e];this.obstacles=this.siblingObstacles(r,i);var a={};this.obstacles.forEach(function(t){return a[t.id]=t}),this.passableEdges=this.edges.filter(function(t){var e=n.verts[t.source],r=n.verts[t.target];return!(e.node&&e.node.id in a||r.node&&r.node.id in a)});for(var s=1;s<r.ports.length;s++)this.passableEdges.push({source:r.ports[0].id,target:r.ports[s].id,length:0});for(s=1;s<i.ports.length;s++)this.passableEdges.push({source:i.ports[0].id,target:i.ports[s].id,length:0});var l=new o.Calculator(this.verts.length,this.passableEdges,function(t){return t.source},function(t){return t.target},function(t){return t.length}).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,function(t,e,o){var a=n.verts[t],s=n.verts[e],l=n.verts[o],u=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y);return a.node===r&&a.node===s.node||s.node===i&&s.node===l.node?0:u>1&&c>1?1e3:0}).reverse().map(function(t){return n.verts[t]});return l.push(this.nodes[i.id].ports[0]),l.filter(function(t,e){return!(e<l.length-1&&l[e+1].node===r&&t.node===r||e>0&&t.node===i&&l[e-1].node===i)})},t.getRoutePath=function(e,n,r,i){var o,a,s,l,u,c={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var h=0;h<e.length;h++){var d=(a=(o=e[h])[1].x)-o[0].x,p=(s=o[1].y)-o[0].y;if(h<e.length-1){Math.abs(d)>0?a-=d/Math.abs(d)*n:s-=p/Math.abs(p)*n,c.routepath+="L "+a+" "+s+" ";var f=e[h+1],g=f[0].x,v=f[0].y;d=f[1].x-g,p=f[1].y-v;var y,m,_=t.angleBetween2Lines(o,f)<0?1:0;Math.abs(d)>0?(y=g+d/Math.abs(d)*n,m=v):(y=g,m=v+p/Math.abs(p)*n);var b=Math.abs(y-a),x=Math.abs(m-s);c.routepath+="A "+b+" "+x+" 0 0 "+_+" "+y+" "+m+" "}else{var E=[a,s];Math.abs(d)>0?(l=[a-=d/Math.abs(d)*i,s+r],u=[a,s-r]):(l=[a+r,s-=p/Math.abs(p)*i],u=[a-r,s]),c.routepath+="L "+a+" "+s+" ",i>0&&(c.arrowpath="M "+E[0]+" "+E[1]+" L "+l[0]+" "+l[1]+" L "+u[0]+" "+u[1])}}else d=(a=(o=e[0])[1].x)-o[0].x,p=(s=o[1].y)-o[0].y,E=[a,s],Math.abs(d)>0?(l=[a-=d/Math.abs(d)*i,s+r],u=[a,s-r]):(l=[a+r,s-=p/Math.abs(p)*i],u=[a-r,s]),c.routepath+="L "+a+" "+s+" ",i>0&&(c.arrowpath="M "+E[0]+" "+E[1]+" L "+l[0]+" "+l[1]+" L "+u[0]+" "+u[1]);return c},t}();e.GridRouter=u},8833:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(1+Math.sqrt(5))/2;e.applyPacking=function(t,e,r,i,o,a){void 0===o&&(o=1),void 0===a&&(a=!0);var s=e,l=r,u=(o=void 0!==o?o:1,i=void 0!==i?i:0,0),c=0,h=0,d=0,p=[];function f(t,e){p=[],u=0,c=0,d=0;for(var n=0;n<t.length;n++)g(t[n],e);return Math.abs(u/c-o)}function g(t,e){for(var n=void 0,r=0;r<p.length;r++)if(p[r].space_left>=t.height&&p[r].x+p[r].width+t.width+10-e<=1e-4){n=p[r];break}p.push(t),void 0!==n?(t.x=n.x+n.width+10,t.y=n.bottom,t.space_left=t.height,t.bottom=t.y,n.space_left-=t.height+10,n.bottom+=t.height+10):(t.y=d,d+=t.height+10,t.x=0,t.bottom=t.y,t.space_left=t.height),t.y+t.height-c>-1e-4&&(c=t.y+t.height-0),t.x+t.width-u>-1e-4&&(u=t.x+t.width-0)}0!=t.length&&(t.forEach(function(t){!function(t){var e=Number.MAX_VALUE,n=Number.MAX_VALUE,r=0,o=0;t.array.forEach(function(t){var a=void 0!==t.width?t.width:i,s=void 0!==t.height?t.height:i;a/=2,s/=2,r=Math.max(t.x+a,r),e=Math.min(t.x-a,e),o=Math.max(t.y+s,o),n=Math.min(t.y-s,n)}),t.width=r-e,t.height=o-n}(t)}),function(t,e){var r=Number.POSITIVE_INFINITY,i=0;t.sort(function(t,e){return e.height-t.height});for(var o=g=h=t.reduce(function(t,e){return t.width<e.width?t.width:e.width}),a=v=function(t){var e=0;return t.forEach(function(t){return e+=t.width+10}),e}(t),s=0,l=Number.MAX_VALUE,u=Number.MAX_VALUE,c=-1,d=Number.MAX_VALUE,p=Number.MAX_VALUE;d>h||p>1e-4;){if(1!=c){var g=a-(a-o)/n;l=f(t,g)}if(0!=c){var v=o+(a-o)/n;u=f(t,v)}if(d=Math.abs(g-v),p=Math.abs(l-u),l<r&&(r=l,i=g),u<r&&(r=u,i=v),l>u?(o=g,g=v,l=u,c=1):(a=v,v=g,u=l,c=0),s++>100)break}f(t,i)}(t),a&&t.forEach(function(t){var e={x:0,y:0};t.array.forEach(function(t){e.x+=t.x,e.y+=t.y}),e.x/=t.array.length,e.y/=t.array.length;var n=t.x-(e.x-t.width/2)+s/2-u/2,r=t.y-(e.y-t.height/2)+l/2-c/2;t.array.forEach(function(t){t.x+=n,t.y+=r})}))},e.separateGraphs=function(t,e){for(var n={},r={},i=[],o=0,a=0;a<e.length;a++){var s=e[a],l=s.source,u=s.target;r[l.index]?r[l.index].push(u):r[l.index]=[u],r[u.index]?r[u.index].push(l):r[u.index]=[l]}for(a=0;a<t.length;a++){var c=t[a];n[c.index]||h(c,!0)}function h(t,e){if(void 0===n[t.index]){e&&(o++,i.push({array:[]})),n[t.index]=o,i[o-1].array.push(t);var a=r[t.index];if(a)for(var s=0;s<a.length;s++)h(a[s],!1)}}return i}},8640:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(5245),a=n(1468),s=n(9737),l=n(7262),u=n(5259),c=n(5872),h=n(8833);function d(t){return void 0!==t.leaves||void 0!==t.groups}(i=r=e.EventType||(e.EventType={}))[i.start=0]="start",i[i.tick=1]="tick",i[i.end=2]="end";var p=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[r[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:r.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,n=this._nodes.length;for(this._descent.locks.clear(),e=0;e<n;++e)(t=this._nodes[e]).fixed&&((void 0===t.px||void 0===t.py)&&(t.px=t.x,t.py=t.y),this._descent.locks.add(e,[t.px,t.py]));var i=this._descent.rungeKutta();return 0===i?this._alpha=0:void 0!==this._lastStress&&(this._alpha=i),this._lastStress=i,this.updateNodePositions(),this.trigger({type:r.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(t=this._nodes[r]).x=e[r],t.y=n[r]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach(function(t){e=Math.max(e,t.source,t.target)}),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach(function(n,r){"number"==typeof n&&((t.leaves[r]=e._nodes[n]).parent=t)}),void 0!==t.groups&&t.groups.forEach(function(n,r){"number"==typeof n&&((t.groups[r]=e._groups[n]).parent=t)})}),this._rootGroup.leaves=this._nodes.filter(function(t){return void 0===t.parent}),this._rootGroup.groups=this._groups.filter(function(t){return void 0===t.parent}),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=o.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:r.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return a.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return a.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,r,i,o,c){var h=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===c&&(c=!0);var d,p=this.nodes().length,f=p+2*this._groups.length,g=this._canvasSize[0],v=this._canvasSize[1],y=new Array(f),m=new Array(f),_=null,b=this._avoidOverlaps;this._nodes.forEach(function(t,e){t.index=e,void 0===t.x&&(t.x=g/2,t.y=v/2),y[e]=t.x,m[e]=t.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?d=this._distanceMatrix:(d=new u.Calculator(f,this._links,t.getSourceIndex,t.getTargetIndex,function(t){return h.getLinkLength(t)}).DistanceMatrix(),_=s.Descent.createSquareMatrix(f,function(){return 2}),this._links.forEach(function(t){"number"==typeof t.source&&(t.source=h._nodes[t.source]),"number"==typeof t.target&&(t.target=h._nodes[t.target])}),this._links.forEach(function(e){var n=t.getSourceIndex(e),r=t.getTargetIndex(e);_[n][r]=_[r][n]=e.weight||1}));var x=s.Descent.createSquareMatrix(f,function(t,e){return d[t][e]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var E=p;this._groups.forEach(function(t){(function(t,e,n,r){_[t][e]=_[e][t]=n,x[t][e]=x[e][t]=.1})(E,E+1,h._groupCompactness),y[E]=0,m[E++]=0,y[E]=0,m[E++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var C=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,C=C.concat(a.generateDirectedEdgeConstraints(p,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new s.Descent([y,m],x),this._descent.locks.clear(),E=0;E<p;++E){var w=this._nodes[E];w.fixed&&(w.px=w.x,w.py=w.y,this._descent.locks.add(E,[w.x,w.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(e,y,m),C.length>0&&(this._descent.project=new l.Projection(this._nodes,this._groups,this._rootGroup,C).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(g,v,c),this.avoidOverlaps(b),b&&(this._nodes.forEach(function(t,e){t.x=y[e],t.y=m[e]}),this._descent.project=new l.Projection(this._nodes,this._groups,this._rootGroup,C,!0).projectFunctions(),this._nodes.forEach(function(t,e){y[e]=t.x,m[e]=t.y})),this._descent.G=_,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=p,this._descent.scaleSnapByMaxH=p!=f;var L=s.Descent.createSquareMatrix(f,function(t,e){return t>=p||e>=p?_[t][e]:0});this._descent.G=L,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(g,v,c),o?this.resume():this},t.prototype.initialLayout=function(e,n,r){if(this._groups.length>0&&e>0){var i=this._nodes.length,o=this._links.map(function(t){return{source:t.source.index,target:t.target.index}}),a=this._nodes.map(function(t){return{index:t.index}});this._groups.forEach(function(t,e){a.push({index:t.index=i+e})}),this._groups.forEach(function(t,e){void 0!==t.leaves&&t.leaves.forEach(function(e){return o.push({source:t.index,target:e.index})}),void 0!==t.groups&&t.groups.forEach(function(e){return o.push({source:t.index,target:e.index})})}),(new t).size(this.size()).nodes(a).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach(function(t){n[t.index]=a[t.index].x,r[t.index]=a[t.index].y})}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach(function(t,e){t.x=i[e],t.y=o[e]});var a=h.separateGraphs(this._nodes,this._links);h.applyPacking(a,t,e,this._defaultNodeSize,1,n),this._nodes.forEach(function(t,e){r._descent.x[0][e]=t.x,r._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))})}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new c.TangentVisibilityGraph(this._nodes.map(function(e){return e.bounds.inflate(-t).vertices()}))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var r=[],i=new c.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},s=i.addPoint(o,t.source.index),h=i.addPoint(a,t.target.index);i.addEdgeIfVisible(o,a,t.source.index,t.target.index),void 0!==n&&n(i);var d=new u.Calculator(i.V.length,i.E,function(t){return t.source.id},function(t){return t.target.id},function(t){return t.length()}).PathFromNodeToNode(s.id,h.id);if(1===d.length||d.length===i.V.length){var p=l.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);r=[p.sourceIntersection,p.arrowStart]}else{for(var f=d.length-2,g=i.V[d[f]].p,v=i.V[d[0]].p,y=(r=[t.source.innerBounds.rayIntersection(g.x,g.y)],f);y>=0;--y)r.push(i.V[d[y]].p);r.push(l.makeEdgeTo(v,t.target.innerBounds,e))}return r},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){d(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach(function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.storeOffset(e,n)})},t.dragOrigin=function(t){return d(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){d(e)?(void 0!==e.leaves&&e.leaves.forEach(function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.drag(e,n)})):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){d(e)?(void 0!==e.leaves&&e.leaves.forEach(function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY}),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();e.Layout=p},9739:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5259),i=n(9737),o=n(7262),a=n(1468),s=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce(function(t,n){var r=n[e.target]-n[e.source];return t+r*r},0))},t}();e.Link3D=s,e.Node3D=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n};var l=function(){function t(e,n,r){var i=this;void 0===r&&(r=1),this.nodes=e,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach(function(e,n){for(var r=0,o=t.dims;r<o.length;r++){var a=o[r];void 0===e[a]&&(e[a]=Math.random())}i.result[0][n]=e.x,i.result[1][n]=e.y,i.result[2][n]=e.z})}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,s=new u;this.useJaccardLinkLengths&&a.jaccardLinkLengths(this.links,s,1.5),this.links.forEach(function(t){return t.length*=e.idealLinkLength});var l=new r.Calculator(n,this.links,function(t){return t.source},function(t){return t.target},function(t){return t.length}).DistanceMatrix(),c=i.Descent.createSquareMatrix(n,function(t,e){return l[t][e]}),h=i.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(t){var e=t.source,n=t.target;return h[e][n]=h[n][e]=1}),this.descent=new i.Descent(this.result,c),this.descent.threshold=.001,this.descent.G=h,this.constraints&&(this.descent.project=new o.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var d=0;d<this.nodes.length;d++){var p=this.nodes[d];p.fixed&&this.descent.locks.add(d,[p.x,p.y,p.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.k=(t.dims=["x","y","z"]).length,t}();e.Layout3D=l;var u=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()},1468:function(t,e){"use strict";function n(t,e){var n={};for(var r in t)n[r]={};for(var r in e)n[r]={};return Object.keys(n).length}function r(t,e){var n=0;for(var r in t)void 0!==e[r]&&++n;return n}function i(t,e,n,r){var i=function(t,e){var n={},r=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach(function(t){var n=e.getSourceIndex(t),i=e.getTargetIndex(t);r(n,i),r(i,n)}),n}(t,r);t.forEach(function(t){var o=i[r.getSourceIndex(t)],a=i[r.getTargetIndex(t)];r.setLength(t,1+e*n(o,a))})}function o(t,e,n){var r=[],i=0,o=[],a=[];function s(t){t.index=t.lowlink=i++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var r=n[e];void 0===r.index?(s(r),t.lowlink=Math.min(t.lowlink,r.lowlink)):r.onStack&&(t.lowlink=Math.min(t.lowlink,r.index))}if(t.lowlink===t.index){for(var l=[];o.length&&((r=o.pop()).onStack=!1,l.push(r),r!==t););a.push(l.map(function(t){return t.id}))}}for(var l=0;l<t;l++)r.push({id:l,out:[]});for(var u=0,c=e;u<c.length;u++){var h=c[u],d=r[n.getSourceIndex(h)],p=r[n.getTargetIndex(h)];d.out.push(p)}for(var f=0,g=r;f<g.length;f++){var v=g[f];void 0===v.index&&s(v)}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.symmetricDiffLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,function(t,e){return Math.sqrt(n(t,e)-r(t,e))},e)},e.jaccardLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/n(t,e)},e)},e.generateDirectedEdgeConstraints=function(t,e,n,r){var i=o(t,e,r),a={};i.forEach(function(t,e){return t.forEach(function(t){return a[t]=e})});var s=[];return e.forEach(function(t){var e=r.getSourceIndex(t),i=r.getTargetIndex(t);a[e]!==a[i]&&s.push({axis:n,left:e,right:i,gap:r.getMinSeparation(t)})}),s},e.stronglyConnectedComponents=o},5245:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.source=t,this.target=e,this.type=n};e.PowerEdge=n;var r=function(){function t(t,e,n,r){var i=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new a);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new o(s))}this.R=e.length,e.forEach(function(t){var e=i.modules[n.getSourceIndex(t)],r=i.modules[n.getTargetIndex(t)],o=n.getType(t);e.outgoing.add(o,r),r.incoming.add(o,e)})}return t.prototype.initModulesFromGroup=function(t){var e=new a;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var r=t.leaves[n],i=new o(r.id);this.modules[r.id]=i,e.add(i)}if(t.groups)for(var l=0;l<t.groups.length;++l){var u=t.groups[l],c={};for(var h in u)"leaves"!==h&&"groups"!==h&&u.hasOwnProperty(h)&&(c[h]=u[h]);e.add(new o(-1-l,new s,new s,this.initModulesFromGroup(u),c))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var r=t.incoming.intersection(e.incoming),i=t.outgoing.intersection(e.outgoing),s=new a;s.add(t),s.add(e);var l=new o(this.modules.length,i,r,s);this.modules.push(l);var u=function(n,r,i){n.forAll(function(n,o){n.forAll(function(n){var a=n[r];a.add(o,l),a.remove(o,t),a.remove(o,e),t[i].remove(o,n),e[i].remove(o,n)})})};return u(i,"incoming","outgoing"),u(r,"outgoing","incoming"),this.R-=r.count()+i.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(l),l},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,r=new Array(n*(n-1)),i=0,o=0,a=n-1;o<a;++o)for(var s=o+1;s<n;++s){var l=e[o],u=e[s];r[i]={id:i,nEdges:this.nEdges(l,u),a:l,b:u},i++}return r},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort(function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges})[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing);return this.R-n.count()-r.count()},t.prototype.getGroupHierarchy=function(t){var e=this,r=[];return i(this.roots[0],{},r),this.allEdges().forEach(function(i){var o=e.modules[i.source],a=e.modules[i.target];t.push(new n(void 0===o.gid?i.source:r[o.gid],void 0===a.gid?i.target:r[a.gid],i.type))}),r},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll(function(e){e.getEdges(n),t.getEdges(e.children,n)})},t}();function i(t,e,n){t.forAll(function(t){if(t.isLeaf())e.leaves||(e.leaves=[]),e.leaves.push(t.id);else{var r=e;if(t.gid=n.length,!t.isIsland()||t.isPredefined()){if(r={id:t.gid},t.isPredefined())for(var o in t.definition)r[o]=t.definition[o];e.groups||(e.groups=[]),e.groups.push(t.gid),n.push(r)}i(t.children,r,n)}})}e.Configuration=r;var o=function(){function t(t,e,n,r,i){void 0===e&&(e=new s),void 0===n&&(n=new s),void 0===r&&(r=new a),this.id=t,this.outgoing=e,this.incoming=n,this.children=r,this.definition=i}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll(function(r,i){r.forAll(function(r){t.push(new n(e.id,r.id,i))})})},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();e.Module=o;var a=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=function(t,e){var n={};for(var r in t)r in e&&(n[r]=t[r]);return n}(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll(function(e){e.isPredefined()||t.push(e)}),t},t}();e.ModuleSet=a;var s=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules(function(n){!e&&n.id==t&&(e=!0)}),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new a).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll(function(e,n){return e.forAll(t)})},t.prototype.intersection=function(e){var n=new t;return this.forAll(function(t,r){if(r in e.sets){var i=t.intersection(e.sets[r]),o=i.count();o>0&&(n.sets[r]=i,n.n+=o)}}),n},t}();e.LinkSets=s,e.getGroups=function(t,e,n,i){for(var o=new r(t.length,e,n,i);o.greedyMerge(););var a=[],s=o.getGroupHierarchy(a);return a.forEach(function(e){var n=function(n){var r=e[n];"number"==typeof r&&(e[n]=t[r])};n("source"),n("target")}),{groups:s,powerEdges:a}}},9516:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(e+=","),e+=i.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(e){return e.forEach(t)}))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,e){return t+e.count()},0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every(function(n){return t(e.elem,n.elem)&&n.isHeap(t)})},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),r=this.mergePairs(e);return n.merge(r,e)},t.prototype.decreaseKey=function(e,n,r,i){var o=e.removeMin(i);e.elem=o.elem,e.subheaps=o.subheaps,null!==r&&null!==o.elem&&r(e.elem,e);var a=new t(n);return null!==r&&r(n,a),this.merge(a,i)},t}();e.PairingHeap=n;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,i,o=0;i=t[o];++o)r=new n(i),this.root=this.empty()?r:this.root.merge(r,this.lessThan);return r},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();e.PriorityQueue=r},3294:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var r=this._comparator(t,e.data);if(0===r)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(r>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,function(t,n){return e(n,t)})},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new o(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(t,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(e(t,(n=r._ancestors[o]).data)>0)return r._cursor=n,r._ancestors.length=o,r;return r._ancestors.length=0,r},t}();e.TreeBase=i;var o=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var e;do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var e;do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();e.Iterator=o;var a=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),s=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return r(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new a(t),n=!0,this.size++;else{var r=new a(void 0),i=!1,o=!1,s=null,l=r,u=null,c=this._root;for(l.right=this._root;;){if(null===c?(c=new a(t),u.set_child(i,c),n=!0,this.size++):e.is_red(c.left)&&e.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),e.is_red(c)&&e.is_red(u)){var h=l.right===s;c===u.get_child(o)?l.set_child(h,e.single_rotate(s,!o)):l.set_child(h,e.double_rotate(s,!o))}var d=this._comparator(c.data,t);if(0===d)break;o=i,null!==s&&(l=s),s=u,u=c,c=c.get_child(i=d<0)}this._root=r.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new a(void 0),r=n;r.right=this._root;for(var i=null,o=null,s=null,l=!0;null!==r.get_child(l);){var u=l;o=i,i=r,r=r.get_child(l);var c=this._comparator(t,r.data);if(l=c>0,0===c&&(s=r),!e.is_red(r)&&!e.is_red(r.get_child(l)))if(e.is_red(r.get_child(!l))){var h=e.single_rotate(r,l);i.set_child(u,h),i=h}else if(!e.is_red(r.get_child(!l))){var d=i.get_child(!u);if(null!==d)if(e.is_red(d.get_child(!u))||e.is_red(d.get_child(u))){var p=o.right===i;e.is_red(d.get_child(u))?o.set_child(p,e.double_rotate(i,u)):e.is_red(d.get_child(!u))&&o.set_child(p,e.single_rotate(i,u));var f=o.get_child(p);f.red=!0,r.red=!0,f.left.red=!1,f.right.red=!1}else i.red=!1,d.red=!0,r.red=!0}}return null!==s&&(s.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(i);e.RBTree=s},7262:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3535),a=n(3294);function s(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce(function(t,e){return e.bounds.union(t)},l.empty()):l.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce(function(t,e){return s(e).union(t)},t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}e.computeGroupBounds=s;var l=function(){function t(t,e,n,r){this.x=t,this.X=e,this.y=n,this.Y=r}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,r,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],a=[],s=0;s<4;++s){var l=t.lineIntersection(e,n,r,i,o[s][0],o[s][1],o[s][2],o[s][3]);null!==l&&a.push({x:l.x,y:l.y})}return a},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,r,i,o,a,s){var l=n-t,u=a-i,c=r-e,h=s-o,d=h*l-u*c;if(0==d)return null;var p=t-i,f=e-o,g=(u*f-h*p)/d,v=(l*f-c*p)/d;return g>=0&&g<=1&&v>=0&&v<=1?{x:t+g*l,y:e+g*c}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();e.Rectangle=l,e.makeEdgeBetween=function(t,e,n){var r=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=i.x-r.x,a=i.y-r.y,s=Math.sqrt(o*o+a*a),l=s-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+l*o/s,y:r.y+l*a/s}}},e.makeEdgeTo=function(t,e,n){var r=e.rayIntersection(t.x,t.y);r||(r={x:e.cx(),y:e.cy()});var i=r.x-t.x,o=r.y-t.y,a=Math.sqrt(i*i+o*o);return{x:r.x-n*i/a,y:r.y-n*o/a}};var u=function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=d(),this.next=d()},c=function(t,e,n){this.isOpen=t,this.v=e,this.pos=n};function h(t,e){return t.pos>e.pos?1:t.pos<e.pos||t.isOpen?-1:e.isOpen?1:0}function d(){return new a.RBTree(function(t,e){return t.pos-e.pos})}var p={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,r){return new l(n-r/2,n+r/2,t,e)},findNeighbours:function(t,e){var n=function(n,r){for(var i,o=e.findIter(t);null!==(i=o[n]());){var a=i.r.overlapX(t.r);if((a<=0||a<=i.r.overlapY(t.r))&&(t[n].insert(i),i[r].insert(t)),a<=0)break}};n("next","prev"),n("prev","next")}},f={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,r){return new l(t,e,n-r/2,n+r/2)},findNeighbours:function(t,e){var n=function(n,r){var i=e.findIter(t)[n]();null!==i&&i.r.overlapX(t.r)>0&&(t[n].insert(i),i[r].insert(t))};n("next","prev"),n("prev","next")}};function g(t,e,n,r){void 0===r&&(r=!1);var i=t.padding,o=void 0!==t.groups?t.groups.length:0,a=void 0!==t.leaves?t.leaves.length:0,s=o?t.groups.reduce(function(t,r){return t.concat(g(r,e,n,!0))},[]):[],l=(r?2:0)+a+o,u=new Array(l),c=new Array(l),h=0,d=function(t,e){c[h]=t,u[h++]=e};if(r){var p=t.bounds,f=e.getCentre(p),y=e.getSize(p)/2,m=e.getOpen(p),_=e.getClose(p),b=f-y+i/2,x=f+y-i/2;t.minVar.desiredPosition=b,d(e.makeRect(m,_,b,i),t.minVar),t.maxVar.desiredPosition=x,d(e.makeRect(m,_,x,i),t.maxVar)}a&&t.leaves.forEach(function(t){return d(t.bounds,t.variable)}),o&&t.groups.forEach(function(t){var n=t.bounds;d(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)});var E=v(c,u,e,n);return o&&(u.forEach(function(t){t.cOut=[],t.cIn=[]}),E.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),t.groups.forEach(function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach(function(t){return t.gap+=n}),t.minVar.cOut.forEach(function(e){e.left=t.maxVar,e.gap+=n})})),s.concat(E)}function v(t,e,n,r){var i,a=t.length,s=2*a;console.assert(e.length>=a);var l=new Array(s);for(i=0;i<a;++i){var p=t[i],f=new u(e[i],p,n.getCentre(p));l[i]=new c(!0,f,n.getOpen(p)),l[i+a]=new c(!1,f,n.getClose(p))}l.sort(h);var g=new Array,v=d();for(i=0;i<s;++i){var y=l[i];if(f=y.v,y.isOpen)v.insert(f),n.findNeighbours(f,v);else{v.remove(f);var m=function(t,e){var i=(n.getSize(t.r)+n.getSize(e.r))/2+r;g.push(new o.Constraint(t.v,e.v,i))},_=function(t,e,n){for(var r,i=f[t].iterator();null!==(r=i[t]());)n(r,f),r[e].remove(f)};_("prev","next",function(t,e){return m(t,e)}),_("next","prev",function(t,e){return m(e,t)})}}return console.assert(0===v.size),g}function y(t,e){return v(t,e,p,1e-6)}function m(t,e){return v(t,e,f,1e-6)}function _(t){return g(t,p,1e-6)}function b(t){return g(t,f,1e-6)}e.generateXConstraints=y,e.generateYConstraints=m,e.generateXGroupConstraints=_,e.generateYGroupConstraints=b,e.removeOverlaps=function(t){var e=t.map(function(t){return new o.Variable(t.cx())}),n=y(t,e),r=new o.Solver(e,n);r.solve(),e.forEach(function(e,n){return t[n].setXCentre(e.position())}),e=t.map(function(t){return new o.Variable(t.cy())}),n=m(t,e),(r=new o.Solver(e,n)).solve(),e.forEach(function(e,n){return t[n].setYCentre(e.position())})};var x=function(t){function e(e,n){var r=t.call(this,0,n)||this;return r.index=e,r}return i(e,t),e}(o.Variable);e.IndexedVariable=x;var E=function(){function t(t,e,n,r,i){var o=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1),this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=i,this.variables=t.map(function(t,e){return t.variable=new x(e,1)}),r&&this.createConstraints(r),i&&n&&void 0!==n.groups){t.forEach(function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new l(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new l(t.x,t.x,t.y,t.y)}),s(n);var a=t.length;e.forEach(function(t){o.variables[a]=t.minVar=new x(a++,void 0!==t.stiffness?t.stiffness:.01),o.variables[a]=t.maxVar=new x(a++,void 0!==t.stiffness?t.stiffness:.01)})}}return t.prototype.createSeparation=function(t){return new o.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",r="width";"x"===t.axis&&(n="y",r="height");var i=t.offsets.map(function(t){return e.nodes[t.node]}).sort(function(t,e){return t[n]-e[n]}),o=null;i.forEach(function(t){if(o){var e=o[n]+o[r];e>t[n]&&(t[n]=e)}o=t})}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var r="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(t){r.push(new o.Constraint(n,e.nodes[t.node].variable,t.offset,!0))})},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter(function(t){return"x"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),this.yConstraints=t.filter(function(t){return"y"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),t.filter(function(t){return"alignment"===t.type}).forEach(function(t){return e.createAlignment(t)})},t.prototype.setupVariablesAndBounds=function(t,e,n,r){this.nodes.forEach(function(i,o){i.fixed?(i.variable.weight=i.fixedWeight?i.fixedWeight:1e3,n[o]=r(i)):i.variable.weight=1;var a=(i.width||0)/2,s=(i.height||0)/2,u=t[o],c=e[o];i.bounds=new l(u-a,u+a,c-s,c+s)})},t.prototype.xProject=function(t,e,n){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(t,e,t,n,function(t){return t.px},this.xConstraints,_,function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.x=e-i,t.bounds.X=r+i})},t.prototype.yProject=function(t,e,n){!this.rootGroup&&!this.yConstraints||this.project(t,e,e,n,function(t){return t.py},this.yConstraints,b,function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.y=e-i,t.bounds.Y=r+i})},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,r){return t.xProject(e,n,r)},function(e,n,r){return t.yProject(e,n,r)}]},t.prototype.project=function(t,e,n,r,i,o,a,l,u){this.setupVariablesAndBounds(t,e,r,i),this.rootGroup&&this.avoidOverlaps&&(s(this.rootGroup),o=o.concat(a(this.rootGroup))),this.solve(this.variables,o,n,r),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),s(this.rootGroup))},t.prototype.solve=function(t,e,n,r){var i=new o.Solver(t,e);i.setStartingPositions(n),i.setDesiredPositions(r),i.solve()},t}();e.Projection=E},5259:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9516),i=function(t,e){this.id=t,this.distance=e},o=function(t){this.id=t,this.neighbours=[]},a=function(t,e,n){this.node=t,this.prev=e,this.d=n},s=function(){function t(t,e,n,r,a){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new o(s);for(s=this.es.length;s--;){var l=this.es[s],u=n(l),c=r(l),h=a(l);this.neighbours[u].neighbours.push(new i(c,h)),this.neighbours[c].neighbours.push(new i(u,h))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var i=new r.PriorityQueue(function(t,e){return t.d<=e.d}),o=this.neighbours[t],s=new a(o,null,0),l={};for(i.push(s);!i.empty()&&(o=(s=i.pop()).node).id!==e;)for(var u=o.neighbours.length;u--;){var c=o.neighbours[u],h=this.neighbours[c.id];if(!s.prev||h.id!==s.prev.node.id){var d=h.id+","+o.id;if(!(d in l&&l[d]<=s.d)){var p=s.prev?n(s.prev.node.id,o.id,h.id):0,f=s.d+c.distance+p;l[d]=f,i.push(new a(h,s,f))}}}for(var g=[];s.prev;)g.push((s=s.prev).node.id);return g},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new r.PriorityQueue(function(t,e){return t.d<=e.d}),i=this.neighbours.length,o=new Array(i);i--;){var a=this.neighbours[i];a.d=i===t?0:Number.POSITIVE_INFINITY,a.q=n.push(a)}for(;!n.empty();){var s=n.pop();if(o[s.id]=s.d,s.id===e){for(var l=[],u=s;void 0!==u.prev;)l.push(u.prev.id),u=u.prev;return l}for(i=s.neighbours.length;i--;){var c=s.neighbours[i],h=(u=this.neighbours[c.id],s.d+c.distance);s.d!==Number.MAX_VALUE&&u.d>h&&(u.d=h,u.prev=s,n.reduceKey(u.q,u,function(t,e){return t.q=e}))}}return o},t}();e.Calculator=s},3535:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.weight;this.AB+=n*e*(t.offset/t.scale),this.AD+=n*e*t.desiredPosition,this.A2+=n*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();e.PositionStats=n;var r=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.left=t,this.right=e,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=r}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();e.Constraint=r;var i=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,r){return n.active&&t!==r&&e(n,r)};this.cOut.forEach(function(t){return n(t,t.right)}),this.cIn.forEach(function(t){return n(t,t.left)})},t}();e.Variable=i;var o=function(){function t(t){this.vars=[],t.offset=0,this.ps=new n(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var r=this,i=t.dfdv();return t.visitNeighbours(e,function(e,o){var a=r.compute_lm(o,t,n);o===e.right?(i+=a*e.left.scale,e.lm=a):(i+=a*e.right.scale,e.lm=-a),n(e)}),i/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,function(e,r){r.offset=t.offset+(r===e.right?e.gap:-e.gap),n.addVariable(r),n.populateSplitBlock(r,t)})},t.prototype.traverse=function(t,e,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,function(r,o){e.push(t(r)),i.traverse(t,e,o,n)})},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)}),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,function(){});var n=null;return this.findPath(t,null,e,function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)}),n},t.prototype.findPath=function(t,e,n,r){var i=this,o=!1;return t.visitNeighbours(e,function(e,a){!o&&(a===n||i.findPath(a,t,n,r))&&(o=!0,r(e,a))}),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var r=t.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var r=this.findMinLMBetween(e,n);if(null!==r){var i=t.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var r=0,i=t.vars.length;r<i;++r){var o=t.vars[r];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],r=n.position()-n.desiredPosition;t+=r*r*n.weight}return t},t}();e.Block=o;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new o(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,r=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,r),this.remove(e)):(e.mergeAcross(n,t,-r),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach(function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,o.split(r).forEach(function(t){return e.insert(t)}),e.remove(n),t.push(r))})},t}();e.Blocks=a;var s=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach(function(t){t.cIn=[],t.cOut=[]}),this.cs=e,e.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),this.inactive=e.map(function(t){return t.active=!1,t}),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(t){return t.active=!1,t}),this.bs=new a(this.vs),this.bs.forEach(function(e,n){return e.posn=t[n]})},t.prototype.setDesiredPositions=function(t){this.vs.forEach(function(e,n){return e.desiredPosition=t[n]})},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,o=i,a=0;a<i;++a){var s=r[a];if(!s.unsatisfiable){var l=s.slack();if((s.equality||l<e)&&(e=l,n=s,o=a,s.equality))break}}return o!==i&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[o]=r[i-1],r.length=i-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var r=n.splitBetween(e.left,e.right);if(null===r){e.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();e.Solver=s,e.removeOverlapInOneDimension=function(t,e,n){for(var o=t.map(function(t){return new i(t.desiredCenter)}),a=[],l=t.length,u=0;u<l-1;u++)a.push(new r(o[u],o[u+1],(t[u].size+t[u+1].size)/2));var c=o[0],h=o[l-1],d=t[0].size/2,p=t[l-1].size/2,f=null,g=null;return e&&(f=new i(e,1e3*c.weight),o.push(f),a.push(new r(f,c,d))),n&&(g=new i(n,1e3*h.weight),o.push(g),a.push(new r(h,g,p))),new s(o,a).solve(),{newCenters:o.slice(0,t.length).map(function(t){return t.position()}),lowerBound:f?f.position():c.position()-d,upperBound:g?g.position():h.position()+p}}},127:function(t,e,n){"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout(()=>{throw t},0)}const s={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(r(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){t=a instanceof c?p(a.errors):[a]}}if(l(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(u(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof c?t=t.concat(p(s.errors)):t.push(s)}}}if(t)throw new c(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var d;function p(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}h.EMPTY=((d=new h).closed=!0,d);const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new v(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new v(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class v extends g{constructor(t,e,n,i){super(),this._parentSubscriber=t;let o,a=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==s&&(a=Object.create(e),r(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:function(t){return 0===t.length?m:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}(t)(this)}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends g{constructor(t){super(t),this.destination=t}}let w=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new C(this)}lift(t){const e=new L(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new L(t,e),t})();class L extends w{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function T(t){return t&&"function"==typeof t.schedule}function D(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new R(t,this.project,this.thisArg))}}class R extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const N=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function S(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const O=t=>{if(t&&"function"==typeof t[y])return(t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(I(t))return N(t);if(S(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e))(t);if(t&&"function"==typeof t[P])return(t=>e=>{const n=t[P]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=`You provided ${u(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function M(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function k(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(S(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(I(t))return M(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(O(t))}class F extends g{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends g{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function W(t,e){if(e.closed)return;if(t instanceof _)return t.subscribe(e);let n;try{n=O(t)(e)}catch(r){e.error(r)}return n}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>k(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends B{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const r=W(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function V(t=Number.POSITIVE_INFINITY){return U(m,t)}function z(t,e){return e?M(t,e):new _(N(t))}function j(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new X(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class X extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}class q extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return j()(this)}}const K=(()=>{const t=q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new w}function $(t){for(let e in t)if(t[e]===$)return e;throw Error("Could not find renamed property on target object.")}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function tt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const et=$({__forward_ref__:$});function nt(t){return t.__forward_ref__=nt,t.toString=function(){return Z(this())},t}function rt(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(et)&&t.__forward_ref__===nt}(t)?t():t}class it extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ot(t){return"string"==typeof t?t:null==t?"":String(t)}function at(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ot(t)}function st(t,e){const n=e?` in ${e}`:"";throw new it("201",`No provider for ${at(t)} found${n}`)}function lt(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function ht(t){return dt(t,ft)||dt(t,vt)}function dt(t,e){return t.hasOwnProperty(e)?t[e]:null}function pt(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(yt))?t[gt]:null}const ft=$({"\u0275prov":$}),gt=$({"\u0275inj":$}),vt=$({ngInjectableDef:$}),yt=$({ngInjectorDef:$});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let _t;function bt(t){const e=_t;return _t=t,e}function xt(t,e,n){const r=ht(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&mt.Optional?null:void 0!==e?e:void st(Z(t),"Injector")}function Et(t){return{toString:t}.toString()}var Ct=(()=>((Ct=Ct||{})[Ct.OnPush=0]="OnPush",Ct[Ct.Default=1]="Default",Ct))(),wt=(()=>((wt=wt||{})[wt.Emulated=0]="Emulated",wt[wt.None=2]="None",wt[wt.ShadowDom=3]="ShadowDom",wt))();const Lt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Dt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Rt=Lt||At||Tt||Dt,Nt={},Pt=[],It=$({"\u0275cmp":$}),St=$({"\u0275dir":$}),Ot=$({"\u0275pipe":$}),Mt=$({"\u0275mod":$}),kt=$({"\u0275loc":$}),Ft=$({"\u0275fac":$}),Bt=$({__NG_ELEMENT_ID__:$});let Wt=0;function Ut(t){return Et(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||Pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Wt++,n.inputs=jt(t.inputs,e),n.outputs=jt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Gt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ht):null,n})}function Gt(t){return Xt(t)||function(t){return t[St]||null}(t)}function Ht(t){return function(t){return t[Ot]||null}(t)}const Vt={};function zt(t){return Et(()=>{const e={type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Vt[t.id]=t.type),e})}function jt(t,e){if(null==t)return Nt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Yt=Ut;function Xt(t){return t[It]||null}function qt(t,e){const n=t[Mt]||null;if(!n&&!0===e)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return n}function Kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jt(t){return Array.isArray(t)&&!0===t[1]}function Qt(t){return 0!=(8&t.flags)}function $t(t){return 2==(2&t.flags)}function Zt(t){return 1==(1&t.flags)}function te(t){return null!==t.template}function ee(t){return 0!=(512&t[2])}function ne(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}class re{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ie(t){return t.type.prototype.ngOnChanges&&(t.setInput=ae),oe}function oe(){const t=le(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Nt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ae(t,e,n,r){const i=le(t)||function(t,e){return t[se]=e}(t,{previous:Nt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],l=a[s];o[s]=new re(l&&l.currentValue,e,a===Nt),t[r]=e}const se="__ngSimpleChanges__";function le(t){return t[se]||null}let ue;function ce(t){return!!t.listen}const he={createRenderer:(t,e)=>void 0!==ue?ue:"undefined"!=typeof document?document:void 0};function de(t){for(;Array.isArray(t);)t=t[0];return t}function pe(t,e){return de(e[t.index])}function fe(t,e){const n=e[t];return Kt(n)?n:n[0]}function ge(t){return 4==(4&t[2])}function ve(t){return 128==(128&t[2])}function ye(t,e){return null==e?null:t[e]}function me(t){t[18]=0}function _e(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const be={lFrame:Be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xe(){return be.bindingsEnabled}function Ee(){return be.lFrame.lView}function Ce(){return be.lFrame.tView}function we(){let t=Le();for(;null!==t&&64===t.type;)t=t.parent;return t}function Le(){return be.lFrame.currentTNode}function Te(t,e){const n=be.lFrame;n.currentTNode=t,n.isParent=e}function De(){return be.lFrame.isParent}function Ae(){return be.isInCheckNoChangesMode}function Re(t){be.isInCheckNoChangesMode=t}function Ne(t,e){const n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pe(e)}function Pe(t){be.lFrame.currentDirectiveIndex=t}function Ie(){return be.lFrame.currentQueryIndex}function Se(t){be.lFrame.currentQueryIndex=t}function Oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Me(t,e,n){if(n&mt.SkipSelf){let r=e,i=t;for(;!(r=r.parent,null!==r||n&mt.Host||(r=Oe(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;e=r,t=i}const r=be.lFrame=Fe();return r.currentTNode=e,r.lView=t,!0}function ke(t){const e=Fe(),n=t[1];be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Fe(){const t=be.lFrame,e=null===t?null:t.child;return null===e?Be(t):e}function Be(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function We(){const t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ue=We;function Ge(){const t=We();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function He(){return be.lFrame.selectedIndex}function Ve(t){be.lFrame.selectedIndex=t}function ze(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:a,ngOnDestroy:s}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=s&&(t.destroyHooks||(t.destroyHooks=[])).push(n,s)}}function je(t,e,n){qe(t,e,3,n)}function Ye(t,e,n,r){(3&t[2])===n&&qe(t,e,n,r)}function Xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let a=0;for(let s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Ke(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ke(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Qe(t,e,n){const r=ce(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const a=n[i++],s=n[i++],l=n[i++];r?t.setAttribute(e,s,l,a):e.setAttributeNS(a,s,l)}else{const a=o,s=n[++i];Ze(a)?r&&t.setProperty(e,a,s):r?t.setAttribute(e,a,s):e.setAttribute(a,s),i++}}return i}function $e(t){return 3===t||4===t||6===t}function Ze(t){return 64===t.charCodeAt(0)}function tn(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||en(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function en(t,e,n,r,i){let o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){a=-1;break}if(n>e){a=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function nn(t){return-1!==t}function rn(t){return 32767&t}function on(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let an=!0;function sn(t){const e=an;return an=t,e}let ln=0;function un(t,e){const n=hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cn(r.data,t),cn(e,null),cn(r.blueprint,null));const i=dn(t,e),o=t.injectorIndex;if(nn(i)){const t=rn(i),n=on(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function cn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function dn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function pn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bt)&&(r=n[Bt]),null==r&&(r=n[Bt]=ln++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function fn(t,e,n){if(n&mt.Optional)return t;st(e,"NodeInjector")}function gn(t,e,n,r){if(n&mt.Optional&&void 0===r&&(r=null),0==(n&(mt.Self|mt.Host))){const i=t[9],o=bt(void 0);try{return i?i.get(e,r,n&mt.Optional):xt(e,r,n&mt.Optional)}finally{bt(o)}}return fn(r,e,n)}function vn(t,e,n,r=mt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bt)?t[Bt]:void 0;return"number"==typeof e?e>=0?255&e:mn:e}(n);if("function"==typeof o){if(!Me(e,t,r))return r&mt.Host?fn(i,n,r):gn(e,n,r,i);try{const t=o(r);if(null!=t||r&mt.Optional)return t;st(n)}finally{Ue()}}else if("number"==typeof o){let i=null,a=hn(t,e),s=-1,l=r&mt.Host?e[16][6]:null;for((-1===a||r&mt.SkipSelf)&&(s=-1===a?dn(t,e):e[a+8],-1!==s&&Cn(r,!1)?(i=e[1],a=rn(s),e=on(s,e)):a=-1);-1!==a;){const t=e[1];if(En(o,a,t.data)){const t=_n(a,e,n,i,r,l);if(t!==yn)return t}s=e[a+8],-1!==s&&Cn(r,e[1].data[a+8]===l)&&En(o,a,e)?(i=t,a=rn(s),e=on(s,e)):a=-1}}}return gn(e,n,r,i)}const yn={};function mn(){return new wn(we(),Ee())}function _n(t,e,n,r,i,o){const a=e[1],s=a.data[t+8],l=bn(s,a,n,null==r?$t(s)&&an:r!=a&&0!=(3&s.type),i&mt.Host&&o===s);return null!==l?xn(e,a,l,s):yn}function bn(t,e,n,r,i){const o=t.providerIndexes,a=e.data,s=1048575&o,l=t.directiveStart,u=o>>20,c=i?s+u:t.directiveEnd;for(let h=r?s:s+u;h<c;h++){const t=a[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=a[l];if(t&&te(t)&&t.type===n)return l}return null}function xn(t,e,n,r){let i=t[n];const o=e.data;if(function(t){return t instanceof Je}(i)){const a=i;a.resolving&&function(t,e){throw new it("200",`Circular dependency in DI detected for ${t}`)}(at(o[n]));const s=sn(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?bt(a.injectImpl):null;Me(t,r,mt.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ie(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&bt(l),sn(s),a.resolving=!1,Ue()}}return i}function En(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Cn(t,e){return!(t&mt.Self||t&mt.Host&&e)}class wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}const Ln="__parameters__";function Tn(t,e,n){return Et(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ln)?t[Ln]:Object.defineProperty(t,Ln,{value:[]})[Ln];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Dn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const An=new Dn("AnalyzeForEntryComponents"),Rn=Function;function Nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Nn(r,e)):e!==t&&e.push(r)}return e}function Pn(t,e){t.forEach(t=>Array.isArray(t)?Pn(t,e):e(t))}function In(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const On={},Mn="__NG_DI_FLAG__",kn="ngTempTokenPath",Fn=/\n/gm,Bn="__source",Wn=$({provide:String,useValue:$});let Un;function Gn(t){const e=Un;return Un=t,e}function Hn(t,e=mt.Default){if(void 0===Un)throw new Error("inject() must be called from an injection context");return null===Un?xt(t,void 0,e):Un.get(t,e&mt.Optional?null:void 0,e)}function Vn(t,e=mt.Default){return(_t||Hn)(rt(t),e)}function zn(t){const e=[];for(let n=0;n<t.length;n++){const r=rt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=mt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=Yn(i);"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Vn(t,n))}else e.push(Vn(r))}return e}function jn(t,e){return t[Mn]=e,t.prototype[Mn]=e,t}function Yn(t){return t[Mn]}function Xn(t,e,n,r){const i=t[kn];throw e[Bn]&&i.unshift(e[Bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Z(e);if(Array.isArray(e))i=e.map(Z).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):Z(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[kn]=null,t}const qn=jn(Tn("Inject",t=>({token:t})),-1),Kn=jn(Tn("Optional"),8),Jn=jn(Tn("SkipSelf"),4),Qn="__ngContext__";function $n(t,e){t[Qn]=e}function Zn(t){const e=function(t){return t[Qn]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function tr(t){return t.ngOriginalError}function er(t,...e){t.error(...e)}class nr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(tr(t)):null}_findOriginalError(t){let e=t&&tr(t);for(;e&&tr(e);)e=tr(e);return e||null}}const rr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function ir(t){return t instanceof Function?t():t}var or=(()=>((or=or||{})[or.Important=1]="Important",or[or.DashCase=2]="DashCase",or))();function ar(t,e){return undefined(t,e)}function sr(t){const e=t[3];return Jt(e)?e[3]:e}function lr(t){return cr(t[13])}function ur(t){return cr(t[4])}function cr(t){for(;null!==t&&!Jt(t);)t=t[4];return t}function hr(t,e,n,r,i){if(null!=r){let o,a=!1;Jt(r)?o=r:Kt(r)&&(a=!0,r=r[0]);const s=de(r);0===t&&null!==n?null==i?_r(e,n,s):mr(e,n,s,i||null,!0):1===t&&null!==n?mr(e,n,s,i||null,!0):2===t?function(t,e,n){const r=xr(t,e);r&&function(t,e,n,r){ce(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){const o=n[7];o!==de(n)&&hr(e,t,r,o,i);for(let a=10;a<n.length;a++){const i=n[a];Ar(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function dr(t,e,n){return ce(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function pr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,_e(i,-1)),n.splice(r,1)}function fr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&pr(i,r),e>0&&(t[n-1][4]=r[4]);const o=Sn(t,10+e);!function(t,e){Ar(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function gr(t,e){if(!(256&e[2])){const n=e[11];ce(n)&&n.destroyNode&&Ar(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return vr(t[1],t);for(;e;){let n=null;if(Kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Kt(e)&&vr(e[1],e),e=e[3];null===e&&(e=t),Kt(e)&&vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],a="function"==typeof t?t(e):de(e[t]),s=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],s,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)r[t]();e[7]=null}}(t,e),1===e[1].type&&ce(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Jt(e[3])){n!==e[3]&&pr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function yr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===wt.None||e===wt.Emulated)return null}return pe(r,n)}(t,e.parent,n)}function mr(t,e,n,r,i){ce(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function _r(t,e,n){ce(t)?t.appendChild(e,n):e.appendChild(n)}function br(t,e,n,r,i){null!==r?mr(t,e,n,r,i):_r(t,e,n)}function xr(t,e){return ce(t)?t.parentNode(e):e.parentNode}let Er=function(t,e,n){return 40&t.type?pe(t,n):null};function Cr(t,e,n,r){const i=yr(t,r,e),o=e[11],a=function(t,e,n){return Er(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let s=0;s<n.length;s++)br(o,i,n[s],a,!1);else br(o,i,n,a,!1)}function wr(t,e){if(null!==e){const n=e.type;if(3&n)return pe(e,t);if(4&n)return Tr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return wr(t,n);{const n=t[e.index];return Jt(n)?Tr(-1,n):de(n)}}if(32&n)return ar(e,t)()||de(t[e.index]);{const n=Lr(t,e);return null!==n?Array.isArray(n)?n[0]:wr(sr(t[16]),n):wr(t,e.next)}}return null}function Lr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Tr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return wr(t,r)}return e[7]}function Dr(t,e,n,r,i,o,a){for(;null!=n;){const s=r[n.index],l=n.type;if(a&&0===e&&(s&&$n(de(s),r),n.flags|=4),64!=(64&n.flags))if(8&l)Dr(t,e,n.child,r,i,o,!1),hr(e,t,i,s,o);else if(32&l){const a=ar(n,r);let l;for(;l=a();)hr(e,t,i,l,o);hr(e,t,i,s,o)}else 16&l?Rr(t,e,r,n,i,o):hr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Ar(t,e,n,r,i,o){Dr(n,r,t.firstChild,e,i,o,!1)}function Rr(t,e,n,r,i,o){const a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(let l=0;l<s.length;l++)hr(e,t,i,s[l],o);else Dr(t,e,s,a[3],i,o,!0)}function Nr(t,e,n){ce(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pr(t,e,n){ce(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Ir(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Sr="ng-template";function Or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ir(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Mr(t){return 4===t.type&&t.value!==Sr}function kr(t,e,n){return e===(4!==t.type||n?t.value:Sr)}function Fr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if($e(t[e]))return e;return t.length}(i);let a=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!kr(t,l,n)||""===l&&1===e.length){if(Br(r))return!1;a=!0}}else{const u=8&r?l:e[++s];if(8&r&&null!==t.attrs){if(!Or(t.attrs,u,n)){if(Br(r))return!1;a=!0}continue}const c=Wr(8&r?"class":l,i,Mr(t),n);if(-1===c){if(Br(r))return!1;a=!0;continue}if(""!==u){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Ir(e,u,0)||2&r&&u!==t){if(Br(r))return!1;a=!0}}}}else{if(!a&&!Br(r)&&!Br(l))return!1;if(a&&Br(l))continue;a=!1,r=l|1&r}}return Br(r)||a}function Br(t){return 0==(1&t)}function Wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ur(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fr(t,e[r],n))return!0;return!1}function Gr(t,e){return t?":not("+e.trim()+")":e}function Hr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const e=t[++n];i+="["+a+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Br(a)&&(e+=Gr(o,i),i=""),r=a,o=o||!Br(r);n++}return""!==i&&(e+=Gr(o,i)),e}const Vr={};function zr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&je(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ye(e,r,0,n)}Ve(n)}function jr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Se(i),n.contentQueries(2,e[o],o)}}}function Yr(t,e,n,r,i,o,a,s,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,me(c),c[3]=c[15]=t,c[8]=n,c[10]=a||t&&t[10],c[11]=s||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function Xr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Le(),a=De(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),be.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Te(o,!0),o}function qr(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Kr(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&_i(1,r,n);const i=t.template;null!==i&&$r(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jr(t,e),t.staticViewQueries&&_i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ge()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const o=Ae();try{me(e),function(t){be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$r(t,e,n,2,r);const a=3==(3&i);if(!o)if(a){const n=t.preOrderCheckHooks;null!==n&&je(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ye(e,n,0,null),Xe(e,0)}if(function(t){for(let e=lr(t);null!==e;e=ur(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&_e(r,1),n[2]|=1024}}}(e),function(t){for(let e=lr(t);null!==e;e=ur(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ve(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&jr(t,e),!o)if(a){const n=t.contentCheckHooks;null!==n&&je(e,n)}else{const n=t.contentHooks;null!==n&&Ye(e,n,1),Xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ve(~r);else{const i=r,o=n[++t],a=n[++t];Ne(o,i),a(2,e[i])}}}finally{Ve(-1)}}(t,e);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)di(t,e[n])}(e,s);const l=t.viewQuery;if(null!==l&&_i(2,l,r),!o)if(a){const n=t.viewCheckHooks;null!==n&&je(e,n)}else{const n=t.viewHooks;null!==n&&Ye(e,n,2),Xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,_e(e[3],-1))}finally{Ge()}}function Qr(t,e,n,r){const i=e[10],o=!Ae(),a=ge(e);try{o&&!a&&i.begin&&i.begin(),a&&Kr(t,e,r),Jr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function $r(t,e,n,r,i){const o=He(),a=2&r;try{Ve(-1),a&&e.length>20&&zr(t,e,20,Ae()),n(r,i)}finally{Ve(o)}}function Zr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ti(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ti(t,e,n,r,i,o,a,s,l,u){const c=20+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vr);return n}(c,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function ei(t,e,n,r){const i=xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ei(t).push(r,i.length-1))}function ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ri(t,e,n,r,i,o){const a=o.hostBindings;if(a){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,a)}}function ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;te(e)&&(n[""]=t)}}function si(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ne(i.type)),a=new Je(o,te(i),null);t.blueprint[r]=a,n[r]=a,ri(t,e,0,r,qr(t,n,i.hostVars,Vr),i)}function ui(t,e,n){const r=pe(e,t),i=Zr(n),o=t[10],a=gi(t,Yr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function ci(t,e,n,r,i,o){const a=o[e];if(null!==a){const t=r.setInput;for(let e=0;e<a.length;){const i=a[e++],o=a[e++],s=a[e++];null!==t?r.setInput(n,s,i,o):n[o]=s}}}function hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function di(t,e){const n=fe(e,t);if(ve(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&pi(n)}}function pi(t){for(let n=lr(t);null!==n;n=ur(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Jr(t,e,t.template,e[8])}else e[5]>0&&pi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=fe(e[n],t);ve(r)&&r[5]>0&&pi(r)}}function fi(t,e){const n=fe(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Kr(r,n,n[8])}function gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vi(t){for(;t;){t[2]|=64;const e=sr(t);if(ee(t)&&!e)return t;t=e}return null}function yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ci(e,i),i}finally{r.end&&r.end()}}function mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Zn(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function _i(t,e,n){Se(0),e(t,n)}const bi=(()=>Promise.resolve(null))();function xi(t){return t[7]||(t[7]=[])}function Ei(t){return t.cleanup||(t.cleanup=[])}function Ci(t,e){const n=t[9],r=n?n.get(nr,null):null;r&&r.handleError(e)}function wi(t,e,n){const r=function(t,e){return de(e[t])}(e,t);!function(t,e,n){ce(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Li(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const t=e[a];"number"==typeof t?o=t:1==o?i=tt(i,t):2==o&&(r=tt(r,t+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ti=new Dn("INJECTOR",-1);class Di{get(t,e=On){if(e===On){const e=new Error(`NullInjectorError: No provider for ${Z(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ai=new Dn("Set Injector scope."),Ri={},Ni={};let Pi;function Ii(){return void 0===Pi&&(Pi=new Di),Pi}function Si(t,e=null,n=null,r){return new Oi(t,n,e||Ii(),r)}class Oi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Pn(e,n=>this.processProvider(n,t,e)),Pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ti,ki(void 0,this));const o=this.records.get(Ai);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:Z(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=On,n=mt.Default){this.assertNotDestroyed();const r=Gn(this),i=bt(void 0);try{if(!(n&mt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Dn}(t)&&ht(t);e=n&&this.injectableDefInScope(n)?ki(Mi(t),Ri):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&mt.Self?Ii():this.parent).get(t,e=n&mt.Optional&&e===On?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[kn]=o[kn]||[]).unshift(Z(t)),r)throw o;return Xn(o,t,"R3InjectorError",this.source)}throw o}finally{bt(i),Gn(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(Z(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=rt(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=-1!==n.indexOf(o);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(null!=r.imports&&!a){let t;n.push(o);try{Pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Pn(r,t=>this.processProvider(t,n,r||Pt))}}this.injectorDefTypes.add(o);const s=ne(o)||(()=>new o);this.records.set(o,ki(s,Ri));const l=r.providers;if(null!=l&&!a){const e=t;Pn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Bi(t=rt(t))?t:rt(t&&t.provide);const i=function(t,e,n){return Fi(t)?ki(void 0,t.useValue):ki(function(t,e,n){let r;if(Bi(t)){const e=rt(t);return ne(e)||Mi(e)}if(Fi(t))r=()=>rt(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...zn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Vn(rt(t.useExisting));else{const e=rt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ne(e)||Mi(e);r=()=>new e(...zn(t.deps))}return r}(t),Ri)}(t);if(Bi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ki(void 0,Ri,!0),e.factory=()=>zn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){return e.value===Ri&&(e.value=Ni,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=rt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Mi(t){const e=ht(t),n=null!==e?e.factory:ne(t);if(null!==n)return n;if(t instanceof Dn)throw new Error(`Token ${Z(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${Z(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[vt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fi(t){return null!==t&&"object"==typeof t&&Wn in t}function Bi(t){return"function"==typeof t}const Wi=function(t,e,n){return function(t,e=null,n=null,r){const i=Si(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ui=(()=>{class t{static create(t,e){return Array.isArray(t)?Wi(t,e,""):Wi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=On,t.NULL=new Di,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Vn(Ti)}),t.__NG_ELEMENT_ID__=-1,t})();function Gi(t,e){ze(Zn(t)[1],we())}let Hi=null;function Vi(){if(!Hi){const t=Rt.Symbol;if(t&&t.iterator)Hi=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Hi=n)}}}return Hi}function zi(t){return!!ji(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vi()in t)}function ji(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yi(t,e,n,r){return function(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(t,be.lFrame.bindingIndex++,n)?e+ot(n)+r:Vr}function Xi(t,e=mt.Default){const n=Ee();return null===n?Vn(t,e):vn(we(),n,rt(t),e)}function qi(t,e,n,r,i){const o=i?"class":"style";!function(t,e,n,r,i){for(let o=0;o<n.length;){const a=n[o++],s=n[o++],l=e[a],u=t.data[a];null!==u.setInput?u.setInput(l,i,r,s):l[s]=i}}(t,n,e.inputs[o],o,r)}function Ki(t,e,n,r){const i=Ee(),o=Ce(),a=20+t,s=i[11],l=i[a]=dr(s,e,be.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,a){const s=e.consts,l=Xr(e,t,2,i,ye(s,o));return function(t,e,n,r){let i=!1;if(xe()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];Ur(n,a.selectors,!1)&&(i||(i=[]),pn(un(n,e),t,a.type),te(a)?(oi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,si(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,s=!1,l=qr(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=tn(n.mergedAttrs,u.hostAttrs),li(t,n,e,l,u),ai(l,u,a),null!==u.contentQueries&&(n.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=128);const c=u.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),!s&&(c.ngOnChanges||c.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),s=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let a=null,s=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,u=null===i||Mr(e)?null:hi(n,i);o.push(u),a=ni(n,l,a),s=ni(t.outputs,l,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new it("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,a)}n.mergedAttrs=tn(n.mergedAttrs,n.attrs)}(e,n,l,ye(s,a)),null!==l.attrs&&Li(l,l.attrs,!1),null!==l.mergedAttrs&&Li(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(a,o,i,0,e,n,r):o.data[a];Te(u,!0);const c=u.mergedAttrs;null!==c&&Qe(s,l,c);const h=u.classes;null!==h&&Pr(s,l,h);const d=u.styles;null!==d&&Nr(s,l,d),64!=(64&u.flags)&&Cr(o,i,l,u),0===be.lFrame.elementDepthCount&&$n(l,i),be.lFrame.elementDepthCount++,Zt(u)&&(function(t,e,n){!xe()||(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||un(n,e),$n(r,e);const a=n.initialInputs;for(let s=i;s<o;s++){const r=t.data[s],o=te(r);o&&ui(e,n,r);const l=xn(e,t,s,n);$n(l,e),null!==a&&ci(0,s-i,l,r,0,a),o&&(fe(n.index,e)[8]=l)}}(t,e,n,pe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=be.lFrame.currentDirectiveIndex;try{Ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Pe(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&ii(r,i)}}finally{Ve(-1),Pe(a)}}(t,e,n))}(o,i,u),function(t,e,n){if(Qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,u,i)),null!==r&&function(t,e,n=pe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}}(i,u)}function Ji(){let t=we();De()?be.lFrame.isParent=!1:(t=t.parent,Te(t,!1));const e=t;be.lFrame.elementDepthCount--;const n=Ce();n.firstCreatePass&&(ze(n,t),Qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qi(n,e,Ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qi(n,e,Ee(),e.stylesWithoutHost,!1)}function Qi(t,e,n,r){Ki(t,e,n,r),Ji()}function $i(t){return!!t&&"function"==typeof t.then}const Zi=function(t){return!!t&&"function"==typeof t.subscribe};function to(t,e,n,r){const i=Ee(),o=Ce(),a=we();return function(t,e,n,r,i,o,a,s){const l=Zt(r),u=t.firstCreatePass&&Ei(t),c=e[8],h=xi(e);let d=!0;if(3&r.type||s){const p=pe(r,e),f=s?s(p):p,g=h.length,v=s?t=>s(de(t[r.index])):r.index;if(ce(n)){let a=null;if(!s&&l&&(a=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==a)(a.__ngLastListenerFn__||a).__ngNextListenerFn__=o,a.__ngLastListenerFn__=o,d=!1;else{o=no(r,e,c,o,!1);const t=n.listen(f,i,o);h.push(o,t),u&&u.push(i,v,g,g+1)}}else o=no(r,e,c,o,!0),f.addEventListener(i,o,a),h.push(o),u&&u.push(i,v,g,a)}else o=no(r,e,c,o,!1);const p=r.outputs;let f;if(d&&null!==p&&(f=p[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),a=h.length;h.push(o,t),u&&u.push(i,r.index,a,-(a+1))}}}(o,i,i[11],a,t,e,!!n,r),to}function eo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ci(t,i),!1}}function no(t,e,n,r,i){return function n(o){if(o===Function)return r;const a=2&t.flags?fe(t.index,e):e;0==(32&e[2])&&vi(a);let s=eo(e,0,r,o),l=n.__ngNextListenerFn__;for(;l;)s=eo(e,0,l,o)&&s,l=l.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ro(t,e=""){const n=Ee(),r=Ce(),i=t+20,o=r.firstCreatePass?Xr(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return ce(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Cr(r,n,a,o),Te(o,!1)}function io(t){return oo("",t,""),io}function oo(t,e,n){const r=Ee(),i=Yi(r,t,e,n);return i!==Vr&&wi(r,He(),i),oo}const ao=void 0;var so=["en",[["a","p"],["AM","PM"],ao],[["AM","PM"],ao,ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ao,"{1} 'at' {0}",ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let lo={};function uo(t){return t in lo||(lo[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),lo[t]}var co=(()=>((co=co||{})[co.LocaleId=0]="LocaleId",co[co.DayPeriodsFormat=1]="DayPeriodsFormat",co[co.DayPeriodsStandalone=2]="DayPeriodsStandalone",co[co.DaysFormat=3]="DaysFormat",co[co.DaysStandalone=4]="DaysStandalone",co[co.MonthsFormat=5]="MonthsFormat",co[co.MonthsStandalone=6]="MonthsStandalone",co[co.Eras=7]="Eras",co[co.FirstDayOfWeek=8]="FirstDayOfWeek",co[co.WeekendRange=9]="WeekendRange",co[co.DateFormat=10]="DateFormat",co[co.TimeFormat=11]="TimeFormat",co[co.DateTimeFormat=12]="DateTimeFormat",co[co.NumberSymbols=13]="NumberSymbols",co[co.NumberFormats=14]="NumberFormats",co[co.CurrencyCode=15]="CurrencyCode",co[co.CurrencySymbol=16]="CurrencySymbol",co[co.CurrencyName=17]="CurrencyName",co[co.Currencies=18]="Currencies",co[co.Directionality=19]="Directionality",co[co.PluralCase=20]="PluralCase",co[co.ExtraData=21]="ExtraData",co))();const ho="en-US";let po=ho;function fo(t){lt(t,"Expected localeId to be defined"),"string"==typeof t&&(po=t.toLowerCase().replace(/_/g,"-"))}class go{}const vo="ngComponent";class yo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return e[vo]=t,e}(t)}}let mo=(()=>{class t{}return t.NULL=new yo,t})();function _o(...t){}function bo(t,e){return new Eo(pe(t,e))}const xo=function(){return bo(we(),Ee())};let Eo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=xo,t})();function Co(t){return t instanceof Eo?t.nativeElement:t}class wo{}let Lo=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class To{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Do=new To("12.2.8");class Ao{constructor(){}supports(t){return zi(t)}create(t){return new No(t)}}const Ro=(t,e)=>e;class No{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ro}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Oo(n,r,i)?e:n,a=Oo(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=a-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}a!==s&&t(o,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!zi(t))throw new Error(`Error trying to diff '${Z(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Vi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Po(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new So),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new So),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Po{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Io{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class So{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Io,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Mo{constructor(){}supports(t){return t instanceof Map||ji(t)}create(){return new ko}}class ko{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ji(t)))throw new Error(`Error trying to diff '${Z(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Fo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Fo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bo(){return new Wo([new Ao])}let Wo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Bo()),deps:[[t,new Jn,new Kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(t){return t.name||typeof t}(t)}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:Bo}),t})();function Uo(){return new Go([new Mo])}let Go=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Uo()),deps:[[t,new Jn,new Kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:Uo}),t})();function Ho(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(de(o)),Jt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ho(e[1],e,n,r)}const a=n.type;if(8&a)Ho(t,e,n.child,r);else if(32&a){const t=ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&a){const t=Lr(e,n);if(Array.isArray(t))r.push(...t);else{const n=sr(e[16]);Ho(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Vo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ho(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Jt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(fr(t,n),Sn(e,n))}this._attachedToViewContainer=!1}gr(this._lView[1],this._lView)}onDestroy(t){ei(this._lView[1],this._lView,null,t)}markForCheck(){vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Re(!0);try{yi(t,e,n)}finally{Re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){Ar(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class zo extends Vo{constructor(t){super(t),this._view=t}detectChanges(){mi(this._view)}checkNoChanges(){!function(t){Re(!0);try{mi(t)}finally{Re(!1)}}(this._view)}get context(){return null}}const jo=function(t){return function(t,e,n){if($t(t)&&!n){const n=fe(t.index,e);return new Vo(n,n)}return 47&t.type?new Vo(e[16],e):null}(we(),Ee(),16==(16&t))};let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=jo,t})();const Xo=[new Mo],qo=new Wo([new Ao]),Ko=new Go(Xo),Jo=function(){return ta(we(),Ee())};let Qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=Jo,t})();const $o=Qo,Zo=class extends $o{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Kr(e,n,t),new Vo(n)}};function ta(t,e){return 4&t.type?new Zo(e,t,bo(t,e)):null}class ea{}class na{}const ra=function(){return ua(we(),Ee())};let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=ra,t})();const oa=ia,aa=class extends oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return bo(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const t=dn(this._hostTNode,this._hostLView);if(nn(t)){const e=on(t,this._hostLView),n=rn(t);return new wn(e[1].data[n+8],e)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ea,null);t&&(i=t)}const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){const n=t._lView,r=n[1];if(function(t){return Jt(t[3])}(n)){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new aa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],In(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const a=e[17];null!==a&&n!==a&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);const s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,o,i);const a=Tr(i,o),s=n[11],l=xr(s,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ar(t,r,n,1,i,o)}(r,o[6],s,n,l,a),t.attachToViewContainerRef(),In(la(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=fr(this._lContainer,e);n&&(Sn(la(this._lContainer),e),gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=fr(this._lContainer,e);return n&&null!=Sn(la(this._lContainer),e)?new Vo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function sa(t){return t[8]}function la(t){return t[8]||(t[8]=[])}function ua(t,e){let n;const r=e[t.index];if(Jt(r))n=r;else{let i;if(8&t.type)i=de(r);else{const n=e[11];i=n.createComment("");const r=pe(t,e);mr(n,xr(n,r),i,function(t,e){return ce(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=function(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}(r,e,i,t),gi(e,n)}return new aa(n,t,e)}const ca={};class ha extends mo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new fa(e,this.ngModule)}}function da(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const pa=new Dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rr});class fa extends go{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(t){return t.map(Hr).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return da(this.componentDef.inputs)}get outputs(){return da(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ca,i);return o!==ca||r===ca?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(wo,he),a=i.get(Lo,null),s=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(ce(t))return t.selectRootElement(e,n===wt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(s,n,this.componentDef.encapsulation):dr(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||rr,clean:bi,playerHandler:e||null,flags:0}}(),d=ti(0,null,null,1,0,null,null,null,null,null),p=Yr(null,d,h,c,null,null,o,s,a,i);let f,g;ke(p);try{const t=function(t,e,n,r,i,o){const a=n[1];n[20]=t;const s=Xr(a,20,2,"#host",null),l=s.mergedAttrs=e.hostAttrs;null!==l&&(Li(s,l,!0),null!==t&&(Qe(i,t,l),null!==s.classes&&Pr(i,t,s.classes),null!==s.styles&&Nr(i,t,s.styles)));const u=r.createRenderer(t,e),c=Yr(n,Zr(e),null,e.onPush?64:16,n[20],s,r,u,o||null,null);return a.firstCreatePass&&(pn(un(s,n),a,e.type),oi(a,s),si(s,n.length,1)),gi(n,c),n[20]=c}(u,this.componentDef,p,o,s);if(u)if(n)Qe(s,u,["ng-version",Do.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Br(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Qe(s,u,t),e&&e.length>0&&Pr(s,u,e.join(" "))}if(g=function(t,e){return t.data[e]}(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],a=function(t,e,n){const r=we();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),li(t,r,e,qr(t,e,1,null),n));const i=xn(e,t,r.directiveStart,r);$n(i,e);const o=pe(r,e);return o&&$n(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(t=>t(a,e)),e.contentQueries){const t=we();e.contentQueries(1,a,t.directiveStart)}const s=we();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ve(s.index),ri(n[1],s,0,s.directiveStart,s.directiveEnd,e),ii(e,a)),a}(t,this.componentDef,p,h,[Gi]),Kr(d,p,null)}finally{Ge()}return new ga(this.componentType,f,bo(g,p),p,g)}}class ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new zo(r),this.componentType=t}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const va=new Map;class ya extends ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ha(this);const n=qt(t),r=function(t){return t[kt]||null}(t);r&&fo(r),this._bootstrapComponents=ir(n.bootstrap),this._r3Injector=Si(t,e,[{provide:ea,useValue:this},{provide:mo,useValue:this.componentFactoryResolver}],Z(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ui.THROW_IF_NOT_FOUND,n=mt.Default){return t===Ui||t===ea||t===Ti?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ma extends na{constructor(t){super(),this.moduleType=t,null!==qt(t)&&function(t){const e=new Set;!function t(n){const r=qt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Z(e)} vs ${Z(e.name)}`)}(i,va.get(i),n),va.set(i,n));const o=ir(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(t)}(t)}create(t){return new ya(this.moduleType,t)}}function _a(t){return e=>{setTimeout(t,void 0,e)}}const ba=class extends w{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let a=t,s=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),s=null===(i=e.error)||void 0===i?void 0:i.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(s=_a(s),a&&(a=_a(a)),l&&(l=_a(l)));const u=super.subscribe({next:a,error:s,complete:l});return t instanceof h&&t.add(u),u}};function xa(){return this._results[Vi()]()}class Ea{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vi(),n=Ea.prototype;n[e]||(n[e]=xa)}get changes(){return this._changes||(this._changes=new ba)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ca{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ca(this.queryList)}setDirty(){this.queryList.setDirty()}}class wa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new wa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Oa(t,e).matches&&this.queries[e].setDirty()}}class La{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ta{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ta(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Da{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Da(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Aa(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===Qo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Eo||r===ia||r===Qo&&4&e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Aa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ra(t,e,n,r){return-1===n?function(t,e){return 11&t.type?bo(t,e):4&t.type?ta(t,e):null}(e,t):-2===n?function(t,e,n){return n===Eo?bo(e,t):n===Qo?ta(e,t):n===ia?ua(e,t):void 0}(t,e,r):xn(t,t[1],n,e)}function Na(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,a=[];for(let t=0;t<o.length;t+=2){const i=o[t];a.push(i<0?null:Ra(e,r[i],o[t+1],n.metadata.read))}i.matches=a}return i.matches}function Pa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const a=Na(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(a[t/2]);else{const i=o[t+1],a=e[-n];for(let t=10;t<a.length;t++){const e=a[t];e[17]===e[3]&&Pa(e[1],e,i,r)}if(null!==a[9]){const t=a[9];for(let e=0;e<t.length;e++){const n=t[e];Pa(n[1],n,i,r)}}}}}return r}function Ia(t){const e=Ee(),n=Ce(),r=Ie();Se(r+1);const i=Oa(n,r);if(t.dirty&&ge(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Pa(n,e,r,[]):Na(n,e,i,r);t.reset(o,Co),t.notifyOnChanges()}return!0}return!1}function Sa(t,e,n){const r=Ce();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ta),t.queries.track(new Da(e,n))}(r,new La(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new Ea(4==(4&n));ei(t,e,r,r.destroy),null===e[19]&&(e[19]=new wa),e[19].queries.push(new Ca(r))}(r,Ee(),e)}function Oa(t,e){return t.queries.getByIndex(e)}const Ma=new Dn("Application Initializer");let ka=(()=>{class t{constructor(t){this.appInits=t,this.resolve=_o,this.reject=_o,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if($i(e))t.push(e);else if(Zi(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Vn(Ma,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Fa=new Dn("AppId"),Ba={provide:Fa,useFactory:function(){return`${Wa()}${Wa()}${Wa()}`},deps:[]};function Wa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ua=new Dn("Platform Initializer"),Ga=new Dn("Platform ID"),Ha=new Dn("appBootstrapListener");let Va=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const za=new Dn("LocaleId"),ja=new Dn("DefaultCurrencyCode");class Ya{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Xa=function(t){return new ma(t)},qa=Xa,Ka=function(t){return Promise.resolve(Xa(t))},Ja=function(t){const e=Xa(t),n=ir(qt(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new fa(n)),t},[]);return new Ya(e,n)},Qa=Ja,$a=function(t){return Promise.resolve(Ja(t))};let Za=(()=>{class t{constructor(){this.compileModuleSync=qa,this.compileModuleAsync=Ka,this.compileModuleAndAllComponentsSync=Qa,this.compileModuleAndAllComponentsAsync=$a}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ts=(()=>Promise.resolve(0))();function es(t){"undefined"==typeof Zone?ts.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ns{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Rt.requestAnimationFrame,e=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,os(t),t.isCheckStableRunning=!0,is(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),os(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,a,s)=>{try{return as(t),n.invokeTask(i,o,a,s)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ss(t)}},onInvoke:(n,r,i,o,a,s,l)=>{try{return as(t),n.invoke(i,o,a,s,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ss(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,os(t),is(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,rs,_o,_o);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const rs={};function is(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function os(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function as(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ss(t){t._nesting--,is(t)}class ls{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let us=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),es(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())es(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Vn(ns))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),cs=(()=>{class t{constructor(){this._applications=new Map,ds.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ds.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class hs{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ds=new hs,ps=!0,fs=!1;let gs;const vs=new Dn("AllowMultipleToken");class ys{constructor(t,e){this.name=t,this.token=e}}function ms(t,e,n=[]){const r=`Platform: ${e}`,i=new Dn(r);return(e=[])=>{let o=_s();if(!o||o.injector.get(vs,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ai,useValue:"platform"});!function(t){if(gs&&!gs.destroyed&&!gs.injector.get(vs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gs=t.get(bs);const e=t.get(Ua,null);e&&e.forEach(t=>t())}(Ui.create({providers:t,name:r}))}return function(t){const e=_s();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _s(){return gs&&!gs.destroyed?gs:null}let bs=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ls:("zone.js"===t?void 0:t)||new ns({enableLongStackTrace:(fs=!0,ps),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:ns,useValue:n}];return n.run(()=>{const i=Ui.create({providers:r,parent:this.injector,name:t.moduleType.name}),o=t.create(i),a=o.injector.get(nr,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{a.handleError(t)}});o.onDestroy(()=>{Cs(this._modules,o),t.unsubscribe()})}),function(t,n,r){try{const e=r();return $i(e)?e.catch(e=>{throw n.runOutsideAngular(()=>t.handleError(e)),e}):e}catch(e){throw n.runOutsideAngular(()=>t.handleError(e)),e}}(a,n,()=>{const t=o.injector.get(ka);return t.runInitializers(),t.donePromise.then(()=>(fo(o.injector.get(za,ho)||ho),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=xs({},e);return function(t,e,n){const r=new ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Es);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Z(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Vn(Ui))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function xs(t,e){return Array.isArray(e)?e.reduce(xs,t):Object.assign(Object.assign({},t),e)}let Es=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ns.assertNotInAngularZone(),es(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return T(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:V(e)(z(t,n))}(o,a.pipe(t=>j()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,K);return r.source=e,r.subjectFactory=n,r}}(Q)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof go?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(ea),i=n.create(Ui.NULL,[],e||n.selector,r),o=i.location.nativeElement,a=i.injector.get(us,null),s=a&&i.injector.get(cs);return a&&s&&s.registerApplication(o,a),i.onDestroy(()=>{this.detachView(i.hostView),Cs(this.components,i),s&&s.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Cs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ha,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Vn(ns),Vn(Ui),Vn(nr),Vn(mo),Vn(ka))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Cs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ws{}class Ls{}const Ts={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ds=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ts}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>As(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>As(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Vn(Za),Vn(Ls,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function As(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Rs=ms(null,"core",[{provide:Ga,useValue:"unknown"},{provide:bs,deps:[Ui]},{provide:cs,deps:[]},{provide:Va,deps:[]}]),Ns=[{provide:Es,useClass:Es,deps:[ns,Ui,nr,mo,ka]},{provide:pa,deps:[ns],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ka,useClass:ka,deps:[[new Kn,Ma]]},{provide:Za,useClass:Za,deps:[]},Ba,{provide:Wo,useFactory:function(){return qo},deps:[]},{provide:Go,useFactory:function(){return Ko},deps:[]},{provide:za,useFactory:function(t){return fo(t=t||"undefined"!=typeof $localize&&$localize.locale||ho),t},deps:[[new qn(za),new Kn,new Jn]]},{provide:ja,useValue:"USD"}];let Ps=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Vn(Es))},t.\u0275mod=zt({type:t}),t.\u0275inj=ct({providers:Ns}),t})(),Is=null;function Ss(){return Is}const Os=new Dn("DocumentToken");let Ms=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:ks,token:t,providedIn:"platform"}),t})();function ks(){return Vn(Bs)}const Fs=new Dn("Location Initialized");let Bs=(()=>{class t extends Ms{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ss().getBaseHref(this._doc)}onPopState(t){const e=Ss().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Ss().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ws()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ws()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Vn(Os))},t.\u0275prov=ut({factory:Us,token:t,providedIn:"platform"}),t})();function Ws(){return!!window.history.pushState}function Us(){return new Bs(Vn(Os))}function Gs(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Hs(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Vs(t){return t&&"?"!==t[0]?"?"+t:t}let zs=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:js,token:t,providedIn:"root"}),t})();function js(t){const e=Vn(Os).location;return new Xs(Vn(Ms),e&&e.origin||"")}const Ys=new Dn("appBaseHref");let Xs=(()=>{class t extends zs{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gs(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Vs(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Vs(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Vs(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Vn(Ms),Vn(Ys,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),qs=(()=>{class t extends zs{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Gs(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Vs(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Vs(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Vn(Ms),Vn(Ys,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ks=(()=>{class t{constructor(t,e){this._subject=new ba,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Hs(Qs(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Vs(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Qs(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Vn(zs),Vn(Ms))},t.normalizeQueryParams=Vs,t.joinWithSlash=Gs,t.stripTrailingSlash=Hs,t.\u0275prov=ut({factory:Js,token:t,providedIn:"root"}),t})();function Js(){return new Ks(Vn(zs),Vn(Ms))}function Qs(t){return t.replace(/\/index.html$/,"")}var $s=(()=>(($s=$s||{})[$s.Zero=0]="Zero",$s[$s.One=1]="One",$s[$s.Two=2]="Two",$s[$s.Few=3]="Few",$s[$s.Many=4]="Many",$s[$s.Other=5]="Other",$s))();const Zs=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=uo(e);if(n)return n;const r=e.split("-")[0];if(n=uo(r),n)return n;if("en"===r)return so;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[co.PluralCase]};class tl{}let el=(()=>{class t extends tl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(Zs(e||this.locale)(t)){case $s.Zero:return"zero";case $s.One:return"one";case $s.Two:return"two";case $s.Few:return"few";case $s.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Vn(za))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=ct({providers:[{provide:tl,useClass:el}]}),t})();let rl=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new il(Vn(Os),window)}),t})();class il{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ol(this.window.history)||ol(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ol(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class al extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Is||(Is=t)}(new al)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null);return null==e?null:function(t){sl=sl||document.createElement("a"),sl.setAttribute("href",t);const e=sl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let sl,ll=null;const ul=new Dn("TRANSITION_ID"),cl=[{provide:Ma,useFactory:function(t,e,n){return()=>{n.get(ka).donePromise.then(()=>{const n=Ss(),r=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let t=0;t<r.length;t++)n.remove(r[t])})}},deps:[ul,Os,Ui],multi:!0}];class hl{static init(){!function(t){ds=t}(new hl)}addToWindow(t){Rt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rt.getAllAngularRootElements=()=>t.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(t=>{const e=Rt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ss().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let dl=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const pl=new Dn("EventManagerPlugins");let fl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Vn(pl),Vn(ns))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class gl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ss().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let vl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),yl=(()=>{class t extends vl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(ml),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ml))}}return t.\u0275fac=function(e){return new(e||t)(Vn(Os))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ml(t){Ss().remove(t)}const _l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bl=/%COMP%/g;function xl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xl(t,i,n):(i=i.replace(bl,t),n.push(i))}return n}function El(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new wl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ll(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case wt.ShadowDom:return new Tl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=xl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Vn(fl),Vn(yl),Vn(Fa))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class wl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(_l[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=_l[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=_l[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(or.DashCase|or.Important)?t.style.setProperty(e,n,r&or.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&or.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,El(n)):this.eventManager.addEventListener(t,e,El(n))}}class Ll extends wl{constructor(t,e,n,r){super(t),this.component=n;const i=xl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(bl,t)}(r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(bl,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Tl extends wl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=xl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Dl=(()=>{class t extends gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Vn(Os))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Al=["alt","control","meta","shift"],Rl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Il=(()=>{class t extends gl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ss().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Al.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Nl.hasOwnProperty(e)&&(e=Nl[e]))}return Rl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Al.forEach(r=>{r!=n&&Pl[r](t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Vn(Os))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Sl=ms(Rs,"browser",[{provide:Ga,useValue:"browser"},{provide:Ua,useValue:function(){al.makeCurrent(),hl.init()},multi:!0},{provide:Os,useFactory:function(){return function(t){ue=t}(document),document},deps:[]}]),Ol=[[],{provide:Ai,useValue:"root"},{provide:nr,useFactory:function(){return new nr},deps:[]},{provide:pl,useClass:Dl,multi:!0,deps:[Os,ns,Ga]},{provide:pl,useClass:Il,multi:!0,deps:[Os]},[],{provide:Cl,useClass:Cl,deps:[fl,yl,Fa]},{provide:wo,useExisting:Cl},{provide:vl,useExisting:yl},{provide:yl,useClass:yl,deps:[Os]},{provide:us,useClass:us,deps:[ns]},{provide:fl,useClass:fl,deps:[pl,ns]},{provide:class{},useClass:dl,deps:[]},[]];let Ml=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Fa,useValue:e.appId},{provide:ul,useExisting:Fa},cl]}}}return t.\u0275fac=function(e){return new(e||t)(Vn(t,12))},t.\u0275mod=zt({type:t}),t.\u0275inj=ct({providers:Ol,imports:[nl,Ps]}),t})();function kl(...t){let e=t[t.length-1];return T(e)?(t.pop(),M(t,e)):z(t)}"undefined"!=typeof window&&window;class Fl extends w{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}class Bl extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Wl extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Ul(t,e,n,r,i=new Wl(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):O(e)(i)}const Gl={};class Hl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vl(t,this.resultSelector))}}class Vl extends Bl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ul(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Gl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zl=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function jl(...t){return V(1)(kl(...t))}const Yl=new _(t=>t.complete());function Xl(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Yl}function ql(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?k(n):Xl()).subscribe(e)})}function Kl(t,e){return"function"==typeof e?n=>n.pipe(Kl((n,r)=>k(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jl(t))}class Jl{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ql(t,this.project))}}class Ql extends B{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),r=this.destination;r.add(n),this.innerSubscription=W(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $l=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zl(t){return e=>0===t?Xl():e.lift(new tu(t))}class tu{constructor(t){if(this.total=t,this.total<0)throw new $l}call(t,e){return e.subscribe(new eu(t,this.total))}}class eu extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function nu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ru(t,e,n))}}class ru{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new iu(t,this.accumulator,this.seed,this.hasSeed))}}class iu extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ou(t,e){return function(n){return n.lift(new au(t,e))}}class au{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new su(t,this.predicate,this.thisArg))}}class su extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function lu(t){return function(e){const n=new uu(t),r=e.lift(n);return n.caught=r}}class uu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new cu(t,this.selector,this.caught))}}class cu extends B{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new F(this);this.add(r);const i=W(n,r);i!==r&&this.add(i)}}}function hu(t,e){return U(t,e,1)}function du(t){return function(e){return 0===t?Xl():e.lift(new pu(t))}}class pu{constructor(t){if(this.total=t,this.total<0)throw new $l}call(t,e){return e.subscribe(new fu(t,this.total))}}class fu extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function gu(t=mu){return e=>e.lift(new vu(t))}class vu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new yu(t,this.errorFactory))}}class yu extends g{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function mu(){return new zl}function _u(t=null){return e=>e.lift(new bu(t))}class bu{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new xu(t,this.defaultValue))}}class xu extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Eu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ou((e,n)=>t(e,n,r)):m,Zl(1),n?_u(e):gu(()=>new zl))}function Cu(){}function wu(t,e,n){return function(r){return r.lift(new Lu(t,e,n))}}class Lu{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Tu(t,this.nextOrObserver,this.error,this.complete))}}class Tu extends g{constructor(t,e,n,i){super(t),this._tapNext=Cu,this._tapError=Cu,this._tapComplete=Cu,this._tapError=n||Cu,this._tapComplete=i||Cu,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Cu,this._tapError=e.error||Cu,this._tapComplete=e.complete||Cu)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Du{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Au(t,this.callback))}}class Au extends g{constructor(t,e){super(t),this.add(new h(e))}}class Ru{constructor(t,e){this.id=t,this.url=e}}class Nu extends Ru{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pu extends Ru{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Iu extends Ru{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Su extends Ru{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ou extends Ru{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mu extends Ru{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku extends Ru{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fu extends Ru{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu extends Ru{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ju{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yu="primary";class Xu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qu(t){return new Xu(t)}const Ku="ngNavigationCancelingError";function Ju(t){const e=Error("NavigationCancelingError: "+t);return e[Ku]=!0,e}function Qu(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $u(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Zu(t[i],e[i]))return!1;return!0}function Zu(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function tc(t){return Array.prototype.concat.apply([],t)}function ec(t){return t.length>0?t[t.length-1]:null}function nc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rc(t){return Zi(t)?t:$i(t)?k(Promise.resolve(t)):kl(t)}const ic={exact:function t(e,n,r){if(!pc(e.segments,n.segments)||!uc(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!t(e.children[i],n.children[i],r))return!1;return!0},subset:sc},oc={exact:function(t,e){return $u(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Zu(t[n],e[n]))},ignored:()=>!0};function ac(t,e,n){return ic[n.paths](t.root,e.root,n.matrixParams)&&oc[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sc(t,e,n){return lc(t,e,e.segments,n)}function lc(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!pc(i,n)||e.hasChildren()||!uc(i,n,r))}if(t.segments.length===n.length){if(!pc(t.segments,n)||!uc(t.segments,n,r))return!1;for(const n in e.children)if(!t.children[n]||!sc(t.children[n],e.children[n],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(pc(t.segments,i)&&uc(t.segments,i,r)&&t.children[Yu])&&lc(t.children[Yu],e,o,r)}}function uc(t,e,n){return e.every((e,r)=>oc[n](t[r].parameters,e.parameters))}class cc{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return vc.serialize(this)}}class hc{constructor(t,e){this.segments=t,this.children=e,this.parent=null,nc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yc(this)}}class dc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qu(this.parameters)),this._parameterMap}toString(){return wc(this)}}function pc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class fc{}class gc{parse(t){const e=new Rc(t);return new cc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${mc(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${bc(e)}=${bc(t)}`).join("&"):`${bc(e)}=${bc(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const vc=new gc;function yc(t){return t.segments.map(t=>wc(t)).join("/")}function mc(t,e){if(!t.hasChildren())return yc(t);if(e){const e=t.children[Yu]?mc(t.children[Yu],!1):"",n=[];return nc(t.children,(t,e)=>{e!==Yu&&n.push(`${e}:${mc(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return nc(t.children,(t,r)=>{r===Yu&&(n=n.concat(e(t,r)))}),nc(t.children,(t,r)=>{r!==Yu&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Yu?[mc(t.children[Yu],!1)]:[`${n}:${mc(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Yu]?`${yc(t)}/${e[0]}`:`${yc(t)}/(${e.join("//")})`}}function _c(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bc(t){return _c(t).replace(/%3B/gi,";")}function xc(t){return _c(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ec(t){return decodeURIComponent(t)}function Cc(t){return Ec(t.replace(/\+/g,"%20"))}function wc(t){return`${xc(t.path)}${function(t){return Object.keys(t).map(e=>`;${xc(e)}=${xc(t[e])}`).join("")}(t.parameters)}`}const Lc=/^[^\/()?;=#]+/;function Tc(t){const e=t.match(Lc);return e?e[0]:""}const Dc=/^[^=?&#]+/,Ac=/^[^?&#]+/;class Rc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hc([],{}):new hc([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Yu]=new hc(t,e)),n}parseSegment(){const t=Tc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dc(Ec(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Tc(this.remaining);t&&(n=t,this.capture(n))}t[Ec(e)]=Ec(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dc);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ac);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Cc(e),i=Cc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Tc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Yu);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Yu]:new hc([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Nc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pc(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Pc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ic(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ic(t,this._root).map(t=>t.value)}}function Pc(t,e){if(t===e.value)return e;for(const n of e.children){const e=Pc(t,n);if(e)return e}return null}function Ic(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ic(t,n);if(r.length)return r.unshift(e),r}return[]}class Sc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Oc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mc extends Nc{constructor(t,e){super(t),this.snapshot=e,Gc(this,t)}toString(){return this.snapshot.toString()}}function kc(t,e){const n=function(t,e){const n=new Wc([],{},{},"",{},Yu,e,null,t.root,-1,{});return new Uc("",new Sc(n,[]))}(t,e),r=new Fl([new dc("",{})]),i=new Fl({}),o=new Fl({}),a=new Fl({}),s=new Fl(""),l=new Fc(r,i,a,s,o,Yu,e,n.root);return l.snapshot=n.root,new Mc(new Sc(l,[]),n)}class Fc{constructor(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(D(t=>qu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(D(t=>qu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bc(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wc{constructor(t,e,n,r,i,o,a,s,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uc extends Nc{constructor(t,e){super(e),this.url=t,Gc(this,e)}toString(){return Hc(this._root)}}function Gc(t,e){e.value._routerState=t,e.children.forEach(e=>Gc(t,e))}function Hc(t){const e=t.children.length>0?` { ${t.children.map(Hc).join(", ")} } `:"";return`${t.value}${e}`}function Vc(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$u(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$u(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$u(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$u(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zc(t,e){return $u(t.params,e.params)&&function(t,e){return pc(t,e)&&t.every((t,n)=>$u(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||zc(t.parent,e.parent))}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return jc(t,e,r);return jc(t,e)})}(t,e,n);return new Sc(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Yc(e,t),t}}const n=function(t){return new Fc(new Fl(t.url),new Fl(t.params),new Fl(t.queryParams),new Fl(t.fragment),new Fl(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(e=>jc(t,e));return new Sc(n,r)}}function Yc(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yc(t.children[n],e.children[n])}function Xc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qc(t){return"object"==typeof t&&null!=t&&t.outlets}function Kc(t,e,n,r,i){let o={};return r&&nc(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new cc(n.root===t?e:Jc(n.root,t,e),o,i)}function Jc(t,e,n){const r={};return nc(t.children,(t,i)=>{r[i]=t===e?n:Jc(t,e,n)}),new hc(t.segments,r)}class Qc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xc(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(qc);if(r&&r!==ec(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $c{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zc(t,e,n){if(t||(t=new hc([],{})),0===t.segments.length&&t.hasChildren())return th(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],a=n[r];if(qc(a))break;const s=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!ih(s,l,e))return o;r+=2}else{if(!ih(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new hc(t.segments.slice(0,r.pathIndex),{});return e.children[Yu]=new hc(t.segments.slice(r.pathIndex),t.children),th(e,0,i)}return r.match&&0===i.length?new hc(t.segments,{}):r.match&&!t.hasChildren()?eh(t,e,n):r.match?th(t,0,i):eh(t,e,n)}function th(t,e,n){if(0===n.length)return new hc(t.segments,{});{const r=function(t){return qc(t[0])?t[0].outlets:{[Yu]:t}}(n),i={};return nc(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zc(t.children[r],e,n))}),nc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new hc(t.segments,i)}}function eh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qc(o)){const t=nh(o.outlets);return new hc(r,t)}if(0===i&&Xc(n[0])){r.push(new dc(t.segments[e].path,rh(n[0]))),i++;continue}const a=qc(o)?o.outlets[Yu]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&Xc(s)?(r.push(new dc(a,rh(s))),i+=2):(r.push(new dc(a,{})),i++)}return new hc(r,{})}function nh(t){const e={};return nc(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=eh(new hc([],{}),0,t))}),e}function rh(t){const e={};return nc(t,(t,n)=>e[n]=`${t}`),e}function ih(t,e,n){return t==n.path&&$u(e,n.parameters)}class oh{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vc(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Oc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),nc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Oc(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Oc(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new zu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Hu(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vc(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ah(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ah(t){Vc(t.value),t.children.forEach(ah)}class sh{constructor(t,e){this.routes=t,this.module=e}}function lh(t){return"function"==typeof t}function uh(t){return t instanceof cc}const ch=Symbol("INITIAL_VALUE");function hh(){return Kl(t=>function(...t){let e,n;return T(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),z(t,n).lift(new Hl(e))}(t.map(t=>t.pipe(Zl(1),function(...t){const e=t[t.length-1];return T(e)?(t.pop(),n=>jl(t,n,e)):e=>jl(t,e)}(ch)))).pipe(nu((t,e)=>{let n=!1;return e.reduce((t,r,i)=>t!==ch?t:(r===ch&&(n=!0),n||!1!==r&&i!==e.length-1&&!uh(r)?t:r),t)},ch),ou(t=>t!==ch),D(t=>uh(t)?t:!0===t),Zl(1)))}let dh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Qi(0,"router-outlet")},directives:function(){return[sd]},encapsulation:2}),t})();function ph(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fh(r,gh(e,r))}}function fh(t,e){t.children&&ph(t.children,e)}function gh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function vh(t){const e=t.children&&t.children.map(vh),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Yu&&(n.component=dh),n}function yh(t){return t.outlet||Yu}function mh(t,e){const n=t.filter(t=>yh(t)===e);return n.push(...t.filter(t=>yh(t)!==e)),n}const _h={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},_h):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qu)(n,t,e);if(!i)return Object.assign({},_h);const o={};nc(i.posParams,(t,e)=>{o[e]=t.path});const a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function xh(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Eh(t,e,n)&&yh(n)!==Yu)}(t,n,r)){const i=new hc(e,function(t,e,n,r){const i={};i[Yu]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&yh(o)!==Yu){const n=new hc([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[yh(o)]=n}return i}(t,e,r,new hc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Eh(t,e,n))}(t,n,r)){const o=new hc(t.segments,function(t,e,n,r,i,o){const a={};for(const s of r)if(Eh(t,n,s)&&!i[yh(s)]){const n=new hc([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[yh(s)]=n}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new hc(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Eh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ch(t,e,n,r){return!!(yh(t)===r||r!==Yu&&Eh(e,n,t))&&("**"===t.path||bh(e,t,n).matched)}function wh(t,e,n){return 0===e.length&&!t.children[n]}class Lh{constructor(t){this.segmentGroup=t||null}}class Th{constructor(t){this.urlTree=t}}function Dh(t){return new _(e=>e.error(new Lh(t)))}function Ah(t){return new _(e=>e.error(new Th(t)))}function Rh(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ea)}apply(){const t=xh(this.urlTree.root,[],[],this.config).segmentGroup,e=new hc(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yu).pipe(D(t=>this.createUrlTree(Ph(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lu(t=>{if(t instanceof Th)return this.allowRedirects=!1,this.match(t.urlTree);throw t instanceof Lh?this.noMatchError(t):t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yu).pipe(D(e=>this.createUrlTree(Ph(e),t.queryParams,t.fragment))).pipe(lu(t=>{throw t instanceof Lh?this.noMatchError(t):t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new hc([],{[Yu]:t}):t;return new cc(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(D(t=>new hc([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return k(r).pipe(hu(r=>{const i=n.children[r],o=mh(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(D(t=>({segment:t,outlet:r})))}),nu((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ou((e,n)=>t(e,n,r)):m,du(1),n?_u(e):gu(()=>new zl))}())}expandSegment(t,e,n,r,i,o){return k(n).pipe(hu(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(lu(t=>{if(t instanceof Lh)return kl(null);throw t}))),Eu(t=>!!t),lu((t,n)=>{if(t instanceof zl||"EmptyError"===t.name){if(wh(e,r,i))return kl(new hc([],{}));throw new Lh(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,a){return Ch(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Dh(e):Dh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ah(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new hc(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:a,consumedSegments:s,lastChild:l,positionalParamSegments:u}=bh(e,r,i);if(!a)return Dh(e);const c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ah(c):this.lineralizeSegments(r,c).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?kl(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(D(t=>(n._loadedConfig=t,new hc(r,{})))):kl(new hc(r,{}));const{matched:o,consumedSegments:a,lastChild:s}=bh(e,n,r);if(!o)return Dh(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(U(t=>{const r=t.module,o=t.routes,{segmentGroup:s,slicedSegments:u}=xh(e,a,l,o),c=new hc(s.segments,s.children);if(0===u.length&&c.hasChildren())return this.expandChildren(r,o,c).pipe(D(t=>new hc(a,t)));if(0===o.length&&0===u.length)return kl(new hc(a,{}));const h=yh(n)===i;return this.expandSegment(r,c,o,u,h?Yu:i,!0).pipe(D(t=>new hc(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?kl(new sh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?kl(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(D(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(Ju(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):kl(new sh([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?kl(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&lh(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!lh(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return rc(o)})).pipe(hh(),wu(t=>{if(!uh(t))return;const e=Ju(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),D(t=>!0===t)):kl(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return kl(n);if(r.numberOfChildren>1||!r.children[Yu])return Rh(t.redirectTo);r=r.children[Yu]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new cc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return nc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return nc(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new hc(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ph(t){const e={};for(const n of Object.keys(t.children)){const r=Ph(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[Yu]){const e=t.children[Yu];return new hc(t.segments.concat(e.segments),e.children)}return t}(new hc(t.segments,e))}class Ih{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sh{constructor(t,e){this.component=t,this.route=e}}function Oh(t,e,n){const r=t._root;return kh(r,e?e._root:null,n,[r.value])}function Mh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function kh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Oc(e);return t.children.forEach(t=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pc(t.url,e.url)||!$u(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zc(t,e)||!$u(t.queryParams,e.queryParams);case"paramsChange":default:return!zc(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ih(r)):(o.data=a.data,o._resolvedData=a._resolvedData),kh(t,e,o.component?s?s.children:null:n,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Sh(s.outlet.component,a))}else a&&Fh(e,s,i),i.canActivateChecks.push(new Ih(r)),kh(t,null,o.component?s?s.children:null:n,r,i)})(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),nc(o,(t,e)=>Fh(t,n.getContext(e),i)),i}function Fh(t,e,n){const r=Oc(t),i=t.value;nc(r,(t,r)=>{Fh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Sh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Bh{}function Wh(t){return new _(e=>e.error(t))}class Uh{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=xh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Yu);if(null===e)return null;const n=new Wc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yu,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sc(n,e),i=new Uc(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Bc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=mh(t,i),a=this.processSegmentGroup(o,r,i);if(null===a)return null;n.push(...a)}const r=Hh(n);return function(t){t.sort((t,e)=>t.value.outlet===Yu?-1:e.value.outlet===Yu?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wh(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ch(t,e,n,r))return null;let i,o=[],a=[];if("**"===t.path){const r=n.length>0?ec(n).parameters:{};i=new Wc(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jh(t),yh(t),t.component,t,Vh(e),zh(e)+n.length,Yh(t))}else{const r=bh(e,t,n);if(!r.matched)return null;o=r.consumedSegments,a=n.slice(r.lastChild),i=new Wc(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jh(t),yh(t),t.component,t,Vh(e),zh(e)+o.length,Yh(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=xh(e,o,a,s.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(s,l);return null===t?null:[new Sc(i,t)]}if(0===s.length&&0===u.length)return[new Sc(i,[])];const c=yh(t)===r,h=this.processSegment(s,l,u,c?Yu:r);return null===h?null:[new Sc(i,h)]}}function Gh(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hh(t){const e=[],n=new Set;for(const r of t){if(!Gh(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Hh(r.children);e.push(new Sc(r.value,t))}return e.filter(t=>!n.has(t))}function Vh(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jh(t){return t.data||{}}function Yh(t){return t.resolve||{}}function Xh(t){return Kl(e=>{const n=t(e);return n?k(n).pipe(D(()=>e)):kl(e)})}class qh extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Kh=new Dn("ROUTES");class Jh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(D(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new sh(tc(r.injector.get(Kh,void 0,mt.Self|mt.Optional)).map(vh),r)}),lu(t=>{throw e._loader$=void 0,t}));return e._loader$=new q(n,()=>new w).pipe(j()),e._loader$}loadModuleFactory(t){return"string"==typeof t?k(this.loader.load(t)):rc(t()).pipe(U(t=>t instanceof na?kl(t):k(this.compiler.compileModuleAsync(t))))}}class Qh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $h,this.attachRef=null}}class $h{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Zh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function td(t){throw t}function ed(t,e,n){return e.parse("/")}function nd(t,e){return kl(null)}const rd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},id={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let od=(()=>{class t{constructor(t,e,n,r,i,o,a,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new w,this.errorHandler=td,this.malformedUriErrorHandler=ed,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nd,afterPreactivation:nd},this.urlHandlingStrategy=new Zh,this.routeReuseStrategy=new qh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(ea),this.console=i.get(Va);const l=i.get(ns);this.isNgZoneEnabled=l instanceof ns&&ns.isInAngularZone(),this.resetConfig(s),this.currentUrlTree=new cc(new hc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jh(o,a,t=>this.triggerEvent(new Wu(t)),t=>this.triggerEvent(new Uu(t))),this.routerState=kc(this.currentUrlTree,this.rootComponentType),this.transitions=new Fl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(ou(t=>0!==t.id),D(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Kl(t=>{let n=!1,r=!1;return kl(t).pipe(wu(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kl(t=>{const n=this.browserUrlTree.toString(),i=!this.navigated||t.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ad(t.source)&&(this.browserUrlTree=t.extractedUrl),kl(t).pipe(Kl(t=>{const n=this.transitions.getValue();return e.next(new Nu(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Yl:Promise.resolve(t)}),function(t,e,n,r){return Kl(i=>function(t,e,n,r,i){return new Nh(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(D(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wu(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,o){return U(a=>function(t,e,n,i,o="emptyOnly",a="legacy"){try{const r=new Uh(t,e,n,i,o,a).recognize();return null===r?Wh(new Bh):kl(r)}catch(r){return Wh(r)}}(t,e,a.urlAfterRedirects,n(a.urlAfterRedirects),i,o).pipe(D(t=>Object.assign(Object.assign({},a),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),wu(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Ou(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,s=new Nu(n,this.serializeUrl(r),i,o);e.next(s);const l=kc(r,this.rootComponentType).snapshot;return kl(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Yl}),Xh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),wu(t=>{const e=new Mu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),D(t=>Object.assign(Object.assign({},t),{guards:Oh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?kl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return k(t).pipe(U(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kl(o.map(o=>{const a=Mh(o,e,i);let s;if(function(t){return t&&lh(t.canDeactivate)}(a))s=rc(a.canDeactivate(t,e,n,r));else{if(!lh(a))throw new Error("Invalid CanDeactivate guard");s=rc(a(t,e,n,r))}return s.pipe(Eu())})).pipe(hh()):kl(!0)}(t.component,t.route,n,e,r)),Eu(t=>!0!==t,!0))}(a,r,i,t).pipe(U(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return k(e).pipe(hu(e=>jl(function(t,e){return null!==t&&e&&e(new Gu(t)),kl(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Vu(t)),kl(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ql(()=>kl(e.guards.map(i=>{const o=Mh(i,e.node,n);let a;if(function(t){return t&&lh(t.canActivateChild)}(o))a=rc(o.canActivateChild(r,t));else{if(!lh(o))throw new Error("Invalid CanActivateChild guard");a=rc(o(r,t))}return a.pipe(Eu())})).pipe(hh())));return kl(i).pipe(hh())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?kl(r.map(r=>ql(()=>{const i=Mh(r,e,n);let o;if(function(t){return t&&lh(t.canActivate)}(i))o=rc(i.canActivate(e,t));else{if(!lh(i))throw new Error("Invalid CanActivate guard");o=rc(i(e,t))}return o.pipe(Eu())}))).pipe(hh()):kl(!0)}(t,e.route,n))),Eu(t=>!0!==t,!0))}(r,o,t,e):kl(n)),D(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),wu(t=>{if(uh(t.guardsResult)){const e=Ju(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ku(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ou(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),Xh(t=>{if(t.guards.canActivateChecks.length)return kl(t).pipe(wu(t=>{const e=new Fu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Kl(t=>{let e=!1;return kl(t).pipe(function(t,e){return U(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return kl(n);let o=0;return k(i).pipe(hu(n=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return kl({});const o={};return k(i).pipe(U(i=>function(t,e,n,r){const i=Mh(t,e,r);return rc(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(wu(t=>{o[i]=t}))),du(1),U(()=>Object.keys(o).length===i.length?kl(o):Yl))}(t._resolve,t,e,r).pipe(D(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Bc(t,n).resolve),null)))}(n.route,r,t,e)),wu(()=>o++),du(1),U(t=>o===i.length?kl(n):Yl))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wu({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),wu(t=>{const e=new Bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),D(t=>{const e=function(t,e,n){const r=jc(t,e._root,n?n._root:void 0);return new Mc(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),wu(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),((t,e,n)=>D(r=>(new oh(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),wu({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Du(t))}(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),lu(n=>{if(r=!0,function(t){return t&&t[Ku]}(n)){const r=uh(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new Iu(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ad(t.source)};this.scheduleNavigation(e,"imperative",null,r,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new Su(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Yl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return e.transitionId!==t.transitionId||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ph(t),this.config=t.map(vh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:a}=e,s=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Kc(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qc(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return nc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qc(n,e,r)}(n);if(o.toRoot())return Kc(e.root,new hc([],{}),e,r,i);const a=function(t,e,n){if(t.isAbsolute)return new $c(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new $c(t,t===e.root,0)}const r=Xc(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $c(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?th(a.segmentGroup,a.index,o.commands):Zc(a.segmentGroup,a.index,o.commands);return Kc(a.segmentGroup,s,e,r,i)}(s,this.currentUrlTree,t,u,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=uh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},rd):!1===e?Object.assign({},id):e,uh(t))return ac(this.currentUrlTree,t,n);const r=this.parseUrl(t);return ac(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Pu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,e,n,r,i){var o,a;if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),l=ad(e)&&s&&!ad(s.source),u=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(l&&u)return Promise.resolve(!0);let c,h,d;i?(c=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{c=t,h=e});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(a=this.browserPageId)&&void 0!==a?a:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new Iu(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(Vn(Rn),Vn(fc),Vn($h),Vn(Ks),Vn(Ui),Vn(ws),Vn(Za),Vn(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ad(t){return"imperative"!==t}let sd=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ba,this.deactivateEvents=new ba,this.name=r||Yu,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ld(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Xi($h),Xi(ia),Xi(mo),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if($e(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(we(),t)}("name"),Xi(Yo))},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ld{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Fc?this.route:t===$h?this.childContexts:this.parent.get(t,e)}}class ud{}class cd{preload(t,e){return kl(null)}}let hd=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Jh(e,n,e=>t.triggerEvent(new Wu(e)),e=>t.triggerEvent(new Uu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ou(t=>t instanceof Pu),hu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ea);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return k(n).pipe(V(),D(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?kl(e._loadedConfig):this.loader.load(t.injector,e)).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Vn(od),Vn(ws),Vn(Za),Vn(Ui),Vn(ud))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ju&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ju(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Vn(od),Vn(rl),Vn(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const pd=new Dn("ROUTER_CONFIGURATION"),fd=new Dn("ROUTER_FORROOT_GUARD"),gd=[Ks,{provide:fc,useClass:gc},{provide:od,useFactory:function(t,e,n,r,i,o,a,s={},l,u){const c=new od(null,t,e,n,r,i,o,tc(a));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing&&c.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[fc,$h,Ks,Ui,ws,Za,Kh,pd,[class{},new Kn],[class{},new Kn]]},$h,{provide:Fc,useFactory:function(t){return t.routerState.root},deps:[od]},{provide:ws,useClass:Ds},hd,cd,class{preload(t,e){return e().pipe(lu(()=>kl(null)))}},{provide:pd,useValue:{enableTracing:!1}}];function vd(){return new ys("Router",od)}let yd=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[gd,xd(e),{provide:fd,useFactory:bd,deps:[[od,new Kn,new Jn]]},{provide:pd,useValue:n||{}},{provide:zs,useFactory:_d,deps:[Ms,[new qn(Ys),new Kn],pd]},{provide:dd,useFactory:md,deps:[od,rl,pd]},{provide:ud,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cd},{provide:ys,multi:!0,useFactory:vd},[Ed,{provide:Ma,multi:!0,useFactory:Cd,deps:[Ed]},{provide:Ld,useFactory:wd,deps:[Ed]},{provide:Ha,multi:!0,useExisting:Ld}]]}}static forChild(e){return{ngModule:t,providers:[xd(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Vn(fd,8),Vn(od,8))},t.\u0275mod=zt({type:t}),t.\u0275inj=ct({}),t})();function md(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new dd(t,e,n)}function _d(t,e,n={}){return n.useHash?new qs(t,e):new Xs(t,e)}function bd(t){return"guarded"}function xd(t){return[{provide:An,multi:!0,useValue:t},{provide:Kh,multi:!0,useValue:t}]}let Ed=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new w}appInitializer(){return this.injector.get(Fs,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(od),r=this.injector.get(pd);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?kl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(pd),n=this.injector.get(hd),r=this.injector.get(dd),i=this.injector.get(od),o=this.injector.get(Es);t===o.components[0]&&(("enabledNonBlocking"===e.initialNavigation||void 0===e.initialNavigation)&&i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Vn(Ui))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Cd(t){return t.appInitializer.bind(t)}function wd(t){return t.bootstrapListener.bind(t)}const Ld=new Dn("Router Initializer"),Td=[];let Dd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=ct({imports:[[yd.forRoot(Td)],yd]}),t})();var Ad=n(7947),Rd=n(7942),Nd=n.n(Rd),Pd=n(7679),Id=n.n(Pd),Sd=n(917),Od=n.n(Sd),Md=n(3862),kd=n.n(Md),Fd=JSON.parse('[{"source_id":52747054,"source_name":"CBWMH.SR5.DL5K","source_expert_name":null,"source_label":"MasterFIP 1M","source_description":null,"source_pole":null,"source_color":"#FFD700","source_type_name":"HCCBWMH","source_type_description":"FMC- MASTERFIP-1M mezzanine","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb SR5 \xbb SR5/R \xbb 2575/R-005 \xbb CYFRE.01SR5 \xbb CFC-SE5-DL5JK \xbb CFEIA.45.SR5","target_id":6738787,"target_name":"CBWJA.SR5.DL5K","target_expert_name":null,"target_label":"DK","target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb SR5 \xbb SR5/R \xbb 2575/R-005 \xbb CYFRE.01SR5","connection_id":52747324,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":"TRUNK DL5K","connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":null,"cable_length":0,"cable_type":"CABLE","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2019-08-05T00:00:00.000+00:00","valid_from_day_label":"05-08-2019","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":6738787,"source_name":"CBWJA.SR5.DL5K","source_expert_name":null,"source_label":"DK","source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb SR5 \xbb SR5/R \xbb 2575/R-005 \xbb CYFRE.01SR5","target_id":6731802,"target_name":"CBWRG.SR5.DL5K","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#28E02E","target_type_name":"HCCBWRG","target_type_description":"Copper/Optical WFIP Repeater Unit GoFIP 1MHz Green","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb SR5 \xbb SR5/R \xbb 2575/R-005 \xbb CYFRE.01SR5 \xbb CBWRY.02SR5","connection_id":39990852,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":null,"cable_length":0,"cable_type":"CABLE","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-11-11T00:00:00.000+00:00","valid_from_day_label":"11-11-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":6731802,"source_name":"CBWRG.SR5.DL5K","source_expert_name":null,"source_label":null,"source_description":null,"source_pole":null,"source_color":"#28E02E","source_type_name":"HCCBWRG","source_type_description":"Copper/Optical WFIP Repeater Unit GoFIP 1MHz Green","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb SR5 \xbb SR5/R \xbb 2575/R-005 \xbb CYFRE.01SR5 \xbb CBWRY.02SR5","target_id":6739292,"target_name":"CBWRH.RE52.DL5K","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#28E02E","target_type_name":"HCCBWRH","target_type_description":"Copper/Optical WFIP Repeater Unit GoFIP 1MHz Blue","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb RE52 \xbb RE52/U0 \xbb 2502/U0-E32 \xbb CYFRE.01RE52 \xbb CBWRY.02RE52","connection_id":39990853,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":null,"cable_length":0,"cable_type":"CABLE","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-11-11T00:00:00.000+00:00","valid_from_day_label":"11-11-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":6739292,"source_name":"CBWRH.RE52.DL5K","source_expert_name":null,"source_label":null,"source_description":null,"source_pole":null,"source_color":"#28E02E","source_type_name":"HCCBWRH","source_type_description":"Copper/Optical WFIP Repeater Unit GoFIP 1MHz Blue","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb RE52 \xbb RE52/U0 \xbb 2502/U0-E32 \xbb CYFRE.01RE52 \xbb CBWRY.02RE52","target_id":6739296,"target_name":"CBWJA.RE52.DL5K","target_expert_name":null,"target_label":"DK","target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb RE52 \xbb RE52/U0 \xbb 2502/U0-E32 \xbb DYPG.01RE52","connection_id":39990854,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":null,"cable_length":0,"cable_type":"CABLE","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-11-11T00:00:00.000+00:00","valid_from_day_label":"11-11-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":6739296,"source_name":"CBWJA.RE52.DL5K","source_expert_name":null,"source_label":"DK","source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb RE52 \xbb RE52/U0 \xbb 2502/U0-E32 \xbb DYPG.01RE52","target_id":124305,"target_name":"CBWRB.16L5.DL5K","target_expert_name":"DJRCC.A16L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#28E02E","target_type_name":"HCCBWRB","target_type_description":"Copper/Copper WFIP Repeater 1Mbps","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","connection_id":39990855,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504439","cable_length":11,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-11-11T00:00:00.000+00:00","valid_from_day_label":"11-11-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124305,"source_name":"CBWRB.16L5.DL5K","source_expert_name":"DJRCC.A16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#28E02E","source_type_name":"HCCBWRB","source_type_description":"Copper/Copper WFIP Repeater 1Mbps","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":124307,"target_name":"CBWJA.C16L5.DL5K","target_expert_name":"DJPFE.C16L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","connection_id":39991344,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504438","cable_length":17,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124307,"source_name":"CBWJA.C16L5.DL5K","source_expert_name":"DJPFE.C16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":124316,"target_name":"CBWJA.B16L5.DL5K","target_expert_name":"DJPFE.B16L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","connection_id":39991345,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504437","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124316,"source_name":"CBWJA.B16L5.DL5K","source_expert_name":"DJPFE.B16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":124318,"target_name":"CBWJA.A16L5.DL5K","target_expert_name":"DJPFE.A16L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","connection_id":39991346,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504436","cable_length":12,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124318,"source_name":"CBWJA.A16L5.DL5K","source_expert_name":"DJPFE.A16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":124328,"target_name":"CBWJA.D15L5.DL5K","target_expert_name":"DJPFE.D15L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","connection_id":39991347,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504435","cable_length":26,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124328,"source_name":"CBWJA.D15L5.DL5K","source_expert_name":"DJPFE.D15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":124335,"target_name":"CBWJA.C15L5.DL5K","target_expert_name":"DJPFE.C15L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","connection_id":39991348,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504434","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124335,"source_name":"CBWJA.C15L5.DL5K","source_expert_name":"DJPFE.C15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":124341,"target_name":"CBWJA.B15L5.DL5K","target_expert_name":"DJPFE.B15L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","connection_id":39991349,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504433","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124341,"source_name":"CBWJA.B15L5.DL5K","source_expert_name":"DJPFE.B15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":124346,"target_name":"CBWJA.A15L5.DL5K","target_expert_name":"DJPFE.A15L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","connection_id":39991350,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504432","cable_length":12,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124346,"source_name":"CBWJA.A15L5.DL5K","source_expert_name":"DJPFE.A15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":124355,"target_name":"CBWJA.D14L5.DL5K","target_expert_name":"DJPFE.D14L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","connection_id":39991351,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504431","cable_length":23,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124355,"source_name":"CBWJA.D14L5.DL5K","source_expert_name":"DJPFE.D14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":124358,"target_name":"CBWJA.C14L5.DL5K","target_expert_name":"DJPFE.C14L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","connection_id":39991352,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504430","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124358,"source_name":"CBWJA.C14L5.DL5K","source_expert_name":"DJPFE.C14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":124368,"target_name":"CBWJA.B14L5.DL5K","target_expert_name":"DJPFE.B14L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","connection_id":39991353,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504429","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124368,"source_name":"CBWJA.B14L5.DL5K","source_expert_name":"DJPFE.B14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":124370,"target_name":"CBWJA.A14L5.DL5K","target_expert_name":"DJPFE.A14L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","connection_id":39991354,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504428","cable_length":12,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124370,"source_name":"CBWJA.A14L5.DL5K","source_expert_name":"DJPFE.A14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":124379,"target_name":"CBWJA.D13L5.DL5K","target_expert_name":"DJPFE.D13L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","connection_id":39991355,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504427","cable_length":26,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124379,"source_name":"CBWJA.D13L5.DL5K","source_expert_name":"DJPFE.D13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":124385,"target_name":"CBWJA.C13L5.DL5K","target_expert_name":"DJPFE.C13L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","connection_id":39991356,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504426","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124385,"source_name":"CBWJA.C13L5.DL5K","source_expert_name":"DJPFE.C13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":124391,"target_name":"CBWJA.B13L5.DL5K","target_expert_name":"DJPFE.B13L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","connection_id":39991357,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504425","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124391,"source_name":"CBWJA.B13L5.DL5K","source_expert_name":"DJPFE.B13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":124396,"target_name":"CBWJA.A13L5.DL5K","target_expert_name":"DJPFE.A13L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","connection_id":39991358,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504424","cable_length":12,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124396,"source_name":"CBWJA.A13L5.DL5K","source_expert_name":"DJPFE.A13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":124405,"target_name":"CBWJA.D12L5.DL5K","target_expert_name":"DJPFE.D12L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","connection_id":39991359,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504423","cable_length":23,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124405,"source_name":"CBWJA.D12L5.DL5K","source_expert_name":"DJPFE.D12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":124409,"target_name":"CBWJA.C12L5.DL5K","target_expert_name":"DJPFE.C12L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","connection_id":39991360,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504422","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124409,"source_name":"CBWJA.C12L5.DL5K","source_expert_name":"DJPFE.C12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":124420,"target_name":"CBWJA.B12L5.DL5K","target_expert_name":"DJPFE.B12L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","connection_id":39991361,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504421","cable_length":22,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124420,"source_name":"CBWJA.B12L5.DL5K","source_expert_name":"DJPFE.B12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":124425,"target_name":"CBWJA.A12L5.DL5K","target_expert_name":"DJPFE.A12L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","connection_id":39991362,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504420","cable_length":12,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124425,"source_name":"CBWJA.A12L5.DL5K","source_expert_name":"DJPFE.A12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":124433,"target_name":"CBWJA.C11L5.DL5K","target_expert_name":"DJPFE.C11L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","connection_id":39991363,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504419","cable_length":40,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124433,"source_name":"CBWJA.C11L5.DL5K","source_expert_name":"DJPFE.C11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":974698,"target_name":"CBWJA.B11L5.DL5K","target_expert_name":"DJPFE.B11L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","connection_id":39991364,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504418","cable_length":25,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":974698,"source_name":"CBWJA.B11L5.DL5K","source_expert_name":"DJPFE.B11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":124442,"target_name":"CBWJA.A11L5.DL5K","target_expert_name":"DJPFE.A11L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","connection_id":39991365,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504417","cable_length":1,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124442,"source_name":"CBWJA.A11L5.DL5K","source_expert_name":"DJPFE.A11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":124454,"target_name":"CBWJA.B10L5.DL5K","target_expert_name":"DJPFE.B10L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","connection_id":39991366,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504416","cable_length":50,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124454,"source_name":"CBWJA.B10L5.DL5K","source_expert_name":"DJPFE.B10L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","target_id":124466,"target_name":"CBWJA.A10L5.DL5K","target_expert_name":"DJPFE.A10L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","connection_id":39991367,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504414","cable_length":25,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124466,"source_name":"CBWJA.A10L5.DL5K","source_expert_name":"DJPFE.A10L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","target_id":124476,"target_name":"CBWJA.B9L5.DL5K","target_expert_name":"DJPFE.B9L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","connection_id":39991368,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504413","cable_length":28,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124476,"source_name":"CBWJA.B9L5.DL5K","source_expert_name":"DJPFE.B9L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","target_id":124484,"target_name":"CBWJA.A9L5.DL5K","target_expert_name":"DJPFE.A9L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","connection_id":39991369,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504412","cable_length":25,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124484,"source_name":"CBWJA.A9L5.DL5K","source_expert_name":"DJPFE.A9L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","target_id":124495,"target_name":"CBWJA.B8L5.DL5K","target_expert_name":"DJPFE.B8L5=R52","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","connection_id":39991370,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504410","cable_length":25,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124495,"source_name":"CBWJA.B8L5.DL5K","source_expert_name":"DJPFE.B8L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","target_id":124506,"target_name":"CBWJA.A8L5.DL5K","target_expert_name":"DJPFE.A8L5=R531","target_label":null,"target_description":null,"target_pole":null,"target_color":"#9932CC","target_type_name":"HCCBWJA","target_type_description":"WorldFIP Tap Box","target_fip_address1":null,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","connection_id":39991371,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1504408","cable_length":25,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124506,"source_name":"CBWJA.A8L5.DL5K","source_expert_name":"DJPFE.A8L5=R531","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","target_id":545713,"target_name":"CBWDB.8L5.DL5K","target_expert_name":"CBWDB.A8L5=R531","target_label":null,"target_description":null,"target_pole":null,"target_color":"#FF8C00","target_type_name":"HCCBWDB","target_type_description":"FIPDIAG Unit 1 MBIT/s","target_fip_address1":127,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","connection_id":39991372,"connection_type_name":"WORLDFIP TRUNK","connection_type_description":"WorldFIP Trunk Cable","connection_label":null,"connection_description":"TRUNK DL5K","connection_colour":"#FF8C00","cable_name":"1507633","cable_length":0,"cable_type":"VE2R","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124506,"source_name":"CBWJA.A8L5.DL5K","source_expert_name":"DJPFE.A8L5=R531","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","target_id":468060,"target_name":"DQAMC.A8L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":103,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5 \xbb DYPB.A8L5 \xbb DQLPU.A8L5","connection_id":39991419,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504514","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124495,"source_name":"CBWJA.B8L5.DL5K","source_expert_name":"DJPFE.B8L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","target_id":468054,"target_name":"DQAMC.B8L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":104,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5 \xbb DYPB.B8L5 \xbb DQLPU.B8L5","connection_id":39991418,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504515","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124495,"source_name":"CBWJA.B8L5.DL5K","source_expert_name":"DJPFE.B8L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5","target_id":2678393,"target_name":"DQAMG.A8L5","target_expert_name":"DQAMG.B8L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":1,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-08L5 \xbb DYPB.B8L5 \xbb DQLPU.C8L5","connection_id":40001583,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504515","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124484,"source_name":"CBWJA.A9L5.DL5K","source_expert_name":"DJPFE.A9L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","target_id":468048,"target_name":"DQAMC.A9L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":105,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5 \xbb DYPB.A9L5 \xbb DQLPU.A9L5","connection_id":39991417,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504517","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124476,"source_name":"CBWJA.B9L5.DL5K","source_expert_name":"DJPFE.B9L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","target_id":468042,"target_name":"DQAMC.B9L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":106,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5 \xbb DYPB.B9L5 \xbb DQLPU.B9L5","connection_id":39991416,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504518","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124476,"source_name":"CBWJA.B9L5.DL5K","source_expert_name":"DJPFE.B9L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5","target_id":2678445,"target_name":"DQAMG.A9L5","target_expert_name":"DQAMG.B9L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":2,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-09L5 \xbb DYPB.B9L5 \xbb DQLPU.C9L5","connection_id":40001582,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504518","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124466,"source_name":"CBWJA.A10L5.DL5K","source_expert_name":"DJPFE.A10L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","target_id":468036,"target_name":"DQAMC.A10L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":107,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5 \xbb DYPB.A10L5 \xbb DQLPU.A10L5","connection_id":39991415,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504520","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124454,"source_name":"CBWJA.B10L5.DL5K","source_expert_name":"DJPFE.B10L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","target_id":468030,"target_name":"DQAMC.B10L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":108,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5 \xbb DYPB.B10L5 \xbb DQLPU.B10L5","connection_id":39991414,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504521","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124454,"source_name":"CBWJA.B10L5.DL5K","source_expert_name":"DJPFE.B10L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5","target_id":2678289,"target_name":"DQAMG.A10L5","target_expert_name":"DQAMG.B10L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":3,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-10L5 \xbb DYPB.B10L5 \xbb DQLPU.C10L5","connection_id":40001581,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504521","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":974698,"source_name":"CBWJA.B11L5.DL5K","source_expert_name":"DJPFE.B11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":468024,"target_name":"DQAMC.A11L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":109,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5 \xbb DYPB.A11L5 \xbb DQLPU.A11L5","connection_id":39991413,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504524","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124433,"source_name":"CBWJA.C11L5.DL5K","source_expert_name":"DJPFE.C11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":468018,"target_name":"DQAMC.B11L5","target_expert_name":null,"target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":110,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5 \xbb DYPB.B11L5 \xbb DQLPU.B11L5","connection_id":39991412,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504525","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124433,"source_name":"CBWJA.C11L5.DL5K","source_expert_name":"DJPFE.C11L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5","target_id":2678341,"target_name":"DQAMG.A11L5","target_expert_name":"DQAMG.B11L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":4,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-11L5 \xbb DYPB.B11L5 \xbb DQLPU.C11L5","connection_id":40001580,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504525","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124425,"source_name":"CBWJA.A12L5.DL5K","source_expert_name":"DJPFE.A12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":2086171,"target_name":"DQAMC.A12L5","target_expert_name":"DQAMC.11L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":111,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5 \xbb DYPQ.12L5 \xbb DQLPU.E12L5","connection_id":39990809,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":null,"cable_length":0,"cable_type":"CABLE","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2014-01-13T00:00:00.000+00:00","valid_from_day_label":"13-01-2014","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124420,"source_name":"CBWJA.B12L5.DL5K","source_expert_name":"DJPFE.B12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":468012,"target_name":"DQAMC.B12L5","target_expert_name":"DQAMC.A12L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":112,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5 \xbb DYPB.A12L5 \xbb DQLPU.B12L5","connection_id":39991411,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504527","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124409,"source_name":"CBWJA.C12L5.DL5K","source_expert_name":"DJPFE.C12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":468006,"target_name":"DQAMC.C12L5","target_expert_name":"DQAMC.B12L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":113,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5 \xbb DYPB.B12L5 \xbb DQLPU.C12L5","connection_id":39991410,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504528","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124409,"source_name":"CBWJA.C12L5.DL5K","source_expert_name":"DJPFE.C12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":2679641,"target_name":"DQAMG.A12L5","target_expert_name":"DQAMG.B12L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":5,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5 \xbb DYPB.B12L5 \xbb DQLPU.F12L5","connection_id":40001579,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504528","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124405,"source_name":"CBWJA.D12L5.DL5K","source_expert_name":"DJPFE.D12L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5","target_id":468000,"target_name":"DQAMC.D12L5","target_expert_name":"DQAMC.C12L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":114,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-12L5 \xbb DYPB.C12L5 \xbb DQLPU.D12L5","connection_id":39991409,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504529","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124396,"source_name":"CBWJA.A13L5.DL5K","source_expert_name":"DJPFE.A13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":473896,"target_name":"DQAMC.A13L5","target_expert_name":"DQAMC.12L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":115,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5 \xbb DYPQ.13L5 \xbb DQLPU.A13L5","connection_id":39991408,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504530","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124391,"source_name":"CBWJA.B13L5.DL5K","source_expert_name":"DJPFE.B13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":467994,"target_name":"DQAMC.B13L5","target_expert_name":"DQAMC.A13L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":116,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5 \xbb DYPB.A13L5 \xbb DQLPU.B13L5","connection_id":39991407,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504531","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124385,"source_name":"CBWJA.C13L5.DL5K","source_expert_name":"DJPFE.C13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":467988,"target_name":"DQAMC.C13L5","target_expert_name":"DQAMC.B13L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":117,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5 \xbb DYPB.B13L5 \xbb DQLPU.C13L5","connection_id":39991406,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504532","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124385,"source_name":"CBWJA.C13L5.DL5K","source_expert_name":"DJPFE.C13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":2678497,"target_name":"DQAMG.A13L5","target_expert_name":"DQAMG.B13L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":6,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5 \xbb DYPB.B13L5 \xbb DQLPU.E13L5","connection_id":40001578,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504532","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124379,"source_name":"CBWJA.D13L5.DL5K","source_expert_name":"DJPFE.D13L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5","target_id":467982,"target_name":"DQAMC.D13L5","target_expert_name":"DQAMC.C13L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":118,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-13L5 \xbb DYPB.C13L5 \xbb DQLPU.D13L5","connection_id":39991405,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504533","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124370,"source_name":"CBWJA.A14L5.DL5K","source_expert_name":"DJPFE.A14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":473886,"target_name":"DQAMC.A14L5","target_expert_name":"DQAMC.13L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":119,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5 \xbb DYPQ.14L5 \xbb DQLPU.A14L5","connection_id":39991404,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504534","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124368,"source_name":"CBWJA.B14L5.DL5K","source_expert_name":"DJPFE.B14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":467976,"target_name":"DQAMC.B14L5","target_expert_name":"DQAMC.A14L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":120,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5 \xbb DYPB.A14L5 \xbb DQLPU.B14L5","connection_id":39991403,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504535","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124358,"source_name":"CBWJA.C14L5.DL5K","source_expert_name":"DJPFE.C14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":467970,"target_name":"DQAMC.C14L5","target_expert_name":"DQAMC.B14L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":121,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5 \xbb DYPB.B14L5 \xbb DQLPU.C14L5","connection_id":39991402,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504536","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124358,"source_name":"CBWJA.C14L5.DL5K","source_expert_name":"DJPFE.C14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":2678549,"target_name":"DQAMG.A14L5","target_expert_name":"DQAMG.B14L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":7,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5 \xbb DYPB.B14L5 \xbb DQLPU.E14L5","connection_id":40001577,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504536","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124355,"source_name":"CBWJA.D14L5.DL5K","source_expert_name":"DJPFE.D14L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5","target_id":467964,"target_name":"DQAMC.D14L5","target_expert_name":"DQAMC.C14L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":122,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-14L5 \xbb DYPB.C14L5 \xbb DQLPU.D14L5","connection_id":39991401,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504537","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124346,"source_name":"CBWJA.A15L5.DL5K","source_expert_name":"DJPFE.A15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":473876,"target_name":"DQAMC.A15L5","target_expert_name":"DQAMC.14L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":123,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5 \xbb DYPQ.15L5 \xbb DQLPU.A15L5","connection_id":39991400,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504538","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124341,"source_name":"CBWJA.B15L5.DL5K","source_expert_name":"DJPFE.B15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":467958,"target_name":"DQAMC.B15L5","target_expert_name":"DQAMC.A15L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":124,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5 \xbb DYPB.A15L5 \xbb DQLPU.B15L5","connection_id":39991399,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504539","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124335,"source_name":"CBWJA.C15L5.DL5K","source_expert_name":"DJPFE.C15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":467952,"target_name":"DQAMC.C15L5","target_expert_name":"DQAMC.B15L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":125,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5 \xbb DYPB.B15L5 \xbb DQLPU.C15L5","connection_id":39991398,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504540","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124335,"source_name":"CBWJA.C15L5.DL5K","source_expert_name":"DJPFE.C15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":2678601,"target_name":"DQAMG.A15L5","target_expert_name":"DQAMG.B15L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":8,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5 \xbb DYPB.B15L5 \xbb DQLPU.E15L5","connection_id":40001576,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504540","cable_length":6,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124328,"source_name":"CBWJA.D15L5.DL5K","source_expert_name":"DJPFE.D15L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5","target_id":467946,"target_name":"DQAMC.D15L5","target_expert_name":"DQAMC.C15L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":126,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-15L5 \xbb DYPB.C15L5 \xbb DQLPU.D15L5","connection_id":39991397,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504541","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124318,"source_name":"CBWJA.A16L5.DL5K","source_expert_name":"DJPFE.A16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":473866,"target_name":"DQAMC.A16L5","target_expert_name":"DQAMC.15L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":128,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5 \xbb DYPQ.16L5 \xbb DQLPU.A16L5","connection_id":39991396,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504542","cable_length":14,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124316,"source_name":"CBWJA.B16L5.DL5K","source_expert_name":"DJPFE.B16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":467940,"target_name":"DQAMC.B16L5","target_expert_name":"DQAMC.A16L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":129,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5 \xbb DYPB.A16L5 \xbb DQLPU.B16L5","connection_id":39991395,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504543","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124307,"source_name":"CBWJA.C16L5.DL5K","source_expert_name":"DJPFE.C16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":467934,"target_name":"DQAMC.C16L5","target_expert_name":"DQAMC.B16L5","target_label":null,"target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMC","target_type_description":"Acquisition and Monitoring Controller attached to Main Magnets","target_fip_address1":130,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5 \xbb DYPB.B16L5 \xbb DQLPU.C16L5","connection_id":39991394,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504544","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"},{"source_id":124307,"source_name":"CBWJA.C16L5.DL5K","source_expert_name":"DJPFE.C16L5=R52","source_label":null,"source_description":null,"source_pole":null,"source_color":"#9932CC","source_type_name":"HCCBWJA","source_type_description":"WorldFIP Tap Box","source_fip_address1":null,"source_fip_address2":null,"source_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5","target_id":2678653,"target_name":"DQAMG.A16L5","target_expert_name":"DQAMG.B16L5","target_label":"DQAMG - A","target_description":null,"target_pole":null,"target_color":"#666699","target_type_name":"HCDQAMG002","target_type_description":"Acquisition and Monitoring Controller attached to Global Protection, DQAMG type S","target_fip_address1":9,"target_fip_address2":null,"target_path":"CERN \xbb EL \xbb L5 \xbb R52 \xbb R52/C-16L5 \xbb DYPB.B16L5 \xbb DQLPU.E16L5","connection_id":40001575,"connection_type_name":"WORLDFIP DROP","connection_type_description":"WorldFIP Drop Cable","connection_label":null,"connection_description":"DROP DL5K","connection_colour":"#FF8C00","cable_name":"1504544","cable_length":13,"cable_type":"VE4","circuit_name":"CBW.IP5.DL5K","circuit_type_description":"WorldFIP","valid_from_day":"2013-10-14T00:00:00.000+00:00","valid_from_day_label":"14-10-2013","expiry_day":"4000-01-01T00:00:00.000+00:00","expiry_day_label":"ENDLESS"}]'),Bd=n.t(Fd,2);const Wd=["cyContainer"];Ad.use(Nd()),Ad.use(Id()),Ad.use(Od()),Ad.use(kd());const Ud=Array.from(Bd);let Gd=(()=>{class t{constructor(){}setLayout(t){this.cy.layout({name:"null"}).run(),this.cy.layout({name:t}).run()}ngOnInit(){let t=[],e=[];const n={};for(const i of Ud)n[i.source_id]={id:i.source_id,name:i.source_name,expert_name:i.source_expert_name,label:i.source_label,description:i.source_description,pole:i.source_description,color:i.source_color,type_name:i.source_type_name,type_description:i.source_type_description,fip_address1:i.source_fip_address1,fip_address2:i.source_fip_address2,path:i.source_path},t.push({data:{id:""+i.source_id}}),n[i.target_id]={id:i.target_id,name:i.target_name,expert_name:i.target_expert_name,label:i.target_label,description:i.target_description,pole:i.target_description,color:i.target_color,type_name:i.target_type_name,type_description:i.target_type_description,fip_address1:i.target_fip_address1,fip_address2:i.target_fip_address2,path:i.target_path},t.push({data:{id:""+i.target_id}}),e.push({data:{source:""+i.source_id,target:""+i.target_id}});let r=Object.keys(n).map(t=>Number(t)).map(t=>{var e;return{selector:`node[id = '${t}']`,css:{"background-color":n[t].color,label:(null!==(e=n[t].expert_name)&&void 0!==e?e:n[t].name)+(n[t].label?"("+n[t].label+")":"")}}});console.log(n),this.cy=Ad({container:this.cyContainer.nativeElement,elements:[...t,...e],style:[...r,{selector:"node",style:{width:"10",height:"10"}},{selector:"edge",style:{width:"1","line-color":"#000000","curve-style":"bezier","target-arrow-shape":"triangle","target-arrow-color":"#000000"}},{selector:"label",style:{"font-size":"10","text-rotation":"autorotate"}}],layout:{name:"euler"}}),this.cy.on("click","node",function(t){console.log(n[t.target.data("id")])}),this.cy.on("mouseover","node",function(t){var e;let r=n[t.target.data("id")];t.target.style({label:r.path+" "+(null!==(e=r.expert_name)&&void 0!==e?e:r.name)+(r.label?"("+r.label+")":"")})}),this.cy.on("mouseout","node",function(t){var e;let r=n[t.target.data("id")];t.target.style({label:(null!==(e=r.expert_name)&&void 0!==e?e:r.name)+(r.label?"("+r.label+")":"")})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-graph"]],viewQuery:function(t,e){if(1&t&&Sa(Wd,7),2&t){let t;Ia(t=function(t,e){return t[19].queries[e].queryList}(Ee(),Ie()))&&(e.cyContainer=t.first)}},decls:11,vars:0,consts:[["name","Switch Layout"],[3,"click"],[1,"cy-container"],["cyContainer",""]],template:function(t,e){1&t&&(Ki(0,"select",0),Ki(1,"option",1),to("click",function(){return e.setLayout("cola")}),ro(2," Cola Layout"),Ji(),Ki(3,"option",1),to("click",function(){return e.setLayout("grid")}),ro(4," Grid Layout"),Ji(),Ki(5,"option",1),to("click",function(){return e.setLayout("breadthfirst")}),ro(6," BFS Layout"),Ji(),Ki(7,"option",1),to("click",function(){return e.setLayout("avsdf")}),ro(8," AVSDF Layout"),Ji(),Ji(),Qi(9,"div",2,3))},styles:[".cy-container[_ngcontent-%COMP%]{width:875px;height:800px;position:absolute;margin:100px!important}"]}),t})(),Hd=(()=>{class t{constructor(){this.title="TVC"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-root"]],decls:3,vars:1,template:function(t,e){1&t&&(Ki(0,"h2"),ro(1),Ji(),Qi(2,"app-graph")),2&t&&(function(t){zr(Ce(),Ee(),He()+t,Ae())}(1),io(e.title))},directives:[Gd],styles:[""]}),t})(),Vd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t,bootstrap:[Hd]}),t.\u0275inj=ct({providers:[],imports:[[Ml,Dd]]}),t})();(function(){if(fs)throw new Error("Cannot enable prod mode after platform setup.");ps=!1})(),Sl().bootstrapModule(Vd).catch(t=>console.error(t))}},function(t){t(t.s=127)}]);